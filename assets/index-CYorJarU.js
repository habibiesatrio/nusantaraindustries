var C7=Object.defineProperty;var N7=(e,t,n)=>t in e?C7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bm=(e,t,n)=>N7(e,typeof t!="symbol"?t+"":t,n);function I7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ya(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h4={exports:{}},U0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O7=Symbol.for("react.transitional.element"),P7=Symbol.for("react.fragment");function p4(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:O7,type:e,key:r,ref:t!==void 0?t:null,props:n}}U0.Fragment=P7;U0.jsx=p4;U0.jsxs=p4;h4.exports=U0;var b=h4.exports,m4={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS=Symbol.for("react.transitional.element"),k7=Symbol.for("react.portal"),R7=Symbol.for("react.fragment"),M7=Symbol.for("react.strict_mode"),D7=Symbol.for("react.profiler"),j7=Symbol.for("react.consumer"),L7=Symbol.for("react.context"),z7=Symbol.for("react.forward_ref"),U7=Symbol.for("react.suspense"),V7=Symbol.for("react.memo"),g4=Symbol.for("react.lazy"),B7=Symbol.for("react.activity"),ZI=Symbol.iterator;function $7(e){return e===null||typeof e!="object"?null:(e=ZI&&e[ZI]||e["@@iterator"],typeof e=="function"?e:null)}var y4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v4=Object.assign,_4={};function hf(e,t,n){this.props=e,this.context=t,this.refs=_4,this.updater=n||y4}hf.prototype.isReactComponent={};hf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b4(){}b4.prototype=hf.prototype;function qS(e,t,n){this.props=e,this.context=t,this.refs=_4,this.updater=n||y4}var GS=qS.prototype=new b4;GS.constructor=qS;v4(GS,hf.prototype);GS.isPureReactComponent=!0;var JI=Array.isArray;function Kw(){}var mt={H:null,A:null,T:null,S:null},x4=Object.prototype.hasOwnProperty;function KS(e,t,n){var r=n.ref;return{$$typeof:HS,type:e,key:t,ref:r!==void 0?r:null,props:n}}function F7(e,t){return KS(e.type,t,e.props)}function YS(e){return typeof e=="object"&&e!==null&&e.$$typeof===HS}function H7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var eO=/\/+/g;function cx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H7(""+e.key):t.toString(36)}function q7(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Kw,Kw):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function $u(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case HS:case k7:s=!0;break;case g4:return s=e._init,$u(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+cx(e,0):r,JI(i)?(n="",s!=null&&(n=s.replace(eO,"$&/")+"/"),$u(i,t,n,"",function(u){return u})):i!=null&&(YS(i)&&(i=F7(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(eO,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=r===""?".":r+":";if(JI(e))for(var l=0;l<e.length;l++)r=e[l],a=o+cx(r,l),s+=$u(r,t,n,a,i);else if(l=$7(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,a=o+cx(r,l++),s+=$u(r,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return $u(q7(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function $m(e,t,n){if(e==null)return e;var r=[],i=0;return $u(e,r,"","",function(a){return t.call(n,a,i++)}),r}function G7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tO=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},K7={map:$m,forEach:function(e,t,n){$m(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $m(e,function(){t++}),t},toArray:function(e){return $m(e,function(t){return t})||[]},only:function(e){if(!YS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Activity=B7;be.Children=K7;be.Component=hf;be.Fragment=R7;be.Profiler=D7;be.PureComponent=qS;be.StrictMode=M7;be.Suspense=U7;be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt;be.__COMPILER_RUNTIME={__proto__:null,c:function(e){return mt.H.useMemoCache(e)}};be.cache=function(e){return function(){return e.apply(null,arguments)}};be.cacheSignal=function(){return null};be.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=v4({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)!x4.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return KS(e.type,i,r)};be.createContext=function(e){return e={$$typeof:L7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:j7,_context:e},e};be.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)x4.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return KS(e,a,i)};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:z7,render:e}};be.isValidElement=YS;be.lazy=function(e){return{$$typeof:g4,_payload:{_status:-1,_result:e},_init:G7}};be.memo=function(e,t){return{$$typeof:V7,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=mt.T,n={};mt.T=n;try{var r=e(),i=mt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Kw,tO)}catch(a){tO(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),mt.T=t}};be.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()};be.use=function(e){return mt.H.use(e)};be.useActionState=function(e,t,n){return mt.H.useActionState(e,t,n)};be.useCallback=function(e,t){return mt.H.useCallback(e,t)};be.useContext=function(e){return mt.H.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e,t){return mt.H.useDeferredValue(e,t)};be.useEffect=function(e,t){return mt.H.useEffect(e,t)};be.useEffectEvent=function(e){return mt.H.useEffectEvent(e)};be.useId=function(){return mt.H.useId()};be.useImperativeHandle=function(e,t,n){return mt.H.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return mt.H.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return mt.H.useLayoutEffect(e,t)};be.useMemo=function(e,t){return mt.H.useMemo(e,t)};be.useOptimistic=function(e,t){return mt.H.useOptimistic(e,t)};be.useReducer=function(e,t,n){return mt.H.useReducer(e,t,n)};be.useRef=function(e){return mt.H.useRef(e)};be.useState=function(e){return mt.H.useState(e)};be.useSyncExternalStore=function(e,t,n){return mt.H.useSyncExternalStore(e,t,n)};be.useTransition=function(){return mt.H.useTransition()};be.version="19.2.4";m4.exports=be;var v=m4.exports;const K=ya(v),Y7=I7({__proto__:null,default:K},[v]);var w4={exports:{}},V0={},E4={exports:{}},S4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,V){var B=L.length;L.push(V);e:for(;0<B;){var U=B-1>>>1,F=L[U];if(0<i(F,V))L[U]=V,L[B]=F,B=U;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],B=L.pop();if(B!==V){L[0]=B;e:for(var U=0,F=L.length,Y=F>>>1;U<Y;){var X=2*(U+1)-1,re=L[X],ee=X+1,se=L[ee];if(0>i(re,B))ee<F&&0>i(se,re)?(L[U]=se,L[ee]=B,U=ee):(L[U]=re,L[X]=B,U=X);else if(ee<F&&0>i(se,B))L[U]=se,L[ee]=B,U=ee;else break e}}return V}function i(L,V){var B=L.sortIndex-V.sortIndex;return B!==0?B:L.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function S(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function P(L){if(g=!1,S(L),!m)if(n(l)!==null)m=!0,M||(M=!0,k());else{var V=n(u);V!==null&&z(P,V.startTime-L)}}var M=!1,T=-1,A=5,C=-1;function I(){return _?!0:!(e.unstable_now()-C<A)}function O(){if(_=!1,M){var L=e.unstable_now();C=L;var V=!0;try{e:{m=!1,g&&(g=!1,x(T),T=-1),p=!0;var B=d;try{t:{for(S(L),f=n(l);f!==null&&!(f.expirationTime>L&&I());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var F=U(f.expirationTime<=L);if(L=e.unstable_now(),typeof F=="function"){f.callback=F,S(L),V=!0;break t}f===n(l)&&r(l),S(L)}else r(l);f=n(l)}if(f!==null)V=!0;else{var Y=n(u);Y!==null&&z(P,Y.startTime-L),V=!1}}break e}finally{f=null,d=B,p=!1}V=void 0}}finally{V?k():M=!1}}}var k;if(typeof E=="function")k=function(){E(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,D=R.port2;R.port1.onmessage=O,k=function(){D.postMessage(null)}}else k=function(){y(O,0)};function z(L,V){T=y(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(L){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var B=d;d=V;try{return L()}finally{d=B}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=d;d=L;try{return V()}finally{d=B}},e.unstable_scheduleCallback=function(L,V,B){var U=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,L){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=B+F,L={id:c++,callback:V,priorityLevel:L,startTime:B,expirationTime:F,sortIndex:-1},B>U?(L.sortIndex=B,t(u,L),n(l)===null&&L===n(u)&&(g?(x(T),T=-1):g=!0,z(P,B-U))):(L.sortIndex=F,t(l,L),m||p||(m=!0,M||(M=!0,k()))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var V=d;return function(){var B=d;d=V;try{return L.apply(this,arguments)}finally{d=B}}}})(S4);E4.exports=S4;var W7=E4.exports,T4={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X7=v;function A4(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Us(){}var qn={d:{f:Us,r:function(){throw Error(A4(522))},D:Us,C:Us,L:Us,m:Us,X:Us,S:Us,M:Us},p:0,findDOMNode:null},Q7=Symbol.for("react.portal");function Z7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q7,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Kd=X7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B0(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(A4(299));return Z7(e,t,null,n)};Qn.flushSync=function(e){var t=Kd.T,n=qn.p;try{if(Kd.T=null,qn.p=2,e)return e()}finally{Kd.T=t,qn.p=n,qn.d.f()}};Qn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,qn.d.C(e,t))};Qn.prefetchDNS=function(e){typeof e=="string"&&qn.d.D(e)};Qn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=B0(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?qn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&qn.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Qn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=B0(t.as,t.crossOrigin);qn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&qn.d.M(e)};Qn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=B0(n,t.crossOrigin);qn.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Qn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=B0(t.as,t.crossOrigin);qn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else qn.d.m(e)};Qn.requestFormReset=function(e){qn.d.r(e)};Qn.unstable_batchedUpdates=function(e,t){return e(t)};Qn.useFormState=function(e,t,n){return Kd.H.useFormState(e,t,n)};Qn.useFormStatus=function(){return Kd.H.useHostTransitionStatus()};Qn.version="19.2.4";function C4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C4)}catch(e){console.error(e)}}C4(),T4.exports=Qn;var $0=T4.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=W7,N4=v,J7=$0;function W(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function I4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ep(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function O4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P4(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nO(e){if(Ep(e)!==e)throw Error(W(188))}function eq(e){var t=e.alternate;if(!t){if(t=Ep(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nO(i),e;if(a===r)return nO(i),t;a=a.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function k4(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=k4(e),t!==null)return t;e=e.sibling}return null}var gt=Object.assign,tq=Symbol.for("react.element"),Fm=Symbol.for("react.transitional.element"),kd=Symbol.for("react.portal"),Yu=Symbol.for("react.fragment"),R4=Symbol.for("react.strict_mode"),Yw=Symbol.for("react.profiler"),M4=Symbol.for("react.consumer"),Ma=Symbol.for("react.context"),WS=Symbol.for("react.forward_ref"),Ww=Symbol.for("react.suspense"),Xw=Symbol.for("react.suspense_list"),XS=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),Qw=Symbol.for("react.activity"),nq=Symbol.for("react.memo_cache_sentinel"),rO=Symbol.iterator;function id(e){return e===null||typeof e!="object"?null:(e=rO&&e[rO]||e["@@iterator"],typeof e=="function"?e:null)}var rq=Symbol.for("react.client.reference");function Zw(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===rq?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yu:return"Fragment";case Yw:return"Profiler";case R4:return"StrictMode";case Ww:return"Suspense";case Xw:return"SuspenseList";case Qw:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case kd:return"Portal";case Ma:return e.displayName||"Context";case M4:return(e._context.displayName||"Context")+".Consumer";case WS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XS:return t=e.displayName||null,t!==null?t:Zw(e.type)||"Memo";case $s:t=e._payload,e=e._init;try{return Zw(e(t))}catch{}}return null}var Rd=Array.isArray,ye=N4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe=J7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Al={pending:!1,data:null,method:null,action:null},Jw=[],Wu=-1;function va(e){return{current:e}}function dn(e){0>Wu||(e.current=Jw[Wu],Jw[Wu]=null,Wu--)}function ot(e,t){Wu++,Jw[Wu]=e.current,e.current=t}var ia=va(null),xh=va(null),co=va(null),Ty=va(null);function Ay(e,t){switch(ot(co,t),ot(xh,e),ot(ia,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?u2(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=u2(t),e=e5(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}dn(ia),ot(ia,e)}function Pc(){dn(ia),dn(xh),dn(co)}function e1(e){e.memoizedState!==null&&ot(Ty,e);var t=ia.current,n=e5(t,e.type);t!==n&&(ot(xh,e),ot(ia,n))}function Cy(e){xh.current===e&&(dn(ia),dn(xh)),Ty.current===e&&(dn(Ty),kh._currentValue=Al)}var fx,iO;function ll(e){if(fx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fx=t&&t[1]||"",iO=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fx+e+iO}var dx=!1;function hx(e,t){if(!e||dx)return"";dx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){d=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{dx=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ll(n):""}function iq(e,t){switch(e.tag){case 26:case 27:case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return e.child!==t&&t!==null?ll("Suspense Fallback"):ll("Suspense");case 19:return ll("SuspenseList");case 0:case 15:return hx(e.type,!1);case 11:return hx(e.type.render,!1);case 1:return hx(e.type,!0);case 31:return ll("Activity");default:return""}}function aO(e){try{var t="",n=null;do t+=iq(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var t1=Object.prototype.hasOwnProperty,QS=Qt.unstable_scheduleCallback,px=Qt.unstable_cancelCallback,aq=Qt.unstable_shouldYield,sq=Qt.unstable_requestPaint,Or=Qt.unstable_now,oq=Qt.unstable_getCurrentPriorityLevel,D4=Qt.unstable_ImmediatePriority,j4=Qt.unstable_UserBlockingPriority,Ny=Qt.unstable_NormalPriority,lq=Qt.unstable_LowPriority,L4=Qt.unstable_IdlePriority,uq=Qt.log,cq=Qt.unstable_setDisableYieldValue,Sp=null,Pr=null;function io(e){if(typeof uq=="function"&&cq(e),Pr&&typeof Pr.setStrictMode=="function")try{Pr.setStrictMode(Sp,e)}catch{}}var kr=Math.clz32?Math.clz32:hq,fq=Math.log,dq=Math.LN2;function hq(e){return e>>>=0,e===0?32:31-(fq(e)/dq|0)|0}var Hm=256,qm=262144,Gm=4194304;function ul(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function F0(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=ul(r):(s&=o,s!==0?i=ul(s):n||(n=o&~e,n!==0&&(i=ul(n))))):(o=r&~a,o!==0?i=ul(o):s!==0?i=ul(s):n||(n=r&~e,n!==0&&(i=ul(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function Tp(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function pq(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z4(){var e=Gm;return Gm<<=1,!(Gm&62914560)&&(Gm=4194304),e}function mx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ap(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mq(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-kr(n),f=1<<c;o[c]=0,l[c]=-1;var d=u[c];if(d!==null)for(u[c]=null,c=0;c<d.length;c++){var p=d[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&U4(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function U4(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-kr(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function V4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function B4(e,t){var n=t&-t;return n=n&42?1:ZS(n),n&(e.suspendedLanes|t)?0:n}function ZS(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function JS(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function $4(){var e=Fe.p;return e!==0?e:(e=window.event,e===void 0?32:f5(e.type))}function sO(e,t){var n=Fe.p;try{return Fe.p=e,t()}finally{Fe.p=n}}var Ho=Math.random().toString(36).slice(2),An="__reactFiber$"+Ho,dr="__reactProps$"+Ho,pf="__reactContainer$"+Ho,n1="__reactEvents$"+Ho,gq="__reactListeners$"+Ho,yq="__reactHandles$"+Ho,oO="__reactResources$"+Ho,Cp="__reactMarker$"+Ho;function eT(e){delete e[An],delete e[dr],delete e[n1],delete e[gq],delete e[yq]}function Xu(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pf]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p2(e);e!==null;){if(n=e[An])return n;e=p2(e)}return t}e=n,n=e.parentNode}return null}function mf(e){if(e=e[An]||e[pf]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Md(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(W(33))}function fc(e){var t=e[oO];return t||(t=e[oO]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function un(e){e[Cp]=!0}var F4=new Set,H4={};function ou(e,t){kc(e,t),kc(e+"Capture",t)}function kc(e,t){for(H4[e]=t,e=0;e<t.length;e++)F4.add(t[e])}var vq=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lO={},uO={};function _q(e){return t1.call(uO,e)?!0:t1.call(lO,e)?!1:vq.test(e)?uO[e]=!0:(lO[e]=!0,!1)}function zg(e,t,n){if(_q(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Km(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sa(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Gr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bq(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function r1(e){if(!e._valueTracker){var t=q4(e)?"checked":"value";e._valueTracker=bq(e,t,""+e[t])}}function G4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Iy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xq=/[\n"\\]/g;function Wr(e){return e.replace(xq,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function i1(e,t,n,r,i,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gr(t)):e.value!==""+Gr(t)&&(e.value=""+Gr(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?a1(e,s,Gr(t)):n!=null?a1(e,s,Gr(n)):r!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Gr(o):e.removeAttribute("name")}function K4(e,t,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){r1(e);return}n=n!=null?""+Gr(n):"",t=t!=null?""+Gr(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),r1(e)}function a1(e,t,n){t==="number"&&Iy(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function dc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Y4(e,t,n){if(t!=null&&(t=""+Gr(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gr(n):""}function W4(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(W(92));if(Rd(r)){if(1<r.length)throw Error(W(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Gr(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),r1(e)}function Rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wq=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cO(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||wq.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function X4(e,t,n){if(t!=null&&typeof t!="object")throw Error(W(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&cO(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&cO(e,a,t[a])}function tT(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eq=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sq=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ug(e){return Sq.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Da(){}var s1=null;function nT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qu=null,hc=null;function fO(e){var t=mf(e);if(t&&(e=t.stateNode)){var n=e[dr]||null;e:switch(e=t.stateNode,t.type){case"input":if(i1(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Wr(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[dr]||null;if(!i)throw Error(W(90));i1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&G4(r)}break e;case"textarea":Y4(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&dc(e,!!n.multiple,t,!1)}}}var gx=!1;function Q4(e,t,n){if(gx)return e(t,n);gx=!0;try{var r=e(t);return r}finally{if(gx=!1,(Qu!==null||hc!==null)&&(t_(),Qu&&(t=Qu,e=hc,hc=Qu=null,fO(t),e)))for(t=0;t<e.length;t++)fO(e[t])}}function wh(e,t){var n=e.stateNode;if(n===null)return null;var r=n[dr]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=!1;if(Qa)try{var ad={};Object.defineProperty(ad,"passive",{get:function(){o1=!0}}),window.addEventListener("test",ad,ad),window.removeEventListener("test",ad,ad)}catch{o1=!1}var ao=null,rT=null,Vg=null;function Z4(){if(Vg)return Vg;var e,t=rT,n=t.length,r,i="value"in ao?ao.value:ao.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Vg=i.slice(e,1<r?1-r:void 0)}function Bg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ym(){return!0}function dO(){return!1}function mr(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ym:dO,this.isPropagationStopped=dO,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ym)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ym)},persist:function(){},isPersistent:Ym}),t}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H0=mr(lu),Np=gt({},lu,{view:0,detail:0}),Tq=mr(Np),yx,vx,sd,q0=gt({},Np,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sd&&(sd&&e.type==="mousemove"?(yx=e.screenX-sd.screenX,vx=e.screenY-sd.screenY):vx=yx=0,sd=e),yx)},movementY:function(e){return"movementY"in e?e.movementY:vx}}),hO=mr(q0),Aq=gt({},q0,{dataTransfer:0}),Cq=mr(Aq),Nq=gt({},Np,{relatedTarget:0}),_x=mr(Nq),Iq=gt({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),Oq=mr(Iq),Pq=gt({},lu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kq=mr(Pq),Rq=gt({},lu,{data:0}),pO=mr(Rq),Mq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jq[e])?!!t[e]:!1}function iT(){return Lq}var zq=gt({},Np,{key:function(e){if(e.key){var t=Mq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dq[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(e){return e.type==="keypress"?Bg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uq=mr(zq),Vq=gt({},q0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mO=mr(Vq),Bq=gt({},Np,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),$q=mr(Bq),Fq=gt({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hq=mr(Fq),qq=gt({},q0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gq=mr(qq),Kq=gt({},lu,{newState:0,oldState:0}),Yq=mr(Kq),Wq=[9,13,27,32],aT=Qa&&"CompositionEvent"in window,Yd=null;Qa&&"documentMode"in document&&(Yd=document.documentMode);var Xq=Qa&&"TextEvent"in window&&!Yd,J4=Qa&&(!aT||Yd&&8<Yd&&11>=Yd),gO=" ",yO=!1;function eL(e,t){switch(e){case"keyup":return Wq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zu=!1;function Qq(e,t){switch(e){case"compositionend":return tL(t);case"keypress":return t.which!==32?null:(yO=!0,gO);case"textInput":return e=t.data,e===gO&&yO?null:e;default:return null}}function Zq(e,t){if(Zu)return e==="compositionend"||!aT&&eL(e,t)?(e=Z4(),Vg=rT=ao=null,Zu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J4&&t.locale!=="ko"?null:t.data;default:return null}}var Jq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jq[e.type]:t==="textarea"}function nL(e,t,n,r){Qu?hc?hc.push(r):hc=[r]:Qu=r,t=Ky(t,"onChange"),0<t.length&&(n=new H0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wd=null,Eh=null;function eG(e){Q3(e,0)}function G0(e){var t=Md(e);if(G4(t))return e}function _O(e,t){if(e==="change")return t}var rL=!1;if(Qa){var bx;if(Qa){var xx="oninput"in document;if(!xx){var bO=document.createElement("div");bO.setAttribute("oninput","return;"),xx=typeof bO.oninput=="function"}bx=xx}else bx=!1;rL=bx&&(!document.documentMode||9<document.documentMode)}function xO(){Wd&&(Wd.detachEvent("onpropertychange",iL),Eh=Wd=null)}function iL(e){if(e.propertyName==="value"&&G0(Eh)){var t=[];nL(t,Eh,e,nT(e)),Q4(eG,t)}}function tG(e,t,n){e==="focusin"?(xO(),Wd=t,Eh=n,Wd.attachEvent("onpropertychange",iL)):e==="focusout"&&xO()}function nG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G0(Eh)}function rG(e,t){if(e==="click")return G0(t)}function iG(e,t){if(e==="input"||e==="change")return G0(t)}function aG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:aG;function Sh(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t1.call(t,i)||!Dr(e[i],t[i]))return!1}return!0}function wO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function EO(e,t){var n=wO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wO(n)}}function aL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sL(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Iy(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Iy(e.document)}return t}function sT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sG=Qa&&"documentMode"in document&&11>=document.documentMode,Ju=null,l1=null,Xd=null,u1=!1;function SO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;u1||Ju==null||Ju!==Iy(r)||(r=Ju,"selectionStart"in r&&sT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xd&&Sh(Xd,r)||(Xd=r,r=Ky(l1,"onSelect"),0<r.length&&(t=new H0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ju)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ec={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},wx={},oL={};Qa&&(oL=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function uu(e){if(wx[e])return wx[e];if(!ec[e])return e;var t=ec[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oL)return wx[e]=t[n];return e}var lL=uu("animationend"),uL=uu("animationiteration"),cL=uu("animationstart"),oG=uu("transitionrun"),lG=uu("transitionstart"),uG=uu("transitioncancel"),fL=uu("transitionend"),dL=new Map,c1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");c1.push("scrollEnd");function Mi(e,t){dL.set(e,t),ou(t,[e])}var Oy=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qr=[],tc=0,oT=0;function K0(){for(var e=tc,t=oT=tc=0;t<e;){var n=qr[t];qr[t++]=null;var r=qr[t];qr[t++]=null;var i=qr[t];qr[t++]=null;var a=qr[t];if(qr[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&hL(n,i,a)}}function Y0(e,t,n,r){qr[tc++]=e,qr[tc++]=t,qr[tc++]=n,qr[tc++]=r,oT|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function lT(e,t,n,r){return Y0(e,t,n,r),Py(e)}function cu(e,t){return Y0(e,null,null,t),Py(e)}function hL(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-kr(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Py(e){if(50<ah)throw ah=0,P1=null,Error(W(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var nc={};function cG(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,n,r){return new cG(e,t,n,r)}function uT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fa(e,t){var n=e.alternate;return n===null?(n=Sr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function pL(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $g(e,t,n,r,i,a){var s=0;if(r=e,typeof e=="function")uT(e)&&(s=1);else if(typeof e=="string")s=mK(e,n,ia.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qw:return e=Sr(31,n,t,i),e.elementType=Qw,e.lanes=a,e;case Yu:return Cl(n.children,i,a,t);case R4:s=8,i|=24;break;case Yw:return e=Sr(12,n,t,i|2),e.elementType=Yw,e.lanes=a,e;case Ww:return e=Sr(13,n,t,i),e.elementType=Ww,e.lanes=a,e;case Xw:return e=Sr(19,n,t,i),e.elementType=Xw,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ma:s=10;break e;case M4:s=9;break e;case WS:s=11;break e;case XS:s=14;break e;case $s:s=16,r=null;break e}s=29,n=Error(W(130,e===null?"null":typeof e,"")),r=null}return t=Sr(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Cl(e,t,n,r){return e=Sr(7,e,r,t),e.lanes=n,e}function Ex(e,t,n){return e=Sr(6,e,null,t),e.lanes=n,e}function mL(e){var t=Sr(18,null,null,0);return t.stateNode=e,t}function Sx(e,t,n){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var TO=new WeakMap;function Xr(e,t){if(typeof e=="object"&&e!==null){var n=TO.get(e);return n!==void 0?n:(t={value:e,source:t,stack:aO(t)},TO.set(e,t),t)}return{value:e,source:t,stack:aO(t)}}var rc=[],ic=0,ky=null,Th=0,Kr=[],Yr=0,Oo=null,Zi=1,Ji="";function Oa(e,t){rc[ic++]=Th,rc[ic++]=ky,ky=e,Th=t}function gL(e,t,n){Kr[Yr++]=Zi,Kr[Yr++]=Ji,Kr[Yr++]=Oo,Oo=e;var r=Zi;e=Ji;var i=32-kr(r)-1;r&=~(1<<i),n+=1;var a=32-kr(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zi=1<<32-kr(t)+i|n<<i|r,Ji=a+e}else Zi=1<<a|n<<i|r,Ji=e}function cT(e){e.return!==null&&(Oa(e,1),gL(e,1,0))}function fT(e){for(;e===ky;)ky=rc[--ic],rc[ic]=null,Th=rc[--ic],rc[ic]=null;for(;e===Oo;)Oo=Kr[--Yr],Kr[Yr]=null,Ji=Kr[--Yr],Kr[Yr]=null,Zi=Kr[--Yr],Kr[Yr]=null}function yL(e,t){Kr[Yr++]=Zi,Kr[Yr++]=Ji,Kr[Yr++]=Oo,Zi=t.id,Ji=t.overflow,Oo=e}var Cn=null,pt=null,Le=!1,fo=null,Qr=!1,f1=Error(W(519));function Po(e){var t=Error(W(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ah(Xr(t,e)),f1}function AO(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[An]=e,t[dr]=r,n){case"dialog":Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":case"embed":Oe("load",t);break;case"video":case"audio":for(n=0;n<Oh.length;n++)Oe(Oh[n],t);break;case"source":Oe("error",t);break;case"img":case"image":case"link":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"input":Oe("invalid",t),K4(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Oe("invalid",t);break;case"textarea":Oe("invalid",t),W4(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||J3(t.textContent,n)?(r.popover!=null&&(Oe("beforetoggle",t),Oe("toggle",t)),r.onScroll!=null&&Oe("scroll",t),r.onScrollEnd!=null&&Oe("scrollend",t),r.onClick!=null&&(t.onclick=Da),t=!0):t=!1,t||Po(e,!0)}function CO(e){for(Cn=e.return;Cn;)switch(Cn.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Cn=Cn.return}}function Ou(e){if(e!==Cn)return!1;if(!Le)return CO(e),Le=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||j1(e.type,e.memoizedProps)),n=!n),n&&pt&&Po(e),CO(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));pt=h2(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));pt=h2(e)}else t===27?(t=pt,qo(e.type)?(e=V1,V1=null,pt=e):pt=t):pt=Cn?ni(e.stateNode.nextSibling):null;return!0}function jl(){pt=Cn=null,Le=!1}function Tx(){var e=fo;return e!==null&&(ar===null?ar=e:ar.push.apply(ar,e),fo=null),e}function Ah(e){fo===null?fo=[e]:fo.push(e)}var d1=va(null),fu=null,ja=null;function Ys(e,t,n){ot(d1,t._currentValue),t._currentValue=n}function Ha(e){e._currentValue=d1.current,dn(d1)}function h1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function p1(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<t.length;l++)if(o.context===t[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),h1(a.return,n,e),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(W(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),h1(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function gf(e,t,n,r){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(W(387));if(s=s.memoizedProps,s!==null){var o=i.type;Dr(i.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(i===Ty.current){if(s=i.alternate,s===null)throw Error(W(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(kh):e=[kh])}i=i.return}e!==null&&p1(t,e,n,r),t.flags|=262144}function Ry(e){for(e=e.firstContext;e!==null;){if(!Dr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ll(e){fu=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function In(e){return vL(fu,e)}function Wm(e,t){return fu===null&&Ll(e),vL(e,t)}function vL(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ja===null){if(e===null)throw Error(W(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return n}var fG=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},dG=Qt.unstable_scheduleCallback,hG=Qt.unstable_NormalPriority,Bt={$$typeof:Ma,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dT(){return{controller:new fG,data:new Map,refCount:0}}function Ip(e){e.refCount--,e.refCount===0&&dG(hG,function(){e.controller.abort()})}var Qd=null,m1=0,Mc=0,pc=null;function pG(e,t){if(Qd===null){var n=Qd=[];m1=0,Mc=LT(),pc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return m1++,t.then(NO,NO),t}function NO(){if(--m1===0&&Qd!==null){pc!==null&&(pc.status="fulfilled");var e=Qd;Qd=null,Mc=0,pc=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mG(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var IO=ye.S;ye.S=function(e,t){k3=Or(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&pG(e,t),IO!==null&&IO(e,t)};var Nl=va(null);function hT(){var e=Nl.current;return e!==null?e:tt.pooledCache}function Fg(e,t){t===null?ot(Nl,Nl.current):ot(Nl,t.pool)}function _L(){var e=hT();return e===null?null:{parent:Bt._currentValue,pool:e}}var yf=Error(W(460)),pT=Error(W(474)),W0=Error(W(542)),My={then:function(){}};function OO(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bL(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Da,Da),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kO(e),e;default:if(typeof t.status=="string")t.then(Da,Da);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(W(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kO(e),e}throw Il=t,yf}}function cl(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Il=n,yf):n}}var Il=null;function PO(){if(Il===null)throw Error(W(459));var e=Il;return Il=null,e}function kO(e){if(e===yf||e===W0)throw Error(W(483))}var mc=null,Ch=0;function Xm(e){var t=Ch;return Ch+=1,mc===null&&(mc=[]),bL(mc,e,t)}function od(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qm(e,t){throw t.$$typeof===tq?Error(W(525)):(e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xL(e){function t(y,x){if(e){var E=y.deletions;E===null?(y.deletions=[x],y.flags|=16):E.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(y,x){return y=Fa(y,x),y.index=0,y.sibling=null,y}function a(y,x,E){return y.index=E,e?(E=y.alternate,E!==null?(E=E.index,E<x?(y.flags|=67108866,x):E):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,x,E,S){return x===null||x.tag!==6?(x=Ex(E,y.mode,S),x.return=y,x):(x=i(x,E),x.return=y,x)}function l(y,x,E,S){var P=E.type;return P===Yu?c(y,x,E.props.children,S,E.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===$s&&cl(P)===x.type)?(x=i(x,E.props),od(x,E),x.return=y,x):(x=$g(E.type,E.key,E.props,null,y.mode,S),od(x,E),x.return=y,x)}function u(y,x,E,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Sx(E,y.mode,S),x.return=y,x):(x=i(x,E.children||[]),x.return=y,x)}function c(y,x,E,S,P){return x===null||x.tag!==7?(x=Cl(E,y.mode,S,P),x.return=y,x):(x=i(x,E),x.return=y,x)}function f(y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ex(""+x,y.mode,E),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fm:return E=$g(x.type,x.key,x.props,null,y.mode,E),od(E,x),E.return=y,E;case kd:return x=Sx(x,y.mode,E),x.return=y,x;case $s:return x=cl(x),f(y,x,E)}if(Rd(x)||id(x))return x=Cl(x,y.mode,E,null),x.return=y,x;if(typeof x.then=="function")return f(y,Xm(x),E);if(x.$$typeof===Ma)return f(y,Wm(y,x),E);Qm(y,x)}return null}function d(y,x,E,S){var P=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return P!==null?null:o(y,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fm:return E.key===P?l(y,x,E,S):null;case kd:return E.key===P?u(y,x,E,S):null;case $s:return E=cl(E),d(y,x,E,S)}if(Rd(E)||id(E))return P!==null?null:c(y,x,E,S,null);if(typeof E.then=="function")return d(y,x,Xm(E),S);if(E.$$typeof===Ma)return d(y,x,Wm(y,E),S);Qm(y,E)}return null}function p(y,x,E,S,P){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return y=y.get(E)||null,o(x,y,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fm:return y=y.get(S.key===null?E:S.key)||null,l(x,y,S,P);case kd:return y=y.get(S.key===null?E:S.key)||null,u(x,y,S,P);case $s:return S=cl(S),p(y,x,E,S,P)}if(Rd(S)||id(S))return y=y.get(E)||null,c(x,y,S,P,null);if(typeof S.then=="function")return p(y,x,E,Xm(S),P);if(S.$$typeof===Ma)return p(y,x,E,Wm(x,S),P);Qm(x,S)}return null}function m(y,x,E,S){for(var P=null,M=null,T=x,A=x=0,C=null;T!==null&&A<E.length;A++){T.index>A?(C=T,T=null):C=T.sibling;var I=d(y,T,E[A],S);if(I===null){T===null&&(T=C);break}e&&T&&I.alternate===null&&t(y,T),x=a(I,x,A),M===null?P=I:M.sibling=I,M=I,T=C}if(A===E.length)return n(y,T),Le&&Oa(y,A),P;if(T===null){for(;A<E.length;A++)T=f(y,E[A],S),T!==null&&(x=a(T,x,A),M===null?P=T:M.sibling=T,M=T);return Le&&Oa(y,A),P}for(T=r(T);A<E.length;A++)C=p(T,y,A,E[A],S),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?A:C.key),x=a(C,x,A),M===null?P=C:M.sibling=C,M=C);return e&&T.forEach(function(O){return t(y,O)}),Le&&Oa(y,A),P}function g(y,x,E,S){if(E==null)throw Error(W(151));for(var P=null,M=null,T=x,A=x=0,C=null,I=E.next();T!==null&&!I.done;A++,I=E.next()){T.index>A?(C=T,T=null):C=T.sibling;var O=d(y,T,I.value,S);if(O===null){T===null&&(T=C);break}e&&T&&O.alternate===null&&t(y,T),x=a(O,x,A),M===null?P=O:M.sibling=O,M=O,T=C}if(I.done)return n(y,T),Le&&Oa(y,A),P;if(T===null){for(;!I.done;A++,I=E.next())I=f(y,I.value,S),I!==null&&(x=a(I,x,A),M===null?P=I:M.sibling=I,M=I);return Le&&Oa(y,A),P}for(T=r(T);!I.done;A++,I=E.next())I=p(T,y,A,I.value,S),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?A:I.key),x=a(I,x,A),M===null?P=I:M.sibling=I,M=I);return e&&T.forEach(function(k){return t(y,k)}),Le&&Oa(y,A),P}function _(y,x,E,S){if(typeof E=="object"&&E!==null&&E.type===Yu&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Fm:e:{for(var P=E.key;x!==null;){if(x.key===P){if(P=E.type,P===Yu){if(x.tag===7){n(y,x.sibling),S=i(x,E.props.children),S.return=y,y=S;break e}}else if(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===$s&&cl(P)===x.type){n(y,x.sibling),S=i(x,E.props),od(S,E),S.return=y,y=S;break e}n(y,x);break}else t(y,x);x=x.sibling}E.type===Yu?(S=Cl(E.props.children,y.mode,S,E.key),S.return=y,y=S):(S=$g(E.type,E.key,E.props,null,y.mode,S),od(S,E),S.return=y,y=S)}return s(y);case kd:e:{for(P=E.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(y,x.sibling),S=i(x,E.children||[]),S.return=y,y=S;break e}else{n(y,x);break}else t(y,x);x=x.sibling}S=Sx(E,y.mode,S),S.return=y,y=S}return s(y);case $s:return E=cl(E),_(y,x,E,S)}if(Rd(E))return m(y,x,E,S);if(id(E)){if(P=id(E),typeof P!="function")throw Error(W(150));return E=P.call(E),g(y,x,E,S)}if(typeof E.then=="function")return _(y,x,Xm(E),S);if(E.$$typeof===Ma)return _(y,x,Wm(y,E),S);Qm(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,x!==null&&x.tag===6?(n(y,x.sibling),S=i(x,E),S.return=y,y=S):(n(y,x),S=Ex(E,y.mode,S),S.return=y,y=S),s(y)):n(y,x)}return function(y,x,E,S){try{Ch=0;var P=_(y,x,E,S);return mc=null,P}catch(T){if(T===yf||T===W0)throw T;var M=Sr(29,T,null,y.mode);return M.lanes=S,M.return=y,M}finally{}}}var zl=xL(!0),wL=xL(!1),Fs=!1;function mT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function g1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ho(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function po(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Py(e),hL(e,null,n),t}return Y0(e,r,t,n),Py(e)}function Zd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,V4(e,n)}}function Ax(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var y1=!1;function Jd(){if(y1){var e=pc;if(e!==null)throw e}}function eh(e,t,n,r){y1=!1;var i=e.updateQueue;Fs=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(Me&d)===d:(r&d)===d){d!==0&&d===Mc&&(y1=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;d=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(_,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(_,f,d):m,d==null)break e;f=gt({},f,d);break e;case 2:Fs=!0}}d=o.callback,d!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),Ro|=s,e.lanes=s,e.memoizedState=f}}function EL(e,t){if(typeof e!="function")throw Error(W(191,e));e.call(t)}function SL(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)EL(n[e],t)}var Dc=va(null),Dy=va(0);function RO(e,t){e=ts,ot(Dy,e),ot(Dc,t),ts=e|t.baseLanes}function v1(){ot(Dy,ts),ot(Dc,Dc.current)}function gT(){ts=Dy.current,dn(Dc),dn(Dy)}var jr=va(null),ti=null;function Ws(e){var t=e.alternate;ot(jt,jt.current&1),ot(jr,e),ti===null&&(t===null||Dc.current!==null||t.memoizedState!==null)&&(ti=e)}function _1(e){ot(jt,jt.current),ot(jr,e),ti===null&&(ti=e)}function TL(e){e.tag===22?(ot(jt,jt.current),ot(jr,e),ti===null&&(ti=e)):Xs()}function Xs(){ot(jt,jt.current),ot(jr,jr.current)}function Er(e){dn(jr),ti===e&&(ti=null),dn(jt)}var jt=va(0);function jy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||z1(n)||U1(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Za=0,we=null,Ze=null,Ut=null,Ly=!1,gc=!1,Ul=!1,zy=0,Nh=0,yc=null,gG=0;function Ct(){throw Error(W(321))}function yT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dr(e[n],t[n]))return!1;return!0}function vT(e,t,n,r,i,a){return Za=a,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ye.H=e===null||e.memoizedState===null?n3:IT,Ul=!1,a=n(r,i),Ul=!1,gc&&(a=CL(t,n,r,i)),AL(e),a}function AL(e){ye.H=Ih;var t=Ze!==null&&Ze.next!==null;if(Za=0,Ut=Ze=we=null,Ly=!1,Nh=0,yc=null,t)throw Error(W(300));e===null||$t||(e=e.dependencies,e!==null&&Ry(e)&&($t=!0))}function CL(e,t,n,r){we=e;var i=0;do{if(gc&&(yc=null),Nh=0,gc=!1,25<=i)throw Error(W(301));if(i+=1,Ut=Ze=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ye.H=r3,a=t(n,r)}while(gc);return a}function yG(){var e=ye.H,t=e.useState()[0];return t=typeof t.then=="function"?Op(t):t,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(we.flags|=1024),t}function _T(){var e=zy!==0;return zy=0,e}function bT(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function xT(e){if(Ly){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ly=!1}Za=0,Ut=Ze=we=null,gc=!1,Nh=zy=0,yc=null}function Fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?we.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function Lt(){if(Ze===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=Ut===null?we.memoizedState:Ut.next;if(t!==null)Ut=t,Ze=e;else{if(e===null)throw we.alternate===null?Error(W(467)):Error(W(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ut===null?we.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function X0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Op(e){var t=Nh;return Nh+=1,yc===null&&(yc=[]),e=bL(yc,e,t),t=we,(Ut===null?t.memoizedState:Ut.next)===null&&(t=t.alternate,ye.H=t===null||t.memoizedState===null?n3:IT),e}function Q0(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Op(e);if(e.$$typeof===Ma)return In(e)}throw Error(W(438,String(e)))}function wT(e){var t=null,n=we.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=X0(),we.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=nq;return t.index++,n}function Ja(e,t){return typeof t=="function"?t(e):t}function Hg(e){var t=Lt();return ET(t,Ze,e)}function ET(e,t,n){var r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var o=s=null,l=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Me&f)===f:(Za&f)===f){var d=u.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Mc&&(c=!0);else if((Za&d)===d){u=u.next,d===Mc&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,we.lanes|=d,Ro|=d;f=u.action,Ul&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else d={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,s=a):l=l.next=d,we.lanes|=f,Ro|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=a:l.next=o,!Dr(a,e.memoizedState)&&($t=!0,c&&(n=pc,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Cx(e){var t=Lt(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Dr(a,t.memoizedState)||($t=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function NL(e,t,n){var r=we,i=Lt(),a=Le;if(a){if(n===void 0)throw Error(W(407));n=n()}else n=t();var s=!Dr((Ze||i).memoizedState,n);if(s&&(i.memoizedState=n,$t=!0),i=i.queue,ST(PL.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||Ut!==null&&Ut.memoizedState.tag&1){if(r.flags|=2048,jc(9,{destroy:void 0},OL.bind(null,r,i,n,t),null),tt===null)throw Error(W(349));a||Za&127||IL(r,t,n)}return n}function IL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t=X0(),we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OL(e,t,n,r){t.value=n,t.getSnapshot=r,kL(t)&&RL(e)}function PL(e,t,n){return n(function(){kL(t)&&RL(e)})}function kL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dr(e,n)}catch{return!0}}function RL(e){var t=cu(e,2);t!==null&&cr(t,e,2)}function b1(e){var t=Fn();if(typeof e=="function"){var n=e;if(e=n(),Ul){io(!0);try{n()}finally{io(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e},t}function ML(e,t,n,r){return e.baseState=n,ET(e,Ze,typeof r=="function"?r:Ja)}function vG(e,t,n,r,i){if(J0(e))throw Error(W(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ye.T!==null?n(!0):a.isTransition=!1,r(a),n=t.pending,n===null?(a.next=t.pending=a,DL(t,a)):(a.next=n.next,t.pending=n.next=a)}}function DL(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=ye.T,s={};ye.T=s;try{var o=n(i,r),l=ye.S;l!==null&&l(s,o),MO(e,t,o)}catch(u){x1(e,t,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ye.T=a}}else try{a=n(i,r),MO(e,t,a)}catch(u){x1(e,t,u)}}function MO(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){DO(e,t,r)},function(r){return x1(e,t,r)}):DO(e,t,n)}function DO(e,t,n){t.status="fulfilled",t.value=n,jL(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,DL(e,n)))}function x1(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,jL(t),t=t.next;while(t!==r)}e.action=null}function jL(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function LL(e,t){return t}function jO(e,t){if(Le){var n=tt.formState;if(n!==null){e:{var r=we;if(Le){if(pt){t:{for(var i=pt,a=Qr;i.nodeType!==8;){if(!a){i=null;break t}if(i=ni(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){pt=ni(i.nextSibling),r=i.data==="F!";break e}}Po(r)}r=!1}r&&(t=n[0])}}return n=Fn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LL,lastRenderedState:t},n.queue=r,n=JL.bind(null,we,r),r.dispatch=n,r=b1(!1),a=NT.bind(null,we,!1,r.queue),r=Fn(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=vG.bind(null,we,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function LO(e){var t=Lt();return zL(t,Ze,e)}function zL(e,t,n){if(t=ET(e,t,LL)[0],e=Hg(Ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Op(t)}catch(s){throw s===yf?W0:s}else r=t;t=Lt();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(we.flags|=2048,jc(9,{destroy:void 0},_G.bind(null,i,n),null)),[r,a,e]}function _G(e,t){e.action=t}function zO(e){var t=Lt(),n=Ze;if(n!==null)return zL(t,n,e);Lt(),t=t.memoizedState,n=Lt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function jc(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=we.updateQueue,t===null&&(t=X0(),we.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function UL(){return Lt().memoizedState}function qg(e,t,n,r){var i=Fn();we.flags|=e,i.memoizedState=jc(1|t,{destroy:void 0},n,r===void 0?null:r)}function Z0(e,t,n,r){var i=Lt();r=r===void 0?null:r;var a=i.memoizedState.inst;Ze!==null&&r!==null&&yT(r,Ze.memoizedState.deps)?i.memoizedState=jc(t,a,n,r):(we.flags|=e,i.memoizedState=jc(1|t,a,n,r))}function UO(e,t){qg(8390656,8,e,t)}function ST(e,t){Z0(2048,8,e,t)}function bG(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=X0(),we.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function VL(e){var t=Lt().memoizedState;return bG({ref:t,nextImpl:e}),function(){if($e&2)throw Error(W(440));return t.impl.apply(void 0,arguments)}}function BL(e,t){return Z0(4,2,e,t)}function $L(e,t){return Z0(4,4,e,t)}function FL(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HL(e,t,n){n=n!=null?n.concat([e]):null,Z0(4,4,FL.bind(null,t,e),n)}function TT(){}function qL(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&yT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function GL(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&yT(t,r[1]))return r[0];if(r=e(),Ul){io(!0);try{e()}finally{io(!1)}}return n.memoizedState=[r,t],r}function AT(e,t,n){return n===void 0||Za&1073741824&&!(Me&261930)?e.memoizedState=t:(e.memoizedState=n,e=M3(),we.lanes|=e,Ro|=e,n)}function KL(e,t,n,r){return Dr(n,t)?n:Dc.current!==null?(e=AT(e,n,r),Dr(e,t)||($t=!0),e):!(Za&42)||Za&1073741824&&!(Me&261930)?($t=!0,e.memoizedState=n):(e=M3(),we.lanes|=e,Ro|=e,t)}function YL(e,t,n,r,i){var a=Fe.p;Fe.p=a!==0&&8>a?a:8;var s=ye.T,o={};ye.T=o,NT(e,!1,t,n);try{var l=i(),u=ye.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=mG(l,r);th(e,t,c,Rr(e))}else th(e,t,r,Rr(e))}catch(f){th(e,t,{then:function(){},status:"rejected",reason:f},Rr())}finally{Fe.p=a,s!==null&&o.types!==null&&(s.types=o.types),ye.T=s}}function xG(){}function w1(e,t,n,r){if(e.tag!==5)throw Error(W(476));var i=WL(e).queue;YL(e,i,t,Al,n===null?xG:function(){return XL(e),n(r)})}function WL(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Al,baseState:Al,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:Al},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function XL(e){var t=WL(e);t.next===null&&(t=e.alternate.memoizedState),th(e,t.next.queue,{},Rr())}function CT(){return In(kh)}function QL(){return Lt().memoizedState}function ZL(){return Lt().memoizedState}function wG(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rr();e=ho(n);var r=po(t,e,n);r!==null&&(cr(r,t,n),Zd(r,t,n)),t={cache:dT()},e.payload=t;return}t=t.return}}function EG(e,t,n){var r=Rr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},J0(e)?e3(t,n):(n=lT(e,t,n,r),n!==null&&(cr(n,e,r),t3(n,t,r)))}function JL(e,t,n){var r=Rr();th(e,t,n,r)}function th(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(J0(e))e3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Dr(o,s))return Y0(e,t,i,0),tt===null&&K0(),!1}catch{}finally{}if(n=lT(e,t,i,r),n!==null)return cr(n,e,r),t3(n,t,r),!0}return!1}function NT(e,t,n,r){if(r={lane:2,revertLane:LT(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},J0(e)){if(t)throw Error(W(479))}else t=lT(e,n,r,2),t!==null&&cr(t,e,2)}function J0(e){var t=e.alternate;return e===we||t!==null&&t===we}function e3(e,t){gc=Ly=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function t3(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,V4(e,n)}}var Ih={readContext:In,use:Q0,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Ih.useEffectEvent=Ct;var n3={readContext:In,use:Q0,useCallback:function(e,t){return Fn().memoizedState=[e,t===void 0?null:t],e},useContext:In,useEffect:UO,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,qg(4194308,4,FL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qg(4194308,4,e,t)},useInsertionEffect:function(e,t){qg(4,2,e,t)},useMemo:function(e,t){var n=Fn();t=t===void 0?null:t;var r=e();if(Ul){io(!0);try{e()}finally{io(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fn();if(n!==void 0){var i=n(t);if(Ul){io(!0);try{n(t)}finally{io(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=EG.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Fn();return e={current:e},t.memoizedState=e},useState:function(e){e=b1(e);var t=e.queue,n=JL.bind(null,we,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:TT,useDeferredValue:function(e,t){var n=Fn();return AT(n,e,t)},useTransition:function(){var e=b1(!1);return e=YL.bind(null,we,e.queue,!0,!1),Fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=we,i=Fn();if(Le){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),tt===null)throw Error(W(349));Me&127||IL(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,UO(PL.bind(null,r,a,e),[e]),r.flags|=2048,jc(9,{destroy:void 0},OL.bind(null,r,a,n,t),null),n},useId:function(){var e=Fn(),t=tt.identifierPrefix;if(Le){var n=Ji,r=Zi;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=zy++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=gG++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:CT,useFormState:jO,useActionState:jO,useOptimistic:function(e){var t=Fn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=NT.bind(null,we,!0,n),n.dispatch=t,[e,t]},useMemoCache:wT,useCacheRefresh:function(){return Fn().memoizedState=wG.bind(null,we)},useEffectEvent:function(e){var t=Fn(),n={impl:e};return t.memoizedState=n,function(){if($e&2)throw Error(W(440));return n.impl.apply(void 0,arguments)}}},IT={readContext:In,use:Q0,useCallback:qL,useContext:In,useEffect:ST,useImperativeHandle:HL,useInsertionEffect:BL,useLayoutEffect:$L,useMemo:GL,useReducer:Hg,useRef:UL,useState:function(){return Hg(Ja)},useDebugValue:TT,useDeferredValue:function(e,t){var n=Lt();return KL(n,Ze.memoizedState,e,t)},useTransition:function(){var e=Hg(Ja)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:Op(e),t]},useSyncExternalStore:NL,useId:QL,useHostTransitionStatus:CT,useFormState:LO,useActionState:LO,useOptimistic:function(e,t){var n=Lt();return ML(n,Ze,e,t)},useMemoCache:wT,useCacheRefresh:ZL};IT.useEffectEvent=VL;var r3={readContext:In,use:Q0,useCallback:qL,useContext:In,useEffect:ST,useImperativeHandle:HL,useInsertionEffect:BL,useLayoutEffect:$L,useMemo:GL,useReducer:Cx,useRef:UL,useState:function(){return Cx(Ja)},useDebugValue:TT,useDeferredValue:function(e,t){var n=Lt();return Ze===null?AT(n,e,t):KL(n,Ze.memoizedState,e,t)},useTransition:function(){var e=Cx(Ja)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:Op(e),t]},useSyncExternalStore:NL,useId:QL,useHostTransitionStatus:CT,useFormState:zO,useActionState:zO,useOptimistic:function(e,t){var n=Lt();return Ze!==null?ML(n,Ze,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:wT,useCacheRefresh:ZL};r3.useEffectEvent=VL;function Nx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var E1={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rr(),i=ho(r);i.payload=t,n!=null&&(i.callback=n),t=po(e,i,r),t!==null&&(cr(t,e,r),Zd(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rr(),i=ho(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=po(e,i,r),t!==null&&(cr(t,e,r),Zd(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rr(),r=ho(n);r.tag=2,t!=null&&(r.callback=t),t=po(e,r,n),t!==null&&(cr(t,e,n),Zd(t,e,n))}};function VO(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Sh(n,r)||!Sh(i,a):!0}function BO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&E1.enqueueReplaceState(t,t.state,null)}function Vl(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=gt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function i3(e){Oy(e)}function a3(e){console.error(e)}function s3(e){Oy(e)}function Uy(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function $O(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function S1(e,t,n){return n=ho(n),n.tag=3,n.payload={element:null},n.callback=function(){Uy(e,t)},n}function o3(e){return e=ho(e),e.tag=3,e}function l3(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){$O(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){$O(t,n,r),typeof i!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function SG(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&gf(t,n,i,!0),n=jr.current,n!==null){switch(n.tag){case 31:case 13:return ti===null?Hy():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===My?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Ux(e,r,i)),!1;case 22:return n.flags|=65536,r===My?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Ux(e,r,i)),!1}throw Error(W(435,n.tag))}return Ux(e,r,i),Hy(),!1}if(Le)return t=jr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==f1&&(e=Error(W(422),{cause:r}),Ah(Xr(e,n)))):(r!==f1&&(t=Error(W(423),{cause:r}),Ah(Xr(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Xr(r,n),i=S1(e.stateNode,r,i),Ax(e,i),Ot!==4&&(Ot=2)),!1;var a=Error(W(520),{cause:r});if(a=Xr(a,n),ih===null?ih=[a]:ih.push(a),Ot!==4&&(Ot=2),t===null)return!0;r=Xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=S1(n.stateNode,r,e),Ax(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(mo===null||!mo.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=o3(i),l3(i,e,n,r),Ax(n,i),!1}n=n.return}while(n!==null);return!1}var OT=Error(W(461)),$t=!1;function xn(e,t,n,r){t.child=e===null?wL(t,null,n,r):zl(t,e.child,n,r)}function FO(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Ll(t),r=vT(e,t,n,s,a,i),o=_T(),e!==null&&!$t?(bT(e,t,i),es(e,t,i)):(Le&&o&&cT(t),t.flags|=1,xn(e,t,r,i),t.child)}function HO(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!uT(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,u3(e,t,a,r,i)):(e=$g(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!PT(e,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sh,n(s,r)&&e.ref===t.ref)return es(e,t,i)}return t.flags|=1,e=Fa(a,r),e.ref=t.ref,e.return=t,t.child=e}function u3(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Sh(a,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=a,PT(e,i))e.flags&131072&&($t=!0);else return t.lanes=e.lanes,es(e,t,i)}return T1(e,t,n,r,i)}function c3(e,t,n,r){var i=r.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return qO(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fg(t,a!==null?a.cachePool:null),a!==null?RO(t,a):v1(),TL(t);else return r=t.lanes=536870912,qO(e,t,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Fg(t,a.cachePool),RO(t,a),Xs(),t.memoizedState=null):(e!==null&&Fg(t,null),v1(),Xs());return xn(e,t,i,n),t.child}function Dd(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qO(e,t,n,r,i){var a=hT();return a=a===null?null:{parent:Bt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Fg(t,null),v1(),TL(t),e!==null&&gf(e,t,r,!0),t.childLanes=i,null}function Gg(e,t){return t=Vy({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function GO(e,t,n){return zl(t,e.child,null,n),e=Gg(t,t.pendingProps),e.flags|=2,Er(t),t.memoizedState=null,e}function TG(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Le){if(r.mode==="hidden")return e=Gg(t,r),t.lanes=536870912,Dd(null,e);if(_1(t),(e=pt)?(e=n5(e,Qr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oo!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},n=mL(e),n.return=t,t.child=n,Cn=t,pt=null)):e=null,e===null)throw Po(t);return t.lanes=536870912,null}return Gg(t,r)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(_1(t),i)if(t.flags&256)t.flags&=-257,t=GO(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(W(558));else if($t||gf(e,t,n,!1),i=(n&e.childLanes)!==0,$t||i){if(r=tt,r!==null&&(s=B4(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,cu(e,s),cr(r,e,s),OT;Hy(),t=GO(e,t,n)}else e=a.treeContext,pt=ni(s.nextSibling),Cn=t,Le=!0,fo=null,Qr=!1,e!==null&&yL(t,e),t=Gg(t,r),t.flags|=4096;return t}return e=Fa(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kg(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(W(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function T1(e,t,n,r,i){return Ll(t),n=vT(e,t,n,r,void 0,i),r=_T(),e!==null&&!$t?(bT(e,t,i),es(e,t,i)):(Le&&r&&cT(t),t.flags|=1,xn(e,t,n,i),t.child)}function KO(e,t,n,r,i,a){return Ll(t),t.updateQueue=null,n=CL(t,r,n,i),AL(e),r=_T(),e!==null&&!$t?(bT(e,t,a),es(e,t,a)):(Le&&r&&cT(t),t.flags|=1,xn(e,t,n,a),t.child)}function YO(e,t,n,r,i){if(Ll(t),t.stateNode===null){var a=nc,s=n.contextType;typeof s=="object"&&s!==null&&(a=In(s)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=E1,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},mT(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?In(s):nc,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Nx(t,n,s,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&E1.enqueueReplaceState(a,a.state,null),eh(t,r,a,i),Jd(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,l=Vl(n,o);a.props=l;var u=a.context,c=n.contextType;s=nc,typeof c=="object"&&c!==null&&(s=In(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&BO(t,a,r,s),Fs=!1;var d=t.memoizedState;a.state=d,eh(t,r,a,i),Jd(),u=t.memoizedState,o||d!==u||Fs?(typeof f=="function"&&(Nx(t,n,f,r),u=t.memoizedState),(l=Fs||VO(t,n,l,r,d,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,g1(e,t),s=t.memoizedProps,c=Vl(n,s),a.props=c,f=t.pendingProps,d=a.context,u=n.contextType,l=nc,typeof u=="object"&&u!==null&&(l=In(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&BO(t,a,r,l),Fs=!1,d=t.memoizedState,a.state=d,eh(t,r,a,i),Jd();var p=t.memoizedState;s!==f||d!==p||Fs||e!==null&&e.dependencies!==null&&Ry(e.dependencies)?(typeof o=="function"&&(Nx(t,n,o,r),p=t.memoizedState),(c=Fs||VO(t,n,c,r,d,p,l)||e!==null&&e.dependencies!==null&&Ry(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Kg(e,t),r=(t.flags&128)!==0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&r?(t.child=zl(t,e.child,null,i),t.child=zl(t,null,n,i)):xn(e,t,n,i),t.memoizedState=a.state,e=t.child):e=es(e,t,i),e}function WO(e,t,n,r){return jl(),t.flags|=256,xn(e,t,n,r),t.child}var Ix={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ox(e){return{baseLanes:e,cachePool:_L()}}function Px(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Cr),e}function f3(e,t,n){var r=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(jt.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(Le){if(i?Ws(t):Xs(),(e=pt)?(e=n5(e,Qr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oo!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},n=mL(e),n.return=t,t.child=n,Cn=t,pt=null)):e=null,e===null)throw Po(t);return U1(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Xs(),i=t.mode,o=Vy({mode:"hidden",children:o},i),r=Cl(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r=t.child,r.memoizedState=Ox(n),r.childLanes=Px(e,s,n),t.memoizedState=Ix,Dd(null,r)):(Ws(t),A1(t,o))}var l=e.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)t.flags&256?(Ws(t),t.flags&=-257,t=kx(e,t,n)):t.memoizedState!==null?(Xs(),t.child=e.child,t.flags|=128,t=null):(Xs(),o=r.fallback,i=t.mode,r=Vy({mode:"visible",children:r.children},i),o=Cl(o,i,n,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,zl(t,e.child,null,n),r=t.child,r.memoizedState=Ox(n),r.childLanes=Px(e,s,n),t.memoizedState=Ix,t=Dd(null,r));else if(Ws(t),U1(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(W(419)),r.stack="",r.digest=s,Ah({value:r,source:null,stack:null}),t=kx(e,t,n)}else if($t||gf(e,t,n,!1),s=(n&e.childLanes)!==0,$t||s){if(s=tt,s!==null&&(r=B4(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,cu(e,r),cr(s,e,r),OT;z1(o)||Hy(),t=kx(e,t,n)}else z1(o)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,pt=ni(o.nextSibling),Cn=t,Le=!0,fo=null,Qr=!1,e!==null&&yL(t,e),t=A1(t,r.children),t.flags|=4096);return t}return i?(Xs(),o=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=Fa(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Fa(u,o):(o=Cl(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,Dd(null,r),r=t.child,o=e.child.memoizedState,o===null?o=Ox(n):(i=o.cachePool,i!==null?(l=Bt._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=_L(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Px(e,s,n),t.memoizedState=Ix,Dd(e.child,r)):(Ws(t),n=e.child,e=n.sibling,n=Fa(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function A1(e,t){return t=Vy({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vy(e,t){return e=Sr(22,e,null,t),e.lanes=0,e}function kx(e,t,n){return zl(t,e.child,null,n),e=A1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function XO(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),h1(e.return,t,n)}function Rx(e,t,n,r,i,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function d3(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=jt.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,ot(jt,s),xn(e,t,r,n),r=Le?Th:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XO(e,n,t);else if(e.tag===19)XO(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jy(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rx(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jy(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rx(t,!0,n,null,a,r);break;case"together":Rx(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function es(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ro|=t.lanes,!(n&t.childLanes))if(e!==null){if(gf(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Fa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PT(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ry(e)))}function AG(e,t,n){switch(t.tag){case 3:Ay(t,t.stateNode.containerInfo),Ys(t,Bt,e.memoizedState.cache),jl();break;case 27:case 5:e1(t);break;case 4:Ay(t,t.stateNode.containerInfo);break;case 10:Ys(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_1(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ws(t),t.flags|=128,null):n&t.child.childLanes?f3(e,t,n):(Ws(t),e=es(e,t,n),e!==null?e.sibling:null);Ws(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(gf(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return d3(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(jt,jt.current),r)break;return null;case 22:return t.lanes=0,c3(e,t,n,t.pendingProps);case 24:Ys(t,Bt,e.memoizedState.cache)}return es(e,t,n)}function h3(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!PT(e,n)&&!(t.flags&128))return $t=!1,AG(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Le&&t.flags&1048576&&gL(t,Th,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=cl(t.elementType),t.type=e,typeof e=="function")uT(e)?(r=Vl(e,r),t.tag=1,t=YO(null,t,e,r,n)):(t.tag=0,t=T1(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===WS){t.tag=11,t=FO(null,t,e,r,n);break e}else if(i===XS){t.tag=14,t=HO(null,t,e,r,n);break e}}throw t=Zw(e)||e,Error(W(306,t,""))}}return t;case 0:return T1(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Vl(r,t.pendingProps),YO(e,t,r,i,n);case 3:e:{if(Ay(t,t.stateNode.containerInfo),e===null)throw Error(W(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,g1(e,t),eh(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ys(t,Bt,r),r!==a.cache&&p1(t,[Bt],n,!0),Jd(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=WO(e,t,r,n);break e}else if(r!==i){i=Xr(Error(W(424)),t),Ah(i),t=WO(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pt=ni(e.firstChild),Cn=t,Le=!0,fo=null,Qr=!0,n=wL(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(jl(),r===i){t=es(e,t,n);break e}xn(e,t,r,n)}t=t.child}return t;case 26:return Kg(e,t),e===null?(n=g2(t.type,null,t.pendingProps,null))?t.memoizedState=n:Le||(n=t.type,e=t.pendingProps,r=Yy(co.current).createElement(n),r[An]=t,r[dr]=e,Pn(r,n,e),un(r),t.stateNode=r):t.memoizedState=g2(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return e1(t),e===null&&Le&&(r=t.stateNode=r5(t.type,t.pendingProps,co.current),Cn=t,Qr=!0,i=pt,qo(t.type)?(V1=i,pt=ni(r.firstChild)):pt=i),xn(e,t,t.pendingProps.children,n),Kg(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Le&&((i=r=pt)&&(r=nK(r,t.type,t.pendingProps,Qr),r!==null?(t.stateNode=r,Cn=t,pt=ni(r.firstChild),Qr=!1,i=!0):i=!1),i||Po(t)),e1(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,r=a.children,j1(i,a)?r=null:s!==null&&j1(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=vT(e,t,yG,null,null,n),kh._currentValue=i),Kg(e,t),xn(e,t,r,n),t.child;case 6:return e===null&&Le&&((e=n=pt)&&(n=rK(n,t.pendingProps,Qr),n!==null?(t.stateNode=n,Cn=t,pt=null,e=!0):e=!1),e||Po(t)),null;case 13:return f3(e,t,n);case 4:return Ay(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zl(t,null,r,n):xn(e,t,r,n),t.child;case 11:return FO(e,t,t.type,t.pendingProps,n);case 7:return xn(e,t,t.pendingProps,n),t.child;case 8:return xn(e,t,t.pendingProps.children,n),t.child;case 12:return xn(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ys(t,t.type,r.value),xn(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ll(t),i=In(i),r=r(i),t.flags|=1,xn(e,t,r,n),t.child;case 14:return HO(e,t,t.type,t.pendingProps,n);case 15:return u3(e,t,t.type,t.pendingProps,n);case 19:return d3(e,t,n);case 31:return TG(e,t,n);case 22:return c3(e,t,n,t.pendingProps);case 24:return Ll(t),r=In(Bt),e===null?(i=hT(),i===null&&(i=tt,a=dT(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},mT(t),Ys(t,Bt,i)):(e.lanes&n&&(g1(e,t),eh(t,null,null,n),Jd()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ys(t,Bt,r)):(r=a.cache,Ys(t,Bt,r),r!==i.cache&&p1(t,[Bt],n,!0))),xn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(W(156,t.tag))}function Ta(e){e.flags|=4}function Mx(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(L3())e.flags|=8192;else throw Il=My,pT}else e.flags&=-16777217}function QO(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!s5(t))if(L3())e.flags|=8192;else throw Il=My,pT}function Zm(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?z4():536870912,e.lanes|=t,Lc|=t)}function ld(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function CG(e,t,n){var r=t.pendingProps;switch(fT(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ha(Bt),Pc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ou(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tx())),ft(t),null;case 26:var i=t.type,a=t.memoizedState;return e===null?(Ta(t),a!==null?(ft(t),QO(t,a)):(ft(t),Mx(t,i,null,r,n))):a?a!==e.memoizedState?(Ta(t),ft(t),QO(t,a)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ta(t),ft(t),Mx(t,i,e,r,n)),null;case 27:if(Cy(t),n=co.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(W(166));return ft(t),null}e=ia.current,Ou(t)?AO(t):(e=r5(i,r,n),t.stateNode=e,Ta(t))}return ft(t),null;case 5:if(Cy(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(!r){if(t.stateNode===null)throw Error(W(166));return ft(t),null}if(a=ia.current,Ou(t))AO(t);else{var s=Yy(co.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[An]=t,a[dr]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(Pn(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ta(t)}}return ft(t),Mx(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ta(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(e=co.current,Ou(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=Cn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[An]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||J3(e.nodeValue,n)),e||Po(t,!0)}else e=Yy(e).createTextNode(r),e[An]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ou(t),n!==null){if(e===null){if(!r)throw Error(W(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(557));e[An]=t}else jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=Tx(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Er(t),t):(Er(t),null);if(t.flags&128)throw Error(W(558))}return ft(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(W(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[An]=t}else jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),i=!1}else i=Tx(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Er(t),t):(Er(t),null)}return Er(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Zm(t,t.updateQueue),ft(t),null);case 4:return Pc(),e===null&&zT(t.stateNode.containerInfo),ft(t),null;case 10:return Ha(t.type),ft(t),null;case 19:if(dn(jt),r=t.memoizedState,r===null)return ft(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)ld(r,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jy(e),a!==null){for(t.flags|=128,ld(r,!1),e=a.updateQueue,t.updateQueue=e,Zm(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)pL(n,e),n=n.sibling;return ot(jt,jt.current&1|2),Le&&Oa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Or()>$y&&(t.flags|=128,i=!0,ld(r,!1),t.lanes=4194304)}else{if(!i)if(e=jy(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Zm(t,e),ld(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Le)return ft(t),null}else 2*Or()-r.renderingStartTime>$y&&n!==536870912&&(t.flags|=128,i=!0,ld(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Or(),e.sibling=null,n=jt.current,ot(jt,i?n&1|2:n&1),Le&&Oa(t,r.treeForkCount),e):(ft(t),null);case 22:case 23:return Er(t),gT(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Zm(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&dn(Nl),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ha(Bt),ft(t),null;case 25:return null;case 30:return null}throw Error(W(156,t.tag))}function NG(e,t){switch(fT(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(Bt),Pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cy(t),null;case 31:if(t.memoizedState!==null){if(Er(t),t.alternate===null)throw Error(W(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Er(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dn(jt),null;case 4:return Pc(),null;case 10:return Ha(t.type),null;case 22:case 23:return Er(t),gT(),e!==null&&dn(Nl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ha(Bt),null;case 25:return null;default:return null}}function p3(e,t){switch(fT(t),t.tag){case 3:Ha(Bt),Pc();break;case 26:case 27:case 5:Cy(t);break;case 4:Pc();break;case 31:t.memoizedState!==null&&Er(t);break;case 13:Er(t);break;case 19:dn(jt);break;case 10:Ha(t.type);break;case 22:case 23:Er(t),gT(),e!==null&&dn(Nl);break;case 24:Ha(Bt)}}function Pp(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){We(t,t.return,o)}}function ko(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var l=n,u=o;try{u()}catch(c){We(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){We(t,t.return,c)}}function m3(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{SL(t,n)}catch(r){We(e,e.return,r)}}}function g3(e,t,n){n.props=Vl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){We(e,t,r)}}function nh(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){We(e,t,i)}}function ea(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){We(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){We(e,t,i)}else n.current=null}function y3(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){We(e,e.return,i)}}function Dx(e,t,n){try{var r=e.stateNode;XG(r,e.type,n,t),r[dr]=t}catch(i){We(e,e.return,i)}}function v3(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qo(e.type)||e.tag===4}function jx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function C1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Da));else if(r!==4&&(r===27&&qo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(C1(e,t,n),e=e.sibling;e!==null;)C1(e,t,n),e=e.sibling}function By(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&qo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(By(e,t,n),e=e.sibling;e!==null;)By(e,t,n),e=e.sibling}function _3(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pn(t,r,n),t[An]=e,t[dr]=n}catch(a){We(e,e.return,a)}}var ka=!1,Vt=!1,Lx=!1,ZO=typeof WeakSet=="function"?WeakSet:Set,ln=null;function IG(e,t){if(e=e.containerInfo,M1=Zy,e=sL(e),sT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(o=s),d===a&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(D1={focusedElem:e,selectionRange:n},Zy=!1,ln=t;ln!==null;)if(t=ln,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ln=e;else for(;ln!==null;){switch(t=ln,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Vl(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){We(n,n.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)L1(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":L1(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(W(163))}if(e=t.sibling,e!==null){e.return=t.return,ln=e;break}ln=t.return}}function b3(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ca(e,n),r&4&&Pp(5,n);break;case 1:if(Ca(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){We(n,n.return,s)}else{var i=Vl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){We(n,n.return,s)}}r&64&&m3(n),r&512&&nh(n,n.return);break;case 3:if(Ca(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{SL(e,t)}catch(s){We(n,n.return,s)}}break;case 27:t===null&&r&4&&_3(n);case 26:case 5:Ca(e,n),t===null&&r&4&&y3(n),r&512&&nh(n,n.return);break;case 12:Ca(e,n);break;case 31:Ca(e,n),r&4&&E3(e,n);break;case 13:Ca(e,n),r&4&&S3(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zG.bind(null,n),iK(e,n))));break;case 22:if(r=n.memoizedState!==null||ka,!r){t=t!==null&&t.memoizedState!==null||Vt,i=ka;var a=Vt;ka=r,(Vt=t)&&!a?Ia(e,n,(n.subtreeFlags&8772)!==0):Ca(e,n),ka=i,Vt=a}break;case 30:break;default:Ca(e,n)}}function x3(e){var t=e.alternate;t!==null&&(e.alternate=null,x3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&eT(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,ir=!1;function Aa(e,t,n){for(n=n.child;n!==null;)w3(e,t,n),n=n.sibling}function w3(e,t,n){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Sp,n)}catch{}switch(n.tag){case 26:Vt||ea(n,t),Aa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vt||ea(n,t);var r=yt,i=ir;qo(n.type)&&(yt=n.stateNode,ir=!1),Aa(e,t,n),sh(n.stateNode),yt=r,ir=i;break;case 5:Vt||ea(n,t);case 6:if(r=yt,i=ir,yt=null,Aa(e,t,n),yt=r,ir=i,yt!==null)if(ir)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(n.stateNode)}catch(a){We(n,t,a)}else try{yt.removeChild(n.stateNode)}catch(a){We(n,t,a)}break;case 18:yt!==null&&(ir?(e=yt,f2(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Bc(e)):f2(yt,n.stateNode));break;case 4:r=yt,i=ir,yt=n.stateNode.containerInfo,ir=!0,Aa(e,t,n),yt=r,ir=i;break;case 0:case 11:case 14:case 15:ko(2,n,t),Vt||ko(4,n,t),Aa(e,t,n);break;case 1:Vt||(ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&g3(n,t,r)),Aa(e,t,n);break;case 21:Aa(e,t,n);break;case 22:Vt=(r=Vt)||n.memoizedState!==null,Aa(e,t,n),Vt=r;break;default:Aa(e,t,n)}}function E3(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Bc(e)}catch(n){We(t,t.return,n)}}}function S3(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bc(e)}catch(n){We(t,t.return,n)}}function OG(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ZO),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ZO),t;default:throw Error(W(435,e.tag))}}function Jm(e,t){var n=OG(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=UG.bind(null,e,r);r.then(i,i)}})}function nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(qo(o.type)){yt=o.stateNode,ir=!1;break e}break;case 5:yt=o.stateNode,ir=!1;break e;case 3:case 4:yt=o.stateNode.containerInfo,ir=!0;break e}o=o.return}if(yt===null)throw Error(W(160));w3(a,s,i),yt=null,ir=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)T3(t,e),t=t.sibling}var pi=null;function T3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nr(t,e),rr(e),r&4&&(ko(3,e,e.return),Pp(3,e),ko(5,e,e.return));break;case 1:nr(t,e),rr(e),r&512&&(Vt||n===null||ea(n,n.return)),r&64&&ka&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=pi;if(nr(t,e),rr(e),r&512&&(Vt||n===null||ea(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Cp]||a[An]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Pn(a,r,n),a[An]=e,un(a),r=a;break e;case"link":var s=v2("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Pn(a,r,n),i.head.appendChild(a);break;case"meta":if(s=v2("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Pn(a,r,n),i.head.appendChild(a);break;default:throw Error(W(468,r))}a[An]=e,un(a),r=a}e.stateNode=r}else _2(i,e.type,e.stateNode);else e.stateNode=y2(i,r,e.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?_2(i,e.type,e.stateNode):y2(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Dx(e,e.memoizedProps,n.memoizedProps)}break;case 27:nr(t,e),rr(e),r&512&&(Vt||n===null||ea(n,n.return)),n!==null&&r&4&&Dx(e,e.memoizedProps,n.memoizedProps);break;case 5:if(nr(t,e),rr(e),r&512&&(Vt||n===null||ea(n,n.return)),e.flags&32){i=e.stateNode;try{Rc(i,"")}catch(m){We(e,e.return,m)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,Dx(e,i,n!==null?n.memoizedProps:i)),r&1024&&(Lx=!0);break;case 6:if(nr(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(W(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){We(e,e.return,m)}}break;case 3:if(Xg=null,i=pi,pi=Wy(t.containerInfo),nr(t,e),pi=i,rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(t.containerInfo)}catch(m){We(e,e.return,m)}Lx&&(Lx=!1,A3(e));break;case 4:r=pi,pi=Wy(e.stateNode.containerInfo),nr(t,e),rr(e),pi=r;break;case 12:nr(t,e),rr(e);break;case 31:nr(t,e),rr(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Jm(e,r)));break;case 13:nr(t,e),rr(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e_=Or()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Jm(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ka,c=Vt;if(ka=u||i,Vt=c||l,nr(t,e),Vt=c,ka=u,rr(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||ka||Vt||fl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(m){We(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(m){We(l,l.return,m)}}}else if(t.tag===18){if(n===null){l=t;try{var p=l.stateNode;i?d2(p,!0):d2(l.stateNode,!1)}catch(m){We(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Jm(e,n))));break;case 19:nr(t,e),rr(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Jm(e,r)));break;case 30:break;case 21:break;default:nr(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(v3(r)){n=r;break}r=r.return}if(n==null)throw Error(W(160));switch(n.tag){case 27:var i=n.stateNode,a=jx(e);By(e,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Rc(s,""),n.flags&=-33);var o=jx(e);By(e,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=jx(e);C1(e,u,l);break;default:throw Error(W(161))}}catch(c){We(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A3(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;A3(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)b3(e,t.alternate,t),t=t.sibling}function fl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ko(4,t,t.return),fl(t);break;case 1:ea(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&g3(t,t.return,n),fl(t);break;case 27:sh(t.stateNode);case 26:case 5:ea(t,t.return),fl(t);break;case 22:t.memoizedState===null&&fl(t);break;case 30:fl(t);break;default:fl(t)}e=e.sibling}}function Ia(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ia(i,a,n),Pp(4,a);break;case 1:if(Ia(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){We(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)EL(l[i],o)}catch(u){We(r,r.return,u)}}n&&s&64&&m3(a),nh(a,a.return);break;case 27:_3(a);case 26:case 5:Ia(i,a,n),n&&r===null&&s&4&&y3(a),nh(a,a.return);break;case 12:Ia(i,a,n);break;case 31:Ia(i,a,n),n&&s&4&&E3(i,a);break;case 13:Ia(i,a,n),n&&s&4&&S3(i,a);break;case 22:a.memoizedState===null&&Ia(i,a,n),nh(a,a.return);break;case 30:break;default:Ia(i,a,n)}t=t.sibling}}function kT(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ip(n))}function RT(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ip(e))}function hi(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C3(e,t,n,r),t=t.sibling}function C3(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:hi(e,t,n,r),i&2048&&Pp(9,t);break;case 1:hi(e,t,n,r);break;case 3:hi(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ip(e)));break;case 12:if(i&2048){hi(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){We(t,t.return,l)}}else hi(e,t,n,r);break;case 31:hi(e,t,n,r);break;case 13:hi(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?hi(e,t,n,r):rh(e,t):a._visibility&2?hi(e,t,n,r):(a._visibility|=2,Fu(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&kT(s,t);break;case 24:hi(e,t,n,r),i&2048&&RT(t.alternate,t);break;default:hi(e,t,n,r)}}function Fu(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Fu(a,s,o,l,i),Pp(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?Fu(a,s,o,l,i):rh(a,s):(c._visibility|=2,Fu(a,s,o,l,i)),i&&u&2048&&kT(s.alternate,s);break;case 24:Fu(a,s,o,l,i),i&&u&2048&&RT(s.alternate,s);break;default:Fu(a,s,o,l,i)}t=t.sibling}}function rh(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rh(n,r),i&2048&&kT(r.alternate,r);break;case 24:rh(n,r),i&2048&&RT(r.alternate,r);break;default:rh(n,r)}t=t.sibling}}var jd=8192;function Pu(e,t,n){if(e.subtreeFlags&jd)for(e=e.child;e!==null;)N3(e,t,n),e=e.sibling}function N3(e,t,n){switch(e.tag){case 26:Pu(e,t,n),e.flags&jd&&e.memoizedState!==null&&gK(n,pi,e.memoizedState,e.memoizedProps);break;case 5:Pu(e,t,n);break;case 3:case 4:var r=pi;pi=Wy(e.stateNode.containerInfo),Pu(e,t,n),pi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=jd,jd=16777216,Pu(e,t,n),jd=r):Pu(e,t,n));break;default:Pu(e,t,n)}}function I3(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ud(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ln=r,P3(r,e)}I3(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)O3(e),e=e.sibling}function O3(e){switch(e.tag){case 0:case 11:case 15:ud(e),e.flags&2048&&ko(9,e,e.return);break;case 3:ud(e);break;case 12:ud(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yg(e)):ud(e);break;default:ud(e)}}function Yg(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ln=r,P3(r,e)}I3(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ko(8,t,t.return),Yg(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Yg(t));break;default:Yg(t)}e=e.sibling}}function P3(e,t){for(;ln!==null;){var n=ln;switch(n.tag){case 0:case 11:case 15:ko(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ip(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ln=r;else e:for(n=e;ln!==null;){r=ln;var i=r.sibling,a=r.return;if(x3(r),r===n){ln=null;break e}if(i!==null){i.return=a,ln=i;break e}ln=a}}}var PG={getCacheForType:function(e){var t=In(Bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return In(Bt).controller.signal}},kG=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,ke=null,Me=0,Ke=0,xr=null,so=!1,vf=!1,MT=!1,ts=0,Ot=0,Ro=0,Ol=0,DT=0,Cr=0,Lc=0,ih=null,ar=null,N1=!1,e_=0,k3=0,$y=1/0,Fy=null,mo=null,Yt=0,go=null,zc=null,qa=0,I1=0,O1=null,R3=null,ah=0,P1=null;function Rr(){return $e&2&&Me!==0?Me&-Me:ye.T!==null?LT():$4()}function M3(){if(Cr===0)if(!(Me&536870912)||Le){var e=qm;qm<<=1,!(qm&3932160)&&(qm=262144),Cr=e}else Cr=536870912;return e=jr.current,e!==null&&(e.flags|=32),Cr}function cr(e,t,n){(e===tt&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Uc(e,0),oo(e,Me,Cr,!1)),Ap(e,n),(!($e&2)||e!==tt)&&(e===tt&&(!($e&2)&&(Ol|=n),Ot===4&&oo(e,Me,Cr,!1)),_a(e))}function D3(e,t,n){if($e&6)throw Error(W(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Tp(e,t),i=r?DG(e,t):zx(e,t,!0),a=r;do{if(i===0){vf&&!r&&oo(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!RG(n)){i=zx(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var o=e;i=ih;var l=o.current.memoizedState.isDehydrated;if(l&&(Uc(o,s).flags|=256),s=zx(o,s,!1),s!==2){if(MT&&!l){o.errorRecoveryDisabledLanes|=a,Ol|=a,i=4;break e}a=ar,ar=i,a!==null&&(ar===null?ar=a:ar.push.apply(ar,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Uc(e,0),oo(e,t,0,!0);break}e:{switch(r=e,a=i,a){case 0:case 1:throw Error(W(345));case 4:if((t&4194048)!==t)break;case 6:oo(r,t,Cr,!so);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(W(329))}if((t&62914560)===t&&(i=e_+300-Or(),10<i)){if(oo(r,t,Cr,!so),F0(r,0,!0)!==0)break e;qa=t,r.timeoutHandle=t5(JO.bind(null,r,n,ar,Fy,N1,t,Cr,Ol,Lc,so,a,"Throttled",-0,0),i);break e}JO(r,n,ar,Fy,N1,t,Cr,Ol,Lc,so,a,null,-0,0)}}break}while(!0);_a(e)}function JO(e,t,n,r,i,a,s,o,l,u,c,f,d,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},N3(t,a,f);var m=(a&62914560)===a?e_-Or():(a&4194048)===a?k3-Or():0;if(m=yK(f,m),m!==null){qa=a,e.cancelPendingCommit=m(t2.bind(null,e,t,a,n,r,i,s,o,l,c,f,null,d,p)),oo(e,a,s,!u);return}}t2(e,t,a,n,r,i,s,o,l)}function RG(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Dr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oo(e,t,n,r){t&=~DT,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-kr(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&U4(e,n,t)}function t_(){return $e&6?!0:(kp(0),!1)}function jT(){if(ke!==null){if(Ke===0)var e=ke.return;else e=ke,ja=fu=null,xT(e),mc=null,Ch=0,e=ke;for(;e!==null;)p3(e.alternate,e),e=e.return;ke=null}}function Uc(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,JG(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),qa=0,jT(),tt=e,ke=n=Fa(e.current,null),Me=t,Ke=0,xr=null,so=!1,vf=Tp(e,t),MT=!1,Lc=Cr=DT=Ol=Ro=Ot=0,ar=ih=null,N1=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-kr(r),a=1<<i;t|=e[i],r&=~a}return ts=t,K0(),n}function j3(e,t){we=null,ye.H=Ih,t===yf||t===W0?(t=PO(),Ke=3):t===pT?(t=PO(),Ke=4):Ke=t===OT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xr=t,ke===null&&(Ot=1,Uy(e,Xr(t,e.current)))}function L3(){var e=jr.current;return e===null?!0:(Me&4194048)===Me?ti===null:(Me&62914560)===Me||Me&536870912?e===ti:!1}function z3(){var e=ye.H;return ye.H=Ih,e===null?Ih:e}function U3(){var e=ye.A;return ye.A=PG,e}function Hy(){Ot=4,so||(Me&4194048)!==Me&&jr.current!==null||(vf=!0),!(Ro&134217727)&&!(Ol&134217727)||tt===null||oo(tt,Me,Cr,!1)}function zx(e,t,n){var r=$e;$e|=2;var i=z3(),a=U3();(tt!==e||Me!==t)&&(Fy=null,Uc(e,t)),t=!1;var s=Ot;e:do try{if(Ke!==0&&ke!==null){var o=ke,l=xr;switch(Ke){case 8:jT(),s=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(t=!0);var u=Ke;if(Ke=0,xr=null,ac(e,o,l,u),n&&vf){s=0;break e}break;default:u=Ke,Ke=0,xr=null,ac(e,o,l,u)}}MG(),s=Ot;break}catch(c){j3(e,c)}while(!0);return t&&e.shellSuspendCounter++,ja=fu=null,$e=r,ye.H=i,ye.A=a,ke===null&&(tt=null,Me=0,K0()),s}function MG(){for(;ke!==null;)V3(ke)}function DG(e,t){var n=$e;$e|=2;var r=z3(),i=U3();tt!==e||Me!==t?(Fy=null,$y=Or()+500,Uc(e,t)):vf=Tp(e,t);e:do try{if(Ke!==0&&ke!==null){t=ke;var a=xr;t:switch(Ke){case 1:Ke=0,xr=null,ac(e,t,a,1);break;case 2:case 9:if(OO(a)){Ke=0,xr=null,e2(t);break}t=function(){Ke!==2&&Ke!==9||tt!==e||(Ke=7),_a(e)},a.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:OO(a)?(Ke=0,xr=null,e2(t)):(Ke=0,xr=null,ac(e,t,a,7));break;case 5:var s=null;switch(ke.tag){case 26:s=ke.memoizedState;case 5:case 27:var o=ke;if(s?s5(s):o.stateNode.complete){Ke=0,xr=null;var l=o.sibling;if(l!==null)ke=l;else{var u=o.return;u!==null?(ke=u,n_(u)):ke=null}break t}}Ke=0,xr=null,ac(e,t,a,5);break;case 6:Ke=0,xr=null,ac(e,t,a,6);break;case 8:jT(),Ot=6;break e;default:throw Error(W(462))}}jG();break}catch(c){j3(e,c)}while(!0);return ja=fu=null,ye.H=r,ye.A=i,$e=n,ke!==null?0:(tt=null,Me=0,K0(),Ot)}function jG(){for(;ke!==null&&!aq();)V3(ke)}function V3(e){var t=h3(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?n_(e):ke=t}function e2(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=KO(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=KO(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:xT(t);default:p3(n,t),t=ke=pL(t,ts),t=h3(n,t,ts)}e.memoizedProps=e.pendingProps,t===null?n_(e):ke=t}function ac(e,t,n,r){ja=fu=null,xT(t),mc=null,Ch=0;var i=t.return;try{if(SG(e,i,t,n,Me)){Ot=1,Uy(e,Xr(n,e.current)),ke=null;return}}catch(a){if(i!==null)throw ke=i,a;Ot=1,Uy(e,Xr(n,e.current)),ke=null;return}t.flags&32768?(Le||r===1?e=!0:vf||Me&536870912?e=!1:(so=e=!0,(r===2||r===9||r===3||r===6)&&(r=jr.current,r!==null&&r.tag===13&&(r.flags|=16384))),B3(t,e)):n_(t)}function n_(e){var t=e;do{if(t.flags&32768){B3(t,so);return}e=t.return;var n=CG(t.alternate,t,ts);if(n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ot===0&&(Ot=5)}function B3(e,t){do{var n=NG(e.alternate,e);if(n!==null){n.flags&=32767,ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=n}while(e!==null);Ot=6,ke=null}function t2(e,t,n,r,i,a,s,o,l){e.cancelPendingCommit=null;do r_();while(Yt!==0);if($e&6)throw Error(W(327));if(t!==null){if(t===e.current)throw Error(W(177));if(a=t.lanes|t.childLanes,a|=oT,mq(e,n,a,s,o,l),e===tt&&(ke=tt=null,Me=0),zc=t,go=e,qa=n,I1=a,O1=i,R3=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,VG(Ny,function(){return G3(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ye.T,ye.T=null,i=Fe.p,Fe.p=2,s=$e,$e|=4;try{IG(e,t,n)}finally{$e=s,Fe.p=i,ye.T=r}}Yt=1,$3(),F3(),H3()}}function $3(){if(Yt===1){Yt=0;var e=go,t=zc,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ye.T,ye.T=null;var r=Fe.p;Fe.p=2;var i=$e;$e|=4;try{T3(t,e);var a=D1,s=sL(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&aL(o.ownerDocument.documentElement,o)){if(l!==null&&sT(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),m=o.textContent.length,g=Math.min(l.start,m),_=l.end===void 0?g:Math.min(l.end,m);!p.extend&&g>_&&(s=_,_=g,g=s);var y=EO(o,g),x=EO(o,_);if(y&&x&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var E=f.createRange();E.setStart(y.node,y.offset),p.removeAllRanges(),g>_?(p.addRange(E),p.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),p.addRange(E))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var S=f[o];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Zy=!!M1,D1=M1=null}finally{$e=i,Fe.p=r,ye.T=n}}e.current=t,Yt=2}}function F3(){if(Yt===2){Yt=0;var e=go,t=zc,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ye.T,ye.T=null;var r=Fe.p;Fe.p=2;var i=$e;$e|=4;try{b3(e,t.alternate,t)}finally{$e=i,Fe.p=r,ye.T=n}}Yt=3}}function H3(){if(Yt===4||Yt===3){Yt=0,sq();var e=go,t=zc,n=qa,r=R3;t.subtreeFlags&10256||t.flags&10256?Yt=5:(Yt=0,zc=go=null,q3(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(mo=null),JS(n),t=t.stateNode,Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Sp,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ye.T,i=Fe.p,Fe.p=2,ye.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ye.T=t,Fe.p=i}}qa&3&&r_(),_a(e),i=e.pendingLanes,n&261930&&i&42?e===P1?ah++:(ah=0,P1=e):ah=0,kp(0)}}function q3(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ip(t)))}function r_(){return $3(),F3(),H3(),G3()}function G3(){if(Yt!==5)return!1;var e=go,t=I1;I1=0;var n=JS(qa),r=ye.T,i=Fe.p;try{Fe.p=32>n?32:n,ye.T=null,n=O1,O1=null;var a=go,s=qa;if(Yt=0,zc=go=null,qa=0,$e&6)throw Error(W(331));var o=$e;if($e|=4,O3(a.current),C3(a,a.current,s,n),$e=o,kp(0,!1),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Sp,a)}catch{}return!0}finally{Fe.p=i,ye.T=r,q3(e,t)}}function n2(e,t,n){t=Xr(n,t),t=S1(e.stateNode,t,2),e=po(e,t,2),e!==null&&(Ap(e,2),_a(e))}function We(e,t,n){if(e.tag===3)n2(e,e,n);else for(;t!==null;){if(t.tag===3){n2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mo===null||!mo.has(r))){e=Xr(n,e),n=o3(2),r=po(t,n,2),r!==null&&(l3(n,r,t,e),Ap(r,2),_a(r));break}}t=t.return}}function Ux(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kG;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(MT=!0,i.add(n),e=LG.bind(null,e,t,n),t.then(e,e))}function LG(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tt===e&&(Me&n)===n&&(Ot===4||Ot===3&&(Me&62914560)===Me&&300>Or()-e_?!($e&2)&&Uc(e,0):DT|=n,Lc===Me&&(Lc=0)),_a(e)}function K3(e,t){t===0&&(t=z4()),e=cu(e,t),e!==null&&(Ap(e,t),_a(e))}function zG(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),K3(e,n)}function UG(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(W(314))}r!==null&&r.delete(t),K3(e,n)}function VG(e,t){return QS(e,t)}var qy=null,Hu=null,k1=!1,Gy=!1,Vx=!1,lo=0;function _a(e){e!==Hu&&e.next===null&&(Hu===null?qy=Hu=e:Hu=Hu.next=e),Gy=!0,k1||(k1=!0,$G())}function kp(e,t){if(!Vx&&Gy){Vx=!0;do for(var n=!1,r=qy;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-kr(42|e)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,r2(r,a))}else a=Me,a=F0(r,r===tt?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Tp(r,a)||(n=!0,r2(r,a));r=r.next}while(n);Vx=!1}}function BG(){Y3()}function Y3(){Gy=k1=!1;var e=0;lo!==0&&ZG()&&(e=lo);for(var t=Or(),n=null,r=qy;r!==null;){var i=r.next,a=W3(r,t);a===0?(r.next=null,n===null?qy=i:n.next=i,i===null&&(Hu=n)):(n=r,(e!==0||a&3)&&(Gy=!0)),r=i}Yt!==0&&Yt!==5||kp(e),lo!==0&&(lo=0)}function W3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-kr(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=pq(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(t=tt,n=Me,n=F0(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&px(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Tp(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&px(r),JS(n)){case 2:case 8:n=j4;break;case 32:n=Ny;break;case 268435456:n=L4;break;default:n=Ny}return r=X3.bind(null,e),n=QS(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&px(r),e.callbackPriority=2,e.callbackNode=null,2}function X3(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(r_()&&e.callbackNode!==n)return null;var r=Me;return r=F0(e,e===tt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(D3(e,r,t),W3(e,Or()),e.callbackNode!=null&&e.callbackNode===n?X3.bind(null,e):null)}function r2(e,t){if(r_())return null;D3(e,t,!0)}function $G(){eK(function(){$e&6?QS(D4,BG):Y3()})}function LT(){if(lo===0){var e=Mc;e===0&&(e=Hm,Hm<<=1,!(Hm&261888)&&(Hm=256)),lo=e}return lo}function i2(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ug(""+e)}function a2(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function FG(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var a=i2((i[dr]||null).action),s=r.submitter;s&&(t=(t=s[dr]||null)?i2(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new H0("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(lo!==0){var l=s?a2(i,s):new FormData(i);w1(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?a2(i,s):new FormData(i),w1(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Bx=0;Bx<c1.length;Bx++){var $x=c1[Bx],HG=$x.toLowerCase(),qG=$x[0].toUpperCase()+$x.slice(1);Mi(HG,"on"+qG)}Mi(lL,"onAnimationEnd");Mi(uL,"onAnimationIteration");Mi(cL,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(oG,"onTransitionRun");Mi(lG,"onTransitionStart");Mi(uG,"onTransitionCancel");Mi(fL,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oh));function Q3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Oy(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){Oy(c)}i.currentTarget=null,a=l}}}}function Oe(e,t){var n=t[n1];n===void 0&&(n=t[n1]=new Set);var r=e+"__bubble";n.has(r)||(Z3(t,e,2,!1),n.add(r))}function Fx(e,t,n){var r=0;t&&(r|=4),Z3(n,e,r,t)}var eg="_reactListening"+Math.random().toString(36).slice(2);function zT(e){if(!e[eg]){e[eg]=!0,F4.forEach(function(n){n!=="selectionchange"&&(GG.has(n)||Fx(n,!1,e),Fx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eg]||(t[eg]=!0,Fx("selectionchange",!1,t))}}function Z3(e,t,n,r){switch(f5(t)){case 2:var i=bK;break;case 8:i=xK;break;default:i=$T}n=i.bind(null,t,n,e),i=void 0,!o1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hx(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=Xu(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}Q4(function(){var u=a,c=nT(n),f=[];e:{var d=dL.get(e);if(d!==void 0){var p=H0,m=e;switch(e){case"keypress":if(Bg(n)===0)break e;case"keydown":case"keyup":p=Uq;break;case"focusin":m="focus",p=_x;break;case"focusout":m="blur",p=_x;break;case"beforeblur":case"afterblur":p=_x;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Cq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$q;break;case lL:case uL:case cL:p=Oq;break;case fL:p=Hq;break;case"scroll":case"scrollend":p=Tq;break;case"wheel":p=Gq;break;case"copy":case"cut":case"paste":p=kq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mO;break;case"toggle":case"beforetoggle":p=Yq}var g=(t&4)!==0,_=!g&&(e==="scroll"||e==="scrollend"),y=g?d!==null?d+"Capture":null:d;g=[];for(var x=u,E;x!==null;){var S=x;if(E=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||E===null||y===null||(S=wh(x,y),S!=null&&g.push(Ph(x,S,E))),_)break;x=x.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==s1&&(m=n.relatedTarget||n.fromElement)&&(Xu(m)||m[pf]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Xu(m):null,m!==null&&(_=Ep(m),g=m.tag,m!==_||g!==5&&g!==27&&g!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=hO,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=mO,S="onPointerLeave",y="onPointerEnter",x="pointer"),_=p==null?d:Md(p),E=m==null?d:Md(m),d=new g(S,x+"leave",p,n,c),d.target=_,d.relatedTarget=E,S=null,Xu(c)===u&&(g=new g(y,x+"enter",m,n,c),g.target=E,g.relatedTarget=_,S=g),_=S,p&&m)t:{for(g=KG,y=p,x=m,E=0,S=y;S;S=g(S))E++;S=0;for(var P=x;P;P=g(P))S++;for(;0<E-S;)y=g(y),E--;for(;0<S-E;)x=g(x),S--;for(;E--;){if(y===x||x!==null&&y===x.alternate){g=y;break t}y=g(y),x=g(x)}g=null}else g=null;p!==null&&s2(f,d,p,g,!1),m!==null&&_!==null&&s2(f,_,m,g,!0)}}e:{if(d=u?Md(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=_O;else if(vO(d))if(rL)M=iG;else{M=nG;var T=tG}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&tT(u.elementType)&&(M=_O):M=rG;if(M&&(M=M(e,u))){nL(f,M,n,c);break e}T&&T(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&a1(d,"number",d.value)}switch(T=u?Md(u):window,e){case"focusin":(vO(T)||T.contentEditable==="true")&&(Ju=T,l1=u,Xd=null);break;case"focusout":Xd=l1=Ju=null;break;case"mousedown":u1=!0;break;case"contextmenu":case"mouseup":case"dragend":u1=!1,SO(f,n,c);break;case"selectionchange":if(sG)break;case"keydown":case"keyup":SO(f,n,c)}var A;if(aT)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Zu?eL(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(J4&&n.locale!=="ko"&&(Zu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Zu&&(A=Z4()):(ao=c,rT="value"in ao?ao.value:ao.textContent,Zu=!0)),T=Ky(u,C),0<T.length&&(C=new pO(C,e,null,n,c),f.push({event:C,listeners:T}),A?C.data=A:(A=tL(n),A!==null&&(C.data=A)))),(A=Xq?Qq(e,n):Zq(e,n))&&(C=Ky(u,"onBeforeInput"),0<C.length&&(T=new pO("onBeforeInput","beforeinput",null,n,c),f.push({event:T,listeners:C}),T.data=A)),FG(f,e,u,n,c)}Q3(f,t)})}function Ph(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ky(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=wh(e,n),i!=null&&r.unshift(Ph(e,i,a)),i=wh(e,t),i!=null&&r.push(Ph(e,i,a))),e.tag===3)return r;e=e.return}return[]}function KG(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=wh(n,a),u!=null&&s.unshift(Ph(n,u,l))):i||(u=wh(n,a),u!=null&&s.push(Ph(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var YG=/\r\n?/g,WG=/\u0000|\uFFFD/g;function o2(e){return(typeof e=="string"?e:""+e).replace(YG,`
`).replace(WG,"")}function J3(e,t){return t=o2(t),o2(e)===t}function Qe(e,t,n,r,i,a){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Rc(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Rc(e,""+r);break;case"className":Km(e,"class",r);break;case"tabIndex":Km(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Km(e,n,r);break;case"style":X4(e,r,a);break;case"data":if(t!=="object"){Km(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Ug(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&Qe(e,t,"name",i.name,i,null),Qe(e,t,"formEncType",i.formEncType,i,null),Qe(e,t,"formMethod",i.formMethod,i,null),Qe(e,t,"formTarget",i.formTarget,i,null)):(Qe(e,t,"encType",i.encType,i,null),Qe(e,t,"method",i.method,i,null),Qe(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Ug(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Da);break;case"onScroll":r!=null&&Oe("scroll",e);break;case"onScrollEnd":r!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(W(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(W(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Ug(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),zg(e,"popover",r);break;case"xlinkActuate":Sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sa(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sa(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sa(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sa(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":zg(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Eq.get(n)||n,zg(e,n,r))}}function R1(e,t,n,r,i,a){switch(n){case"style":X4(e,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(W(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(W(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Rc(e,r):(typeof r=="number"||typeof r=="bigint")&&Rc(e,""+r);break;case"onScroll":r!=null&&Oe("scroll",e);break;case"onScrollEnd":r!=null&&Oe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!H4.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[dr]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):zg(e,n,r)}}}function Pn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:Qe(e,t,a,s,n,null)}}i&&Qe(e,t,"srcSet",n.srcSet,n,null),r&&Qe(e,t,"src",n.src,n,null);return;case"input":Oe("invalid",e);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(W(137,t));break;default:Qe(e,t,r,c,n,null)}}K4(e,a,o,l,u,s,i,!1);return;case"select":Oe("invalid",e),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Qe(e,t,i,o,n,null)}t=a,n=s,e.multiple=!!r,t!=null?dc(e,!!r,t,!1):n!=null&&dc(e,!!r,n,!0);return;case"textarea":Oe("invalid",e),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(W(91));break;default:Qe(e,t,s,o,n,null)}W4(e,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qe(e,t,l,r,n,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(r=0;r<Oh.length;r++)Oe(Oh[r],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:Qe(e,t,u,r,n,null)}return;default:if(tT(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&R1(e,t,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Qe(e,t,o,r,n,null))}function XG(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Qe(e,t,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(W(137,t));break;default:p!==f&&Qe(e,t,d,p,r,f)}}i1(e,s,o,l,u,c,a,i);return;case"select":p=s=o=d=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||Qe(e,t,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":d=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Qe(e,t,i,a,r,l)}t=o,n=s,r=p,d!=null?dc(e,!!n,d,!1):!!r!=!!n&&(t!=null?dc(e,!!n,t,!0):dc(e,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Qe(e,t,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(W(91));break;default:i!==a&&Qe(e,t,s,i,r,a)}Y4(e,d,p);return;case"option":for(var m in n)if(d=n[m],n.hasOwnProperty(m)&&d!=null&&!r.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:Qe(e,t,m,null,r,d)}for(l in r)if(d=r[l],p=n[l],r.hasOwnProperty(l)&&d!==p&&(d!=null||p!=null))switch(l){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Qe(e,t,l,d,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!r.hasOwnProperty(g)&&Qe(e,t,g,null,r,d);for(u in r)if(d=r[u],p=n[u],r.hasOwnProperty(u)&&d!==p&&(d!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(W(137,t));break;default:Qe(e,t,u,d,r,p)}return;default:if(tT(t)){for(var _ in n)d=n[_],n.hasOwnProperty(_)&&d!==void 0&&!r.hasOwnProperty(_)&&R1(e,t,_,void 0,r,d);for(c in r)d=r[c],p=n[c],!r.hasOwnProperty(c)||d===p||d===void 0&&p===void 0||R1(e,t,c,d,r,p);return}}for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y)&&Qe(e,t,y,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||d==null&&p==null||Qe(e,t,f,d,r,p)}function l2(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QG(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&l2(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,f=l.initiatorType;c&&l2(f)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,t+=8*(a+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var M1=null,D1=null;function Yy(e){return e.nodeType===9?e:e.ownerDocument}function u2(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e5(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function j1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qx=null;function ZG(){var e=window.event;return e&&e.type==="popstate"?e===qx?!1:(qx=e,!0):(qx=null,!1)}var t5=typeof setTimeout=="function"?setTimeout:void 0,JG=typeof clearTimeout=="function"?clearTimeout:void 0,c2=typeof Promise=="function"?Promise:void 0,eK=typeof queueMicrotask=="function"?queueMicrotask:typeof c2<"u"?function(e){return c2.resolve(null).then(e).catch(tK)}:t5;function tK(e){setTimeout(function(){throw e})}function qo(e){return e==="head"}function f2(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),Bc(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")sh(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,sh(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Cp]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&sh(e.ownerDocument.body);n=i}while(n);Bc(t)}function d2(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function L1(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":L1(n),eT(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function nK(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Cp])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=ni(e.nextSibling),e===null)break}return null}function rK(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ni(e.nextSibling),e===null))return null;return e}function n5(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ni(e.nextSibling),e===null))return null;return e}function z1(e){return e.data==="$?"||e.data==="$~"}function U1(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iK(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ni(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var V1=null;function h2(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ni(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function p2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function r5(e,t,n){switch(t=Yy(n),e){case"html":if(e=t.documentElement,!e)throw Error(W(452));return e;case"head":if(e=t.head,!e)throw Error(W(453));return e;case"body":if(e=t.body,!e)throw Error(W(454));return e;default:throw Error(W(451))}}function sh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);eT(e)}var ri=new Map,m2=new Set;function Wy(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=Fe.d;Fe.d={f:aK,r:sK,D:oK,C:lK,L:uK,m:cK,X:dK,S:fK,M:hK};function aK(){var e=ys.f(),t=t_();return e||t}function sK(e){var t=mf(e);t!==null&&t.tag===5&&t.type==="form"?XL(t):ys.r(e)}var _f=typeof document>"u"?null:document;function i5(e,t,n){var r=_f;if(r&&typeof t=="string"&&t){var i=Wr(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),m2.has(i)||(m2.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Pn(t,"link",e),un(t),r.head.appendChild(t)))}}function oK(e){ys.D(e),i5("dns-prefetch",e,null)}function lK(e,t){ys.C(e,t),i5("preconnect",e,t)}function uK(e,t,n){ys.L(e,t,n);var r=_f;if(r&&e&&t){var i='link[rel="preload"][as="'+Wr(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Wr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Wr(n.imageSizes)+'"]')):i+='[href="'+Wr(e)+'"]';var a=i;switch(t){case"style":a=Vc(e);break;case"script":a=bf(e)}ri.has(a)||(e=gt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ri.set(a,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Rp(a))||t==="script"&&r.querySelector(Mp(a))||(t=r.createElement("link"),Pn(t,"link",e),un(t),r.head.appendChild(t)))}}function cK(e,t){ys.m(e,t);var n=_f;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Wr(r)+'"][href="'+Wr(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=bf(e)}if(!ri.has(a)&&(e=gt({rel:"modulepreload",href:e},t),ri.set(a,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mp(a)))return}r=n.createElement("link"),Pn(r,"link",e),un(r),n.head.appendChild(r)}}}function fK(e,t,n){ys.S(e,t,n);var r=_f;if(r&&e){var i=fc(r).hoistableStyles,a=Vc(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Rp(a)))o.loading=5;else{e=gt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ri.get(a))&&UT(e,n);var l=s=r.createElement("link");un(l),Pn(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Wg(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function dK(e,t){ys.X(e,t);var n=_f;if(n&&e){var r=fc(n).hoistableScripts,i=bf(e),a=r.get(i);a||(a=n.querySelector(Mp(i)),a||(e=gt({src:e,async:!0},t),(t=ri.get(i))&&VT(e,t),a=n.createElement("script"),un(a),Pn(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function hK(e,t){ys.M(e,t);var n=_f;if(n&&e){var r=fc(n).hoistableScripts,i=bf(e),a=r.get(i);a||(a=n.querySelector(Mp(i)),a||(e=gt({src:e,async:!0,type:"module"},t),(t=ri.get(i))&&VT(e,t),a=n.createElement("script"),un(a),Pn(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function g2(e,t,n,r){var i=(i=co.current)?Wy(i):null;if(!i)throw Error(W(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Vc(n.href),n=fc(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Vc(n.href);var a=fc(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(Rp(e)))&&!a._p&&(s.instance=a,s.state.loading=5),ri.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ri.set(e,n),a||pK(i,e,n,s.state))),t&&r===null)throw Error(W(528,""));return s}if(t&&r!==null)throw Error(W(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bf(n),n=fc(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,e))}}function Vc(e){return'href="'+Wr(e)+'"'}function Rp(e){return'link[rel="stylesheet"]['+e+"]"}function a5(e){return gt({},e,{"data-precedence":e.precedence,precedence:null})}function pK(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Pn(t,"link",n),un(t),e.head.appendChild(t))}function bf(e){return'[src="'+Wr(e)+'"]'}function Mp(e){return"script[async]"+e}function y2(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Wr(n.href)+'"]');if(r)return t.instance=r,un(r),r;var i=gt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),un(r),Pn(r,"style",i),Wg(r,n.precedence,e),t.instance=r;case"stylesheet":i=Vc(n.href);var a=e.querySelector(Rp(i));if(a)return t.state.loading|=4,t.instance=a,un(a),a;r=a5(n),(i=ri.get(i))&&UT(r,i),a=(e.ownerDocument||e).createElement("link"),un(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Pn(a,"link",r),t.state.loading|=4,Wg(a,n.precedence,e),t.instance=a;case"script":return a=bf(n.src),(i=e.querySelector(Mp(a)))?(t.instance=i,un(i),i):(r=n,(i=ri.get(a))&&(r=gt({},n),VT(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),un(i),Pn(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(W(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Wg(r,n.precedence,e));return t.instance}function Wg(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function UT(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function VT(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xg=null;function v2(e,t,n){if(Xg===null){var r=new Map,i=Xg=new Map;i.set(n,r)}else i=Xg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Cp]||a[An]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function _2(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function mK(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function s5(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function gK(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Vc(r.href),a=t.querySelector(Rp(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xy.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,un(a);return}a=t.ownerDocument||t,r=a5(r),(i=ri.get(i))&&UT(r,i),a=a.createElement("link"),un(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Pn(a,"link",r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Xy.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Gx=0;function yK(e,t){return e.stylesheets&&e.count===0&&Qg(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Qg(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Gx===0&&(Gx=62500*QG());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qg(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Gx?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Xy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qg(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qy=null;function Qg(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qy=new Map,t.forEach(vK,e),Qy=null,Xy.call(e))}function vK(e,t){if(!(t.state.loading&4)){var n=Qy.get(e);if(n)var r=n.get(null);else{n=new Map,Qy.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Xy.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var kh={$$typeof:Ma,Provider:null,Consumer:null,_currentValue:Al,_currentValue2:Al,_threadCount:0};function _K(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mx(0),this.hiddenUpdates=mx(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function o5(e,t,n,r,i,a,s,o,l,u,c,f){return e=new _K(e,t,n,s,l,u,c,f,o),t=1,a===!0&&(t|=24),a=Sr(3,null,null,t),e.current=a,a.stateNode=e,t=dT(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},mT(a),e}function l5(e){return e?(e=nc,e):nc}function u5(e,t,n,r,i,a){i=l5(i),r.context===null?r.context=i:r.pendingContext=i,r=ho(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=po(e,r,t),n!==null&&(cr(n,e,t),Zd(n,e,t))}function b2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function BT(e,t){b2(e,t),(e=e.alternate)&&b2(e,t)}function c5(e){if(e.tag===13||e.tag===31){var t=cu(e,67108864);t!==null&&cr(t,e,67108864),BT(e,67108864)}}function x2(e){if(e.tag===13||e.tag===31){var t=Rr();t=ZS(t);var n=cu(e,t);n!==null&&cr(n,e,t),BT(e,t)}}var Zy=!0;function bK(e,t,n,r){var i=ye.T;ye.T=null;var a=Fe.p;try{Fe.p=2,$T(e,t,n,r)}finally{Fe.p=a,ye.T=i}}function xK(e,t,n,r){var i=ye.T;ye.T=null;var a=Fe.p;try{Fe.p=8,$T(e,t,n,r)}finally{Fe.p=a,ye.T=i}}function $T(e,t,n,r){if(Zy){var i=B1(r);if(i===null)Hx(e,t,r,Jy,n),w2(e,r);else if(EK(i,e,t,n,r))r.stopPropagation();else if(w2(e,r),t&4&&-1<wK.indexOf(e)){for(;i!==null;){var a=mf(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=ul(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-kr(s);o.entanglements[1]|=l,s&=~l}_a(a),!($e&6)&&($y=Or()+500,kp(0))}}break;case 31:case 13:o=cu(a,2),o!==null&&cr(o,a,2),t_(),BT(a,2)}if(a=B1(r),a===null&&Hx(e,t,r,Jy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Hx(e,t,r,null,n)}}function B1(e){return e=nT(e),FT(e)}var Jy=null;function FT(e){if(Jy=null,e=Xu(e),e!==null){var t=Ep(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=O4(t),e!==null)return e;e=null}else if(n===31){if(e=P4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jy=e,null}function f5(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oq()){case D4:return 2;case j4:return 8;case Ny:case lq:return 32;case L4:return 268435456;default:return 32}default:return 32}}var $1=!1,yo=null,vo=null,_o=null,Rh=new Map,Mh=new Map,Qs=[],wK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w2(e,t){switch(e){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(t.pointerId)}}function cd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=mf(t),t!==null&&c5(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function EK(e,t,n,r,i){switch(t){case"focusin":return yo=cd(yo,e,t,n,r,i),!0;case"dragenter":return vo=cd(vo,e,t,n,r,i),!0;case"mouseover":return _o=cd(_o,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rh.set(a,cd(Rh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mh.set(a,cd(Mh.get(a)||null,e,t,n,r,i)),!0}return!1}function d5(e){var t=Xu(e.target);if(t!==null){var n=Ep(t);if(n!==null){if(t=n.tag,t===13){if(t=O4(n),t!==null){e.blockedOn=t,sO(e.priority,function(){x2(n)});return}}else if(t===31){if(t=P4(n),t!==null){e.blockedOn=t,sO(e.priority,function(){x2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=B1(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);s1=r,n.target.dispatchEvent(r),s1=null}else return t=mf(n),t!==null&&c5(t),e.blockedOn=n,!1;t.shift()}return!0}function E2(e,t,n){Zg(e)&&n.delete(t)}function SK(){$1=!1,yo!==null&&Zg(yo)&&(yo=null),vo!==null&&Zg(vo)&&(vo=null),_o!==null&&Zg(_o)&&(_o=null),Rh.forEach(E2),Mh.forEach(E2)}function tg(e,t){e.blockedOn===t&&(e.blockedOn=null,$1||($1=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,SK)))}var ng=null;function S2(e){ng!==e&&(ng=e,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,function(){ng===e&&(ng=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(FT(r||n)===null)continue;break}var a=mf(n);a!==null&&(e.splice(t,3),t-=3,w1(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Bc(e){function t(l){return tg(l,e)}yo!==null&&tg(yo,e),vo!==null&&tg(vo,e),_o!==null&&tg(_o,e),Rh.forEach(t),Mh.forEach(t);for(var n=0;n<Qs.length;n++){var r=Qs[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)d5(n),n.blockedOn===null&&Qs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[dr]||null;if(typeof a=="function")s||S2(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[dr]||null)o=s.formAction;else if(FT(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),S2(n)}}}function h5(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function HT(e){this._internalRoot=e}i_.prototype.render=HT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));var n=t.current,r=Rr();u5(n,r,e,t,null,null)};i_.prototype.unmount=HT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u5(e.current,2,null,e,null,null),t_(),t[pf]=null}};function i_(e){this._internalRoot=e}i_.prototype.unstable_scheduleHydration=function(e){if(e){var t=$4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qs.length&&t!==0&&t<Qs[n].priority;n++);Qs.splice(n,0,e),n===0&&d5(e)}};var T2=N4.version;if(T2!=="19.2.4")throw Error(W(527,T2,"19.2.4"));Fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=eq(t),e=e!==null?k4(e):null,e=e===null?null:e.stateNode,e};var TK={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ye,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rg.isDisabled&&rg.supportsFiber)try{Sp=rg.inject(TK),Pr=rg}catch{}}V0.createRoot=function(e,t){if(!I4(e))throw Error(W(299));var n=!1,r="",i=i3,a=a3,s=s3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=o5(e,1,!1,null,null,n,r,null,i,a,s,h5),e[pf]=t.current,zT(e),new HT(t)};V0.hydrateRoot=function(e,t,n){if(!I4(e))throw Error(W(299));var r=!1,i="",a=i3,s=a3,o=s3,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=o5(e,1,!0,t,n??null,r,i,l,a,s,o,h5),t.context=l5(null),n=t.current,r=Rr(),r=ZS(r),i=ho(r),i.callback=null,po(n,i,r),n=r,t.current.lanes=n,Ap(t,n),_a(t),e[pf]=t.current,zT(e),new i_(t)};V0.version="19.2.4";function p5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p5)}catch(e){console.error(e)}}p5(),w4.exports=V0;var AK=w4.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A2="popstate";function CK(e={}){function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return F1("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dh(i)}return IK(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NK(){return Math.random().toString(36).substring(2,10)}function C2(e,t){return{usr:e.state,key:e.key,idx:t}}function F1(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xf(t):t,state:n,key:t&&t.key||r||NK()}}function Dh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function IK(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let _=c(),y=_==null?null:_-u;u=_,l&&l({action:o,location:g.location,delta:y})}function d(_,y){o="PUSH";let x=F1(g.location,_,y);u=c()+1;let E=C2(x,u),S=g.createHref(x);try{s.pushState(E,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}a&&l&&l({action:o,location:g.location,delta:1})}function p(_,y){o="REPLACE";let x=F1(g.location,_,y);u=c();let E=C2(x,u),S=g.createHref(x);s.replaceState(E,"",S),a&&l&&l({action:o,location:g.location,delta:0})}function m(_){return OK(_)}let g={get action(){return o},get location(){return e(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(A2,f),l=_,()=>{i.removeEventListener(A2,f),l=null}},createHref(_){return t(i,_)},createURL:m,encodeLocation(_){let y=m(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(_){return s.go(_)}};return g}function OK(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Dh(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function m5(e,t,n="/"){return PK(e,t,n,!1)}function PK(e,t,n,r){let i=typeof t=="string"?xf(t):t,a=ns(i.pathname||"/",n);if(a==null)return null;let s=g5(e);kK(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=FK(a);o=BK(s[l],u,r)}return o}function g5(e,t=[],n=[],r="",i=!1){let a=(s,o,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;wt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=Ga([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(wt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),g5(s.children,t,d,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:UK(f,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of y5(s.path))a(s,o,!0,u)}),t}function y5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=y5(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function kK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var RK=/^:[\w-]+$/,MK=3,DK=2,jK=1,LK=10,zK=-2,N2=e=>e==="*";function UK(e,t){let n=e.split("/"),r=n.length;return n.some(N2)&&(r+=zK),t&&(r+=DK),n.filter(i=>!N2(i)).reduce((i,a)=>i+(RK.test(a)?MK:a===""?jK:LK),r)}function VK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function BK(e,t,n=!1){let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=ev({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ev({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ga([a,f.pathname]),pathnameBase:KK(Ga([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=Ga([a,f.pathnameBase]))}return s}function ev(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$K(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let m=o[d]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const p=o[d];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function $K(e,t=!1,n=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function FK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ns(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var HK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function qK(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xf(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=I2(n.substring(1),"/"):a=I2(n,t)):a=t,{pathname:a,search:YK(r),hash:WK(i)}}function I2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qT(e){let t=GK(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function GT(e,t,n,r=!1){let i;typeof e=="string"?i=xf(e):(i={...e},wt(!i.pathname||!i.pathname.includes("?"),Kx("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Kx("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Kx("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?t[f]:"/"}let l=qK(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Ga=e=>e.join("/").replace(/\/\/+/g,"/"),KK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,XK=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function QK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ZK(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var v5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _5(e,t){let n=e;if(typeof n!="string"||!HK.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(v5)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=ns(s.pathname,t);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{Oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b5=["POST","PUT","PATCH","DELETE"];new Set(b5);var JK=["GET",...b5];new Set(JK);var wf=v.createContext(null);wf.displayName="DataRouter";var a_=v.createContext(null);a_.displayName="DataRouterState";var eY=v.createContext(!1),x5=v.createContext({isTransitioning:!1});x5.displayName="ViewTransition";var tY=v.createContext(new Map);tY.displayName="Fetchers";var nY=v.createContext(null);nY.displayName="Await";var Ur=v.createContext(null);Ur.displayName="Navigation";var Dp=v.createContext(null);Dp.displayName="Location";var ba=v.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var KT=v.createContext(null);KT.displayName="RouteError";var w5="REACT_ROUTER_ERROR",rY="REDIRECT",iY="ROUTE_ERROR_RESPONSE";function aY(e){if(e.startsWith(`${w5}:${rY}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function sY(e){if(e.startsWith(`${w5}:${iY}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new XK(t.status,t.statusText,t.data)}catch{}}function oY(e,{relative:t}={}){wt(Ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(Ur),{hash:i,pathname:a,search:s}=jp(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:Ga([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Ef(){return v.useContext(Dp)!=null}function vs(){return wt(Ef(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Dp).location}var E5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S5(e){v.useContext(Ur).static||v.useLayoutEffect(e)}function Sf(){let{isDataRoute:e}=v.useContext(ba);return e?bY():lY()}function lY(){wt(Ef(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(wf),{basename:t,navigator:n}=v.useContext(Ur),{matches:r}=v.useContext(ba),{pathname:i}=vs(),a=JSON.stringify(qT(r)),s=v.useRef(!1);return S5(()=>{s.current=!0}),v.useCallback((l,u={})=>{if(Oi(s.current,E5),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=GT(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Ga([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,i,e])}v.createContext(null);function jp(e,{relative:t}={}){let{matches:n}=v.useContext(ba),{pathname:r}=vs(),i=JSON.stringify(qT(n));return v.useMemo(()=>GT(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function uY(e,t){return T5(e,t)}function T5(e,t,n,r,i){var x;wt(Ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(Ur),{matches:s}=v.useContext(ba),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";C5(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=vs(),p;if(t){let E=typeof t=="string"?xf(t):t;wt(c==="/"||((x=E.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=d;let m=p.pathname||"/",g=m;if(c!=="/"){let E=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=m5(e,{pathname:g});Oi(f||_!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Oi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=pY(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Ga([c,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Ga([c,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,r,i);return t&&y?v.createElement(Dp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function cY(){let e=_Y(),t=QK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,s)}var fY=v.createElement(cY,null),A5=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=sY(e.digest);n&&(e=n)}let t=e!==void 0?v.createElement(ba.Provider,{value:this.props.routeContext},v.createElement(KT.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(dY,{error:e},t):t}};A5.contextType=eY;var Yx=new WeakMap;function dY({children:e,error:t}){let{basename:n}=v.useContext(Ur);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=aY(t.digest);if(r){let i=Yx.get(t);if(i)throw i;let a=_5(r.location,n);if(v5&&!Yx.get(t))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Yx.set(t,s),s}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function hY({routeContext:e,match:t,children:n}){let r=v.useContext(wf);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ba.Provider,{value:e},n)}function pY(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);wt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=n&&r?(c,f)=>{var d,p;r(c,{location:n.location,params:((p=(d=n.matches)==null?void 0:d[0])==null?void 0:p.params)??{},unstable_pattern:ZK(n.matches),errorInfo:f})}:void 0;return a.reduceRight((c,f,d)=>{let p,m=!1,g=null,_=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||fY,o&&(l<0&&d===0?(C5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,_=null):l===d&&(m=!0,_=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,d+1)),x=()=>{let E;return p?E=g:m?E=_:f.route.Component?E=v.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,v.createElement(hY,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?v.createElement(A5,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):x()},null)}function YT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mY(e){let t=v.useContext(wf);return wt(t,YT(e)),t}function gY(e){let t=v.useContext(a_);return wt(t,YT(e)),t}function yY(e){let t=v.useContext(ba);return wt(t,YT(e)),t}function WT(e){let t=yY(e),n=t.matches[t.matches.length-1];return wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function vY(){return WT("useRouteId")}function _Y(){var r;let e=v.useContext(KT),t=gY("useRouteError"),n=WT("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function bY(){let{router:e}=mY("useNavigate"),t=WT("useNavigate"),n=v.useRef(!1);return S5(()=>{n.current=!0}),v.useCallback(async(i,a={})=>{Oi(n.current,E5),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var O2={};function C5(e,t,n){!t&&!O2[e]&&(O2[e]=!0,Oi(!1,n))}v.memo(xY);function xY({routes:e,future:t,state:n,onError:r}){return T5(e,void 0,n,r,t)}function sl({to:e,replace:t,state:n,relative:r}){wt(Ef(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=v.useContext(Ur);Oi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=v.useContext(ba),{pathname:s}=vs(),o=Sf(),l=GT(e,qT(a),s,r==="path"),u=JSON.stringify(l);return v.useEffect(()=>{o(JSON.parse(u),{replace:t,state:n,relative:r})},[o,u,r,t,n]),null}function Wi(e){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wY({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){wt(!Ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=xf(n));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=n,m=v.useMemo(()=>{let g=ns(u,o);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:p},navigationType:r}},[o,u,c,f,d,p,r]);return Oi(m!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(Ur.Provider,{value:l},v.createElement(Dp.Provider,{children:t,value:m}))}function EY({children:e,location:t}){return uY(H1(e),t)}function H1(e,t=[]){let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let a=[...t,i];if(r.type===v.Fragment){n.push.apply(n,H1(r.props.children,a));return}wt(r.type===Wi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=H1(r.props.children,a)),n.push(s)}),n}var Jg="get",ey="application/x-www-form-urlencoded";function s_(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function SY(e){return s_(e)&&e.tagName.toLowerCase()==="button"}function TY(e){return s_(e)&&e.tagName.toLowerCase()==="form"}function AY(e){return s_(e)&&e.tagName.toLowerCase()==="input"}function CY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NY(e,t){return e.button===0&&(!t||t==="_self")&&!CY(e)}var ig=null;function IY(){if(ig===null)try{new FormData(document.createElement("form"),0),ig=!1}catch{ig=!0}return ig}var OY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wx(e){return e!=null&&!OY.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ey}"`),null):e}function PY(e,t){let n,r,i,a,s;if(TY(e)){let o=e.getAttribute("action");r=o?ns(o,t):null,n=e.getAttribute("method")||Jg,i=Wx(e.getAttribute("enctype"))||ey,a=new FormData(e)}else if(SY(e)||AY(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(r=l?ns(l,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Jg,i=Wx(e.getAttribute("formenctype"))||Wx(o.getAttribute("enctype"))||ey,a=new FormData(o,e),!IY()){let{name:u,type:c,value:f}=e;if(c==="image"){let d=u?`${u}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else u&&a.append(u,f)}}else{if(s_(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jg,r=null,i=ey,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function XT(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kY(e,t,n,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:t&&ns(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function RY(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function DY(e,t,n){let r=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await RY(a,n);return s.links?s.links():[]}return[]}));return UY(r.flat(1).filter(MY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function P2(e,t,n,r,i,a){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,o=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):a==="data"?t.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function jY(e,t,{includeHydrateFallback:n}={}){return LY(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LY(e){return[...new Set(e)]}function zY(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UY(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let a=JSON.stringify(zY(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function N5(){let e=v.useContext(wf);return XT(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VY(){let e=v.useContext(a_);return XT(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var QT=v.createContext(void 0);QT.displayName="FrameworkContext";function I5(){let e=v.useContext(QT);return XT(e,"You must render this element inside a <HydratedRouter> element"),e}function BY(e,t){let n=v.useContext(QT),[r,i]=v.useState(!1),[a,s]=v.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,d=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let g=y=>{y.forEach(x=>{s(x.isIntersecting)})},_=new IntersectionObserver(g,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[e]),v.useEffect(()=>{if(r){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?e!=="intent"?[a,d,{}]:[a,d,{onFocus:fd(o,p),onBlur:fd(l,m),onMouseEnter:fd(u,p),onMouseLeave:fd(c,m),onTouchStart:fd(f,p)}]:[!1,d,{}]}function fd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $Y({page:e,...t}){let{router:n}=N5(),r=v.useMemo(()=>m5(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(HY,{page:e,matches:r,...t}):null}function FY(e){let{manifest:t,routeModules:n}=I5(),[r,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return DY(e,t,n).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,n]),r}function HY({page:e,matches:t,...n}){let r=vs(),{future:i,manifest:a,routeModules:s}=I5(),{basename:o}=N5(),{loaderData:l,matches:u}=VY(),c=v.useMemo(()=>P2(e,t,u,a,r,"data"),[e,t,u,a,r]),f=v.useMemo(()=>P2(e,t,u,a,r,"assets"),[e,t,u,a,r]),d=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,_=!1;if(t.forEach(x=>{var S;let E=a.routes[x.route.id];!E||!E.hasLoader||(!c.some(P=>P.route.id===x.route.id)&&x.route.id in l&&((S=s[x.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?_=!0:g.add(x.route.id))}),g.size===0)return[];let y=kY(e,o,i.unstable_trailingSlashAwareDataRequests,"data");return _&&g.size>0&&y.searchParams.set("_routes",t.filter(x=>g.has(x.route.id)).map(x=>x.route.id).join(",")),[y.pathname+y.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,r,a,c,t,e,s]),p=v.useMemo(()=>jY(f,a),[f,a]),m=FY(f);return v.createElement(v.Fragment,null,d.map(g=>v.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),p.map(g=>v.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),m.map(({key:g,link:_})=>v.createElement("link",{key:g,nonce:n.nonce,..._,crossOrigin:_.crossOrigin??n.crossOrigin})))}function qY(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var GY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GY&&(window.__reactRouterVersion="7.13.0")}catch{}function KY({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=v.useRef();i.current==null&&(i.current=CK({window:r,v5Compat:!0}));let a=i.current,[s,o]=v.useState({action:a.action,location:a.location}),l=v.useCallback(u=>{n===!1?o(u):v.startTransition(()=>o(u))},[n]);return v.useLayoutEffect(()=>a.listen(l),[a,l]),v.createElement(wY,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var O5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o_=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d,...p},m){let{basename:g,unstable_useTransitions:_}=v.useContext(Ur),y=typeof u=="string"&&O5.test(u),x=_5(u,g);u=x.to;let E=oY(u,{relative:i}),[S,P,M]=BY(r,p),T=XY(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:_});function A(I){t&&t(I),I.defaultPrevented||T(I)}let C=v.createElement("a",{...p,...M,href:x.absoluteURL||E,onClick:x.isExternal||a?t:A,ref:qY(m,P),target:l,"data-discover":!y&&n==="render"?"true":void 0});return S&&!y?v.createElement(v.Fragment,null,C,v.createElement($Y,{page:E})):C});o_.displayName="Link";var P5=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:l,...u},c){let f=jp(s,{relative:u.relative}),d=vs(),p=v.useContext(a_),{navigator:m,basename:g}=v.useContext(Ur),_=p!=null&&tW(f)&&o===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,x=d.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&g&&(E=ns(E,g)||E);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let P=x===y||!i&&x.startsWith(y)&&x.charAt(S)==="/",M=E!=null&&(E===y||!i&&E.startsWith(y)&&E.charAt(y.length)==="/"),T={isActive:P,isPending:M,isTransitioning:_},A=P?t:void 0,C;typeof r=="function"?C=r(T):C=[r,P?"active":null,M?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(T):a;return v.createElement(o_,{...u,"aria-current":A,className:C,ref:c,style:I,to:s,viewTransition:o},typeof l=="function"?l(T):l)});P5.displayName="NavLink";var YY=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Jg,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d,...p},m)=>{let{unstable_useTransitions:g}=v.useContext(Ur),_=JY(),y=eW(o,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&O5.test(o),S=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,T=(M==null?void 0:M.getAttribute("formmethod"))||s,A=()=>_(M||P.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d});g&&n!==!1?v.startTransition(()=>A()):A()};return v.createElement("form",{ref:m,method:x,action:y,onSubmit:r?l:S,...p,"data-discover":!E&&e==="render"?"true":void 0})});YY.displayName="Form";function WY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k5(e){let t=v.useContext(wf);return wt(t,WY(e)),t}function XY(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=Sf(),c=vs(),f=jp(e,{relative:a});return v.useCallback(d=>{if(NY(d,t)){d.preventDefault();let p=n!==void 0?n:Dh(c)===Dh(f),m=()=>u(e,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});l?v.startTransition(()=>m()):m()}},[c,u,f,n,r,t,e,i,a,s,o,l])}var QY=0,ZY=()=>`__${String(++QY)}__`;function JY(){let{router:e}=k5("useSubmit"),{basename:t}=v.useContext(Ur),n=vY(),r=e.fetch,i=e.navigate;return v.useCallback(async(a,s={})=>{let{action:o,method:l,encType:u,formData:c,body:f}=PY(a,t);if(s.navigate===!1){let d=s.fetcherKey||ZY();await r(d,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,t,n])}function eW(e,{relative:t}={}){let{basename:n}=v.useContext(Ur),r=v.useContext(ba);wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...jp(e||".",{relative:t})},s=vs();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let c=o.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ga([n,a.pathname])),Dh(a)}function tW(e,{relative:t}={}){let n=v.useContext(x5);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=k5("useViewTransitionState"),i=jp(e,{relative:t});if(!n.isTransitioning)return!1;let a=ns(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ns(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ev(i.pathname,s)!=null||ev(i.pathname,a)!=null}const nW=()=>{};var k2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(e,t){if(!e)throw Tf(t)},Tf=function(e){return new Error("Firebase Database ("+R5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},rW=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[n++],s=e[n++],o=e[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},ZT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,f=(a&3)<<4|o>>4;let d=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(M5(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||f==null)throw new iW;const d=a<<2|o>>4;if(r.push(d),u!==64){const p=o<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class iW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D5=function(e){const t=M5(e);return ZT.encodeByteArray(t,!0)},tv=function(e){return D5(e).replace(/\./g,"")},nv=function(e){try{return ZT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(e){return j5(void 0,e)}function j5(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!sW(n)||(e[n]=j5(e[n],t[n]));return e}function sW(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=()=>oW().__FIREBASE_DEFAULTS__,uW=()=>{if(typeof process>"u"||typeof k2>"u")return;const e=k2.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cW=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nv(e[1]);return t&&JSON.parse(t)},l_=()=>{try{return nW()||lW()||uW()||cW()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},L5=e=>{var t,n;return(n=(t=l_())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},z5=e=>{const t=L5(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},U5=()=>{var e;return(e=l_())==null?void 0:e.config},V5=e=>{var t;return(t=l_())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[tv(JSON.stringify(n)),tv(JSON.stringify(s)),""].join(".")}const oh={};function fW(){const e={prod:[],emulator:[]};for(const t of Object.keys(oh))oh[t]?e.emulator.push(t):e.prod.push(t);return e}function dW(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let R2=!1;function eA(e,t){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||oh[e]===t||oh[e]||R2)return;oh[e]=t;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=fW().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{R2=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=dW(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;o(E),c(_,g);const S=u();l(x,y),E.append(x,m,_,S),document.body.appendChild(E)}a?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function hW(){var t;const e=(t=l_())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function $5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gW(){const e=$n();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yW(){return R5.NODE_ADMIN===!0}function vW(){return!hW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _W(){try{return typeof indexedDB=="object"}catch{return!1}}function bW(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW="FirebaseError";class _s extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=xW,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lp.prototype.create)}}class Lp{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?wW(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new _s(i,o,r)}}function wW(e,t){return e.replace(EW,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const EW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(e){return JSON.parse(e)}function Wt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=function(e){let t={},n={},r={},i="";try{const a=e.split(".");t=jh(nv(a[0])||""),n=jh(nv(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},SW=function(e){const t=F5(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TW=function(e){const t=F5(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $c(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function q1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rv(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Mo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const a=e[i],s=t[i];if(M2(a)&&M2(s)){if(!Mo(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M2(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ld(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function zd(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)r[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const d=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,c;for(let f=0;f<80;f++){f<40?f<20?(u=o^a&(s^o),c=1518500249):(u=a^s^o,c=1859775393):f<60?(u=a&s|o&(a|s),c=2400959708):(u=a^s^o,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[f]&4294967295;l=o,o=s,s=(a<<30|a>>>2)&4294967295,a=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const a=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(a[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(a),s=0;break}}else for(;i<n;)if(a[s]=t[i],++s,++i,s===this.blockSize){this.compress_(a),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)t[r]=this.chain_[i]>>a&255,++r;return t}}function CW(e,t){const n=new NW(e,t);return n.subscribe.bind(n)}class NW{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IW(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Xx),i.error===void 0&&(i.error=Xx),i.complete===void 0&&(i.complete=Xx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IW(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xx(){}function nA(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const a=i-55296;r++,te(r<e.length,"Surrogate pair missing trail surrogate.");const s=e.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},c_=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(e){return e&&e._delegate?e._delegate:e}class Do{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PW=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new u_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RW(t))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(t=dl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=dl){return this.instances.has(t)}getOptions(t=dl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&t(a,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kW(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=dl){return this.component?this.component.multipleInstances?t:dl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kW(e){return e===dl?void 0:e}function RW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new PW(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pe||(Pe={}));const DW={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},jW=Pe.INFO,LW={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},zW=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=LW[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class f_{constructor(t){this.name=t,this._logLevel=jW,this._logHandler=zW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DW[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const UW=(e,t)=>t.some(n=>e instanceof n);let D2,j2;function VW(){return D2||(D2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BW(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H5=new WeakMap,G1=new WeakMap,q5=new WeakMap,Qx=new WeakMap,rA=new WeakMap;function $W(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(bo(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&H5.set(n,e)}).catch(()=>{}),rA.set(t,e),t}function FW(e){if(G1.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});G1.set(e,t)}let K1={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return G1.get(e);if(t==="objectStoreNames")return e.objectStoreNames||q5.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HW(e){K1=e(K1)}function qW(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Zx(this),t,...n);return q5.set(r,t.sort?t.sort():[t]),bo(r)}:BW().includes(e)?function(...t){return e.apply(Zx(this),t),bo(H5.get(this))}:function(...t){return bo(e.apply(Zx(this),t))}}function GW(e){return typeof e=="function"?qW(e):(e instanceof IDBTransaction&&FW(e),UW(e,VW())?new Proxy(e,K1):e)}function bo(e){if(e instanceof IDBRequest)return $W(e);if(Qx.has(e))return Qx.get(e);const t=GW(e);return t!==e&&(Qx.set(e,t),rA.set(t,e)),t}const Zx=e=>rA.get(e);function KW(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=bo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(bo(s.result),l.oldVersion,l.newVersion,bo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const YW=["get","getKey","getAll","getAllKeys","count"],WW=["put","add","delete","clear"],Jx=new Map;function L2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Jx.get(t))return Jx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=WW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YW.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Jx.set(t,a),a}HW(e=>({...e,get:(t,n,r)=>L2(t,n)||e.get(t,n,r),has:(t,n)=>!!L2(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QW(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Y1="@firebase/app",z2="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new f_("@firebase/app"),ZW="@firebase/app-compat",JW="@firebase/analytics-compat",eX="@firebase/analytics",tX="@firebase/app-check-compat",nX="@firebase/app-check",rX="@firebase/auth",iX="@firebase/auth-compat",aX="@firebase/database",sX="@firebase/data-connect",oX="@firebase/database-compat",lX="@firebase/functions",uX="@firebase/functions-compat",cX="@firebase/installations",fX="@firebase/installations-compat",dX="@firebase/messaging",hX="@firebase/messaging-compat",pX="@firebase/performance",mX="@firebase/performance-compat",gX="@firebase/remote-config",yX="@firebase/remote-config-compat",vX="@firebase/storage",_X="@firebase/storage-compat",bX="@firebase/firestore",xX="@firebase/ai",wX="@firebase/firestore-compat",EX="firebase",SX="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="[DEFAULT]",TX={[Y1]:"fire-core",[ZW]:"fire-core-compat",[eX]:"fire-analytics",[JW]:"fire-analytics-compat",[nX]:"fire-app-check",[tX]:"fire-app-check-compat",[rX]:"fire-auth",[iX]:"fire-auth-compat",[aX]:"fire-rtdb",[sX]:"fire-data-connect",[oX]:"fire-rtdb-compat",[lX]:"fire-fn",[uX]:"fire-fn-compat",[cX]:"fire-iid",[fX]:"fire-iid-compat",[dX]:"fire-fcm",[hX]:"fire-fcm-compat",[pX]:"fire-perf",[mX]:"fire-perf-compat",[gX]:"fire-rc",[yX]:"fire-rc-compat",[vX]:"fire-gcs",[_X]:"fire-gcs-compat",[bX]:"fire-fst",[wX]:"fire-fst-compat",[xX]:"fire-vertex","fire-js":"fire-js",[EX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map,AX=new Map,X1=new Map;function U2(e,t){try{e.container.addComponent(t)}catch(n){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Bl(e){const t=e.name;if(X1.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;X1.set(t,e);for(const n of iv.values())U2(n,e);for(const n of AX.values())U2(n,e);return!0}function d_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zr(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new Lp("app","Firebase",CX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=SX;function G5(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:W1,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=U5()),!n)throw xo.create("no-options");const a=iv.get(i);if(a){if(Mo(n,a.options)&&Mo(r,a.config))return a;throw xo.create("duplicate-app",{appName:i})}const s=new MW(i);for(const l of X1.values())s.addComponent(l);const o=new NX(n,r,s);return iv.set(i,o),o}function iA(e=W1){const t=iv.get(e);if(!t&&e===W1&&U5())return G5();if(!t)throw xo.create("no-app",{appName:e});return t}function aa(e,t,n){let r=TX[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(s.join(" "));return}Bl(new Do(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="firebase-heartbeat-database",OX=1,Lh="firebase-heartbeat-store";let ew=null;function K5(){return ew||(ew=KW(IX,OX,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Lh)}catch(n){console.warn(n)}}}}).catch(e=>{throw xo.create("idb-open",{originalErrorMessage:e.message})})),ew}async function PX(e){try{const n=(await K5()).transaction(Lh),r=await n.objectStore(Lh).get(Y5(e));return await n.done,r}catch(t){if(t instanceof _s)rs.warn(t.message);else{const n=xo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rs.warn(n.message)}}}async function V2(e,t){try{const r=(await K5()).transaction(Lh,"readwrite");await r.objectStore(Lh).put(t,Y5(e)),await r.done}catch(n){if(n instanceof _s)rs.warn(n.message);else{const r=xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function Y5(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=1024,RX=30;class MX{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=B2();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>RX){const s=LX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B2(),{heartbeatsToSend:r,unsentEntries:i}=DX(this._heartbeatsCache.heartbeats),a=tv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rs.warn(n),""}}}function B2(){return new Date().toISOString().substring(0,10)}function DX(e,t=kX){const n=[];let r=e.slice();for(const i of e){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),$2(n)>t){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$2(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jX{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _W()?bW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V2(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return V2(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function $2(e){return tv(JSON.stringify({version:2,heartbeats:e})).length}function LX(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(e){Bl(new Do("platform-logger",t=>new XW(t),"PRIVATE")),Bl(new Do("heartbeat",t=>new MX(t),"PRIVATE")),aa(Y1,z2,e),aa(Y1,z2,"esm2020"),aa("fire-js","")}zX("");function W5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UX=W5,X5=new Lp("auth","Firebase",W5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new f_("@firebase/auth");function VX(e,...t){av.logLevel<=Pe.WARN&&av.warn(`Auth (${du}): ${e}`,...t)}function ty(e,...t){av.logLevel<=Pe.ERROR&&av.error(`Auth (${du}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e,...t){throw aA(e,...t)}function sa(e,...t){return aA(e,...t)}function Q5(e,t,n){const r={...UX(),[t]:n};return new Lp("auth","Firebase",r).create(t,{appName:e.name})}function wo(e){return Q5(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aA(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return X5.create(e,...t)}function pe(e,t,...n){if(!e)throw aA(t,...n)}function La(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ty(t),new Error(t)}function is(e,t){e||La(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function BX(){return F2()==="http:"||F2()==="https:"}function F2(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BX()||mW()||"connection"in navigator)?navigator.onLine:!0}function FX(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n){this.shortDelay=t,this.longDelay=n,is(n>t,"Short delay should be less than long delay!"),this.isMobile=tA()||$5()}get(){return $X()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(e,t){is(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GX=new zp(3e4,6e4);function hu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ko(e,t,n,r,i={}){return J5(e,i,async()=>{let a={},s={};r&&(t==="GET"?s=r:a={body:JSON.stringify(r)});const o=Af({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:l,...a};return pW()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&Go(e.emulatorConfig.host)&&(u.credentials="include"),Z5.fetch()(await e6(e,e.config.apiHost,n,o),u)})}async function J5(e,t,n){e._canInitEmulator=!1;const r={...HX,...t};try{const i=new YX(e),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw ag(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ag(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ag(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw ag(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Q5(e,c,u);Pi(e,c)}}catch(i){if(i instanceof _s)throw i;Pi(e,"network-request-failed",{message:String(i)})}}async function h_(e,t,n,r,i={}){const a=await Ko(e,t,n,r,i);return"mfaPendingCredential"in a&&Pi(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function e6(e,t,n,r){const i=`${t}${n}?${r}`,a=e,s=a.config.emulator?sA(e.config,i):`${e.config.apiScheme}://${i}`;return qX.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function KX(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YX{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sa(this.auth,"network-request-failed")),GX.get())})}}function ag(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sa(e,t,r);return i.customData._tokenResponse=n,i}function H2(e){return e!==void 0&&e.enterprise!==void 0}class WX{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return KX(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XX(e,t){return Ko(e,"GET","/v2/recaptchaConfig",hu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QX(e,t){return Ko(e,"POST","/v1/accounts:delete",t)}async function sv(e,t){return Ko(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZX(e,t=!1){const n=Mt(e),r=await n.getIdToken(t),i=oA(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:lh(tw(i.auth_time)),issuedAtTime:lh(tw(i.iat)),expirationTime:lh(tw(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tw(e){return Number(e)*1e3}function oA(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ty("JWT malformed, contained fewer than 3 sections"),null;try{const i=nv(n);return i?JSON.parse(i):(ty("Failed to decode base64 JWT payload"),null)}catch(i){return ty("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function q2(e){const t=oA(e);return pe(t,"internal-error"),pe(typeof t.exp<"u","internal-error"),pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof _s&&JX(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function JX({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ov(e){var f;const t=e.auth,n=await e.getIdToken(),r=await zh(e,sv(t,{idToken:n}));pe(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?t6(i.providerUserInfo):[],s=nQ(e.providerData,a),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Z1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,c)}async function tQ(e){const t=Mt(e);await ov(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nQ(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function t6(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rQ(e,t){const n=await J5(e,{},async()=>{const r=Af({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await e6(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return e.emulatorConfig&&Go(e.emulatorConfig.host)&&(l.credentials="include"),Z5.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iQ(e,t){return Ko(e,"POST","/v2/accounts:revokeToken",hu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe(typeof t.idToken<"u","internal-error"),pe(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):q2(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){pe(t.length!==0,"internal-error");const n=q2(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await rQ(t,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new vc;return r&&(pe(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new vc,this.toJSON())}_performRefresh(){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e,t){pe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new eQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Z1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await zh(this,this.stsTokenManager.getToken(this.auth,t));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ZX(this,t)}reload(){return tQ(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ov(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(wo(this.auth));const t=await this.getIdToken();return await zh(this,QX(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:m,stsTokenManager:g}=n;pe(f&&g,t,"internal-error");const _=vc.fromJSON(this.name,g);pe(typeof f=="string",t,"internal-error"),Vs(r,t.name),Vs(i,t.name),pe(typeof d=="boolean",t,"internal-error"),pe(typeof p=="boolean",t,"internal-error"),Vs(a,t.name),Vs(s,t.name),Vs(o,t.name),Vs(l,t.name),Vs(u,t.name),Vs(c,t.name);const y=new Ei({uid:f,auth:t,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:_,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(y.providerData=m.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,n,r=!1){const i=new vc;i.updateFromServerResponse(n);const a=new Ei({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ov(a),a}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?t6(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new vc;o.updateFromIdToken(r);const l=new Ei({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Z1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new Map;function za(e){is(e instanceof Function,"Expected a class definition");let t=G2.get(e);return t?(is(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,G2.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}n6.type="NONE";const K2=n6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(e,t,n){return`firebase:${e}:${t}:${n}`}class _c{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ny(this.userKey,i.apiKey,a),this.fullPersistenceKey=ny("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sv(this.auth,{idToken:t}).catch(()=>{});return n?Ei._fromGetAccountInfoResponse(this.auth,n,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new _c(za(K2),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||za(K2);const s=ny(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const d=await sv(t,{idToken:c}).catch(()=>{});if(!d)break;f=await Ei._fromGetAccountInfoResponse(t,d,c)}else f=Ei._fromJSON(t,c);u!==a&&(o=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new _c(a,t,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new _c(a,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(s6(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(r6(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(l6(t))return"Blackberry";if(u6(t))return"Webos";if(i6(t))return"Safari";if((t.includes("chrome/")||a6(t))&&!t.includes("edge/"))return"Chrome";if(o6(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function r6(e=$n()){return/firefox\//i.test(e)}function i6(e=$n()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function a6(e=$n()){return/crios\//i.test(e)}function s6(e=$n()){return/iemobile/i.test(e)}function o6(e=$n()){return/android/i.test(e)}function l6(e=$n()){return/blackberry/i.test(e)}function u6(e=$n()){return/webos/i.test(e)}function lA(e=$n()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function aQ(e=$n()){var t;return lA(e)&&!!((t=window.navigator)!=null&&t.standalone)}function sQ(){return gW()&&document.documentMode===10}function c6(e=$n()){return lA(e)||o6(e)||u6(e)||l6(e)||/windows phone/i.test(e)||s6(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(e,t=[]){let n;switch(e){case"Browser":n=Y2($n());break;case"Worker":n=`${Y2($n())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lQ(e,t={}){return Ko(e,"GET","/v2/passwordPolicy",hu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQ=6;class cQ{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W2(this),this.idTokenSubscription=new W2(this),this.beforeStateQueue=new oQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=za(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await _c.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sv(this,{idToken:t}),r=await Ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(Zr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ov(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FX()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zr(this.app))return Promise.reject(wo(this));const n=t?Mt(t):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zr(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(za(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lQ(this),n=new cQ(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lp("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iQ(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&za(t)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await _c.create(this,[za(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=f6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&VX(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Cf(e){return Mt(e)}class W2{constructor(t){this.auth=t,this.observer=null,this.addObserver=CW(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dQ(e){p_=e}function d6(e){return p_.loadJS(e)}function hQ(){return p_.recaptchaEnterpriseScript}function pQ(){return p_.gapiScript}function mQ(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class gQ{constructor(){this.enterprise=new yQ}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class yQ{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const vQ="recaptcha-enterprise",h6="NO_RECAPTCHA";class _Q{constructor(t){this.type=vQ,this.auth=Cf(t)}async verify(t="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{XX(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new WX(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;H2(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{s(u)}).catch(()=>{s(h6)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gQ().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&H2(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hQ();l.length!==0&&(l+=o),d6(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function X2(e,t,n,r=!1,i=!1){const a=new _Q(e);let s;if(i)s=h6;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Q2(e,t,n,r,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await X2(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await X2(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(e,t){const n=d_(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Mo(a,t??{}))return i;Pi(i,"already-initialized")}return n.initialize({options:t})}function xQ(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(za);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function wQ(e,t,n){const r=Cf(e);pe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,a=p6(t),{host:s,port:o}=EQ(t),l=o===null?"":`:${o}`,u={url:`${a}//${s}${l}/`},c=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Mo(u,r.config.emulator)&&Mo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Go(s)?(JT(`${a}//${s}${l}`),eA("Auth",!0)):SQ()}function p6(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function EQ(e){const t=p6(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Z2(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:Z2(s)}}}function Z2(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function SQ(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return La("not implemented")}_getIdTokenResponse(t){return La("not implemented")}_linkToIdToken(t,n){return La("not implemented")}_getReauthenticationResolver(t){return La("not implemented")}}async function TQ(e,t){return Ko(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AQ(e,t){return h_(e,"POST","/v1/accounts:signInWithPassword",hu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CQ(e,t){return h_(e,"POST","/v1/accounts:signInWithEmailLink",hu(e,t))}async function NQ(e,t){return h_(e,"POST","/v1/accounts:signInWithEmailLink",hu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends uA{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Uh(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Uh(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q2(t,n,"signInWithPassword",AQ);case"emailLink":return CQ(t,{email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q2(t,r,"signUpPassword",TQ);case"emailLink":return NQ(t,{idToken:n,email:this._email,oobCode:this._password});default:Pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(e,t){return h_(e,"POST","/v1/accounts:signInWithIdp",hu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="http://localhost";class $l extends uA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new $l(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new $l(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return bc(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,bc(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bc(t,n)}buildRequest(){const t={requestUri:IQ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Af(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PQ(e){const t=Ld(zd(e)).link,n=t?Ld(zd(t)).deep_link_id:null,r=Ld(zd(e)).deep_link_id;return(r?Ld(zd(r)).link:null)||r||n||t||e}class cA{constructor(t){const n=Ld(zd(t)),r=n.apiKey??null,i=n.oobCode??null,a=OQ(n.mode??null);pe(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=PQ(t);try{return new cA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.providerId=Nf.PROVIDER_ID}static credential(t,n){return Uh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=cA.parseLink(n);return pe(r,"argument-error"),Uh._fromEmailAndCode(t,r.code,r.tenantId)}}Nf.PROVIDER_ID="password";Nf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends m6{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Up{constructor(){super("facebook.com")}static credential(t){return $l._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Up{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return $l._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Up{constructor(){super("github.com")}static credential(t){return $l._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return eo.credentialFromTaggedObject(t)}static credentialFromError(t){return eo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return eo.credential(t.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Up{constructor(){super("twitter.com")}static credential(t,n){return $l._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return to.credentialFromTaggedObject(t)}static credentialFromError(t){return to.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const a=await Ei._fromIdTokenResponse(t,r,i),s=J2(r);return new Fc({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=J2(r);return new Fc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function J2(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends _s{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lv.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new lv(t,n,r,i)}}function g6(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?lv._fromErrorAndOperation(e,a,t,r):a})}async function kQ(e,t,n=!1){const r=await zh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RQ(e,t,n=!1){const{auth:r}=e;if(Zr(r.app))return Promise.reject(wo(r));const i="reauthenticate";try{const a=await zh(e,g6(r,i,t,e),n);pe(a.idToken,r,"internal-error");const s=oA(a.idToken);pe(s,r,"internal-error");const{sub:o}=s;return pe(e.uid===o,r,"user-mismatch"),Fc._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(e,t,n=!1){if(Zr(e.app))return Promise.reject(wo(e));const r="signIn",i=await g6(e,r,t),a=await Fc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function MQ(e,t){return y6(Cf(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DQ(e){const t=Cf(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function jQ(e,t,n){return Zr(e.app)?Promise.reject(wo(e)):MQ(Mt(e),Nf.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DQ(e),r})}function LQ(e,t,n,r){return Mt(e).onIdTokenChanged(t,n,r)}function zQ(e,t,n){return Mt(e).beforeAuthStateChanged(t,n)}function UQ(e,t,n,r){return Mt(e).onAuthStateChanged(t,n,r)}const uv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uv,"1"),this.storage.removeItem(uv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ=1e3,BQ=10;class _6 extends v6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c6(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);sQ()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,BQ):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},VQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_6.type="LOCAL";const $Q=_6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6 extends v6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}b6.type="SESSION";const x6=b6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new m_(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async u=>u(n.origin,a)),l=await FQ(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}m_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=fA("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(d.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return window}function qQ(e){oa().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(){return typeof oa().WorkerGlobalScope<"u"&&typeof oa().importScripts=="function"}async function GQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KQ(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function YQ(){return w6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6="firebaseLocalStorageDb",WQ=1,cv="firebaseLocalStorage",S6="fbase_key";class Vp{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function g_(e,t){return e.transaction([cv],t?"readwrite":"readonly").objectStore(cv)}function XQ(){const e=indexedDB.deleteDatabase(E6);return new Vp(e).toPromise()}function J1(){const e=indexedDB.open(E6,WQ);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(cv,{keyPath:S6})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(cv)?t(r):(r.close(),await XQ(),t(await J1()))})})}async function eP(e,t,n){const r=g_(e,!0).put({[S6]:t,value:n});return new Vp(r).toPromise()}async function QQ(e,t){const n=g_(e,!1).get(t),r=await new Vp(n).toPromise();return r===void 0?null:r.value}function tP(e,t){const n=g_(e,!0).delete(t);return new Vp(n).toPromise()}const ZQ=800,JQ=3;class T6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J1(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>JQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=m_._getInstance(YQ()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await GQ(),!this.activeServiceWorker)return;this.sender=new HQ(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await J1();return await eP(t,uv,"1"),await tP(t,uv),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eP(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>QQ(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tP(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=g_(i,!1).getAll();return new Vp(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T6.type="LOCAL";const eZ=T6;new zp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tZ(e,t){return t?za(t):(pe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends uA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bc(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bc(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bc(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nZ(e){return y6(e.auth,new dA(e),e.bypassAuthState)}function rZ(e){const{auth:t,user:n}=e;return pe(n,t,"internal-error"),RQ(n,new dA(e),e.bypassAuthState)}async function iZ(e){const{auth:t,user:n}=e;return pe(n,t,"internal-error"),kQ(n,new dA(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t,n,r,i,a=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nZ;case"linkViaPopup":case"linkViaRedirect":return iZ;case"reauthViaPopup":case"reauthViaRedirect":return rZ;default:Pi(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ=new zp(2e3,1e4);class sc extends A6{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=fA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aZ.get())};t()}}sc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ="pendingRedirect",ry=new Map;class oZ extends A6{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ry.get(this.auth._key());if(!t){try{const r=await lZ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ry.set(this.auth._key(),t)}return this.bypassAuthState||ry.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lZ(e,t){const n=fZ(t),r=cZ(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uZ(e,t){ry.set(e._key(),t)}function cZ(e){return za(e._redirectPersistence)}function fZ(e){return ny(sZ,e.config.apiKey,e.name)}async function dZ(e,t,n=!1){if(Zr(e.app))return Promise.reject(wo(e));const r=Cf(e),i=tZ(r,t),s=await new oZ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ=10*60*1e3;class pZ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mZ(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!C6(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(sa(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(nP(t))}saveEventToCache(t){this.cachedEventUids.add(nP(t)),this.lastProcessedEventTime=Date.now()}}function nP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function C6({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mZ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C6(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gZ(e,t={}){return Ko(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vZ=/^https?/;async function _Z(e){if(e.config.emulator)return;const{authorizedDomains:t}=await gZ(e);for(const n of t)try{if(bZ(n))return}catch{}Pi(e,"unauthorized-domain")}function bZ(e){const t=Q1(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!vZ.test(n))return!1;if(yZ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ=new zp(3e4,6e4);function rP(){const e=oa().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wZ(e){return new Promise((t,n)=>{var i,a,s;function r(){rP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rP(),n(sa(e,"network-request-failed"))},timeout:xZ.get()})}if((a=(i=oa().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((s=oa().gapi)!=null&&s.load)r();else{const o=mQ("iframefcb");return oa()[o]=()=>{gapi.load?r():n(sa(e,"network-request-failed"))},d6(`${pQ()}?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw iy=null,t})}let iy=null;function EZ(e){return iy=iy||wZ(e),iy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ=new zp(5e3,15e3),TZ="__/auth/iframe",AZ="emulator/auth/iframe",CZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IZ(e){const t=e.config;pe(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sA(t,AZ):`https://${e.config.authDomain}/${TZ}`,r={apiKey:t.apiKey,appName:e.name,v:du},i=NZ.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Af(r).slice(1)}`}async function OZ(e){const t=await EZ(e),n=oa().gapi;return pe(n,e,"internal-error"),t.open({where:document.body,url:IZ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CZ,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=sa(e,"network-request-failed"),o=oa().setTimeout(()=>{a(s)},SZ.get());function l(){oa().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kZ=500,RZ=600,MZ="_blank",DZ="http://localhost";class iP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jZ(e,t,n,r=kZ,i=RZ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...PZ,width:r.toString(),height:i.toString(),top:a,left:s},u=$n().toLowerCase();n&&(o=a6(u)?MZ:n),r6(u)&&(t=t||DZ,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(aQ(u)&&o!=="_self")return LZ(t||"",o),new iP(null);const f=window.open(t||"",o,c);pe(f,e,"popup-blocked");try{f.focus()}catch{}return new iP(f)}function LZ(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ="__/auth/handler",UZ="emulator/auth/handler",VZ=encodeURIComponent("fac");async function aP(e,t,n,r,i,a){pe(e.config.authDomain,e,"auth-domain-config-required"),pe(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:du,eventId:i};if(t instanceof m6){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",q1(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof Up){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${VZ}=${encodeURIComponent(l)}`:"";return`${BZ(e)}?${Af(o).slice(1)}${u}`}function BZ({config:e}){return e.emulator?sA(e,UZ):`https://${e.authDomain}/${zZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="webStorageSupport";class $Z{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x6,this._completeRedirectFn=dZ,this._overrideRedirectResult=uZ}async _openPopup(t,n,r,i){var s;is((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await aP(t,n,r,Q1(),i);return jZ(t,a,fA())}async _openRedirect(t,n,r,i){await this._originValidation(t);const a=await aP(t,n,r,Q1(),i);return qQ(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(is(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await OZ(t),r=new pZ(t);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(nw,{type:nw},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[nw];a!==void 0&&n(!!a),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_Z(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return c6()||i6()||lA()}}const FZ=$Z;var sP="@firebase/auth",oP="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GZ(e){Bl(new Do("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f6(e)},u=new fQ(r,i,a,l);return xQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Bl(new Do("auth-internal",t=>{const n=Cf(t.getProvider("auth").getImmediate());return(r=>new HZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(sP,oP,qZ(e)),aa(sP,oP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=5*60,YZ=V5("authIdTokenMaxAge")||KZ;let lP=null;const WZ=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YZ)return;const i=n==null?void 0:n.token;lP!==i&&(lP=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XZ(e=iA()){const t=d_(e,"auth");if(t.isInitialized())return t.getImmediate();const n=bQ(e,{popupRedirectResolver:FZ,persistence:[eZ,$Q,x6]}),r=V5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=WZ(a.toString());zQ(n,s,()=>s(n.currentUser)),LQ(n,o=>s(o))}}const i=L5("auth");return i&&wQ(n,`http://${i}`),n}function QZ(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}dQ({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const a=sa("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",QZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GZ("Browser");var ZZ="firebase",JZ="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(ZZ,JZ,"app");var uP={};const cP="@firebase/database",fP="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N6="";function eJ(e){N6=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Wt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:jh(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return bs(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tJ(t)}}catch{}return new nJ},vl=I6("localStorage"),rJ=I6("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new f_("@firebase/database"),iJ=function(){let e=1;return function(){return e++}}(),O6=function(e){const t=OW(e),n=new AW;n.update(t);const r=n.digest();return ZT.encodeByteArray(r)},Bp=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Bp.apply(null,r):typeof r=="object"?t+=Wt(r):t+=r,t+=" "}return t};let uh=null,dP=!0;const aJ=function(e,t){te(!0,"Can't turn on custom loggers persistently."),xc.logLevel=Pe.VERBOSE,uh=xc.log.bind(xc)},zn=function(...e){if(dP===!0&&(dP=!1,uh===null&&rJ.get("logging_enabled")===!0&&aJ()),uh){const t=Bp.apply(null,e);uh(t)}},$p=function(e){return function(...t){zn(e,...t)}},eE=function(...e){const t="FIREBASE INTERNAL ERROR: "+Bp(...e);xc.error(t)},as=function(...e){const t=`FIREBASE FATAL ERROR: ${Bp(...e)}`;throw xc.error(t),new Error(t)},fr=function(...e){const t="FIREBASE WARNING: "+Bp(...e);xc.warn(t)},sJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},P6=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},oJ=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hc="[MIN_NAME]",Fl="[MAX_NAME]",If=function(e,t){if(e===t)return 0;if(e===Hc||t===Fl)return-1;if(t===Hc||e===Fl)return 1;{const n=hP(e),r=hP(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},lJ=function(e,t){return e===t?0:e<t?-1:1},dd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Wt(t))},hA=function(e){if(typeof e!="object"||e===null)return Wt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Wt(t[r]),n+=":",n+=hA(e[t[r]]);return n+="}",n},k6=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function hr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const R6=function(e){te(!P6(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,a,s,o,l;e===0?(a=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),r),a=o+r,s=Math.round(e*Math.pow(2,n-o)-Math.pow(2,n))):(a=0,s=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(i?1:0),u.reverse();const c=u.join("");let f="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),f=f+d}return f.toLowerCase()},uJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fJ(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const dJ=new RegExp("^-?(0*)\\d{1,10}$"),hJ=-2147483648,pJ=2147483647,hP=function(e){if(dJ.test(e)){const t=Number(e);if(t>=hJ&&t<=pJ)return t}return null},Of=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw fr("Exception was thrown by user callback.",n),t},Math.floor(0))}},mJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ch=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Zr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){fr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fr(t)}}class ay{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ay.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="5",M6="v",D6="s",j6="r",L6="f",z6=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U6="ls",V6="p",tE="ac",B6="websocket",$6="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t,n,r,i,a=!1,s="",o=!1,l=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vl.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function vJ(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function H6(e,t,n){te(typeof t=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(t===B6)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===$6)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vJ(e)&&(n.ns=e.namespace);const i=[];return hr(n,(a,s)=>{i.push(a+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(){this.counters_={}}incrementCounter(t,n=1){bs(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return aW(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={},iw={};function mA(e){const t=e.toString();return rw[t]||(rw[t]=new _J),rw[t]}function bJ(e,t){const n=e.toString();return iw[n]||(iw[n]=t()),iw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Of(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="start",wJ="close",EJ="pLPCommand",SJ="pRTLPCB",q6="id",G6="pw",K6="ser",TJ="cb",AJ="seg",CJ="ts",NJ="d",IJ="dframe",Y6=1870,W6=30,OJ=Y6-W6,PJ=25e3,kJ=3e4;class oc{constructor(t,n,r,i,a,s,o){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$p(t),this.stats_=mA(n),this.urlFn=l=>(this.appCheckToken&&(l[tE]=this.appCheckToken),H6(n,$6,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xJ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kJ)),oJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gA((...a)=>{const[s,o,l,u,c]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===pP)this.id=o,this.password=l;else if(s===wJ)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...a)=>{const[s,o]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(s,o)},()=>{this.onClosed_()},this.urlFn);const r={};r[pP]="t",r[K6]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TJ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[M6]=pA,this.transportSessionId&&(r[D6]=this.transportSessionId),this.lastSessionId&&(r[U6]=this.lastSessionId),this.applicationId&&(r[V6]=this.applicationId),this.appCheckToken&&(r[tE]=this.appCheckToken),typeof location<"u"&&location.hostname&&z6.test(location.hostname)&&(r[j6]=L6);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oc.forceAllow_=!0}static forceDisallow(){oc.forceDisallow_=!0}static isAvailable(){return oc.forceAllow_?!0:!oc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uJ()&&!cJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Wt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=D5(n),i=k6(r,OJ);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[IJ]="t",r[q6]=t,r[G6]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Wt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gA{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iJ(),window[EJ+this.uniqueCallbackIdentifier]=t,window[SJ+this.uniqueCallbackIdentifier]=n,this.myIFrame=gA.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(o){zn("frame writing exception"),o.stack&&zn(o.stack),zn(o)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||zn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[q6]=this.myID,t[G6]=this.myPW,t[K6]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+W6+r.length<=Y6;){const s=this.pendingSegs.shift();r=r+"&"+AJ+i+"="+s.seg+"&"+CJ+i+"="+s.ts+"&"+NJ+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(PJ)),a=()=>{clearTimeout(i),r()};this.addTag(t,a)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{zn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=16384,MJ=45e3;let fv=null;typeof MozWebSocket<"u"?fv=MozWebSocket:typeof WebSocket<"u"&&(fv=WebSocket);class yi{constructor(t,n,r,i,a,s,o){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$p(this.connId),this.stats_=mA(n),this.connURL=yi.connectionURL_(n,s,o,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,a){const s={};return s[M6]=pA,typeof location<"u"&&location.hostname&&z6.test(location.hostname)&&(s[j6]=L6),n&&(s[D6]=n),r&&(s[U6]=r),i&&(s[tE]=i),a&&(s[V6]=a),H6(t,B6,s)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vl.set("previous_websocket_failure",!0);try{let r;yW(),this.mySock=new fv(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&fv!==null&&!yi.forceDisallow_}static previouslyFailed(){return vl.isInMemoryStorage||vl.get("previous_websocket_failure")===!0}markConnectionHealthy(){vl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jh(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(te(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Wt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=k6(n,RJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MJ))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yi.responsesRequiredToBeHealthy=2;yi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{static get ALL_TRANSPORTS(){return[oc,yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=yi&&yi.isAvailable();let r=n&&!yi.previouslyFailed();if(t.webSocketOnly&&(n||fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yi];else{const i=this.transports_=[];for(const a of Vh.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Vh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=6e4,jJ=5e3,LJ=10*1024,zJ=100*1024,aw="t",mP="d",UJ="s",gP="r",VJ="e",yP="o",vP="a",_P="n",bP="p",BJ="h";class $J{constructor(t,n,r,i,a,s,o,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$p("c:"+this.id+":"),this.transportManager_=new Vh(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ch(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(aw in t){const n=t[aw];n===vP?this.upgradeIfSecondaryHealthy_():n===gP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===yP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=dd("t",t),r=dd("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_P,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=dd("t",t),r=dd("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=dd(aw,t);if(mP in t){const r=t[mP];if(n===BJ){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===_P){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===UJ?this.onConnectionShutdown_(r):n===gP?this.onReset_(r):n===VJ?eE("Server Error: "+r):n===yP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eE("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pA!==r&&fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ch(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DJ))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ch(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bP,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q6=class{constructor(t){this.allowedEvents_=t,this.listeners_={},te(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===n&&(!r||r===i[a].context)){i.splice(a,1);return}}validateEventType_(t){te(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends Q6{static getInstance(){return new dv}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tA()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return te(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=32,wP=768;let nt=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Ve(){return new nt("")}function Ce(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function jo(e){return e.pieces_.length-e.pieceNum_}function st(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new nt(e.pieces_,t)}function Z6(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function FJ(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function J6(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ez(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new nt(t,0)}function Xt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof nt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new nt(n,0)}function Re(e){return e.pieceNum_>=e.pieces_.length}function Gn(e,t){const n=Ce(e),r=Ce(t);if(n===null)return t;if(n===r)return Gn(st(e),st(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yA(e,t){if(jo(e)!==jo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Si(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(jo(e)>jo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class HJ{constructor(t,n){this.errorPrefix_=n,this.parts_=J6(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=c_(this.parts_[r]);tz(this)}}function qJ(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=c_(t),tz(e)}function GJ(e){const t=e.parts_.pop();e.byteLength_-=c_(t),e.parts_.length>0&&(e.byteLength_-=1)}function tz(e){if(e.byteLength_>wP)throw new Error(e.errorPrefix_+"has a key path longer than "+wP+" bytes ("+e.byteLength_+").");if(e.parts_.length>xP)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xP+") or object contains a cycle "+hl(e))}function hl(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends Q6{static getInstance(){return new vA}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return te(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=1e3,KJ=60*5*1e3,EP=30*1e3,YJ=1.3,WJ=3e4,XJ="server_kill",SP=3;class Ka extends X6{constructor(t,n,r,i,a,s,o,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=Ka.nextPersistentConnectionId_++,this.log_=$p("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hd,this.maxReconnectDelay_=KJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vA.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&dv.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,a={r:i,a:t,b:n};this.log_(Wt(a)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new u_,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:s=>{const o=s.d;s.s==="ok"?n.resolve(o):n.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(t,n,r,i){this.initConnection_();const a=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+a),this.listens.has(s)||this.listens.set(s,new Map),te(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(s).has(a),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(s).set(a,o),this.connected_&&this.sendListen_(o)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const a={p:r},s="q";t.tag&&(a.q=n._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(s,a,o=>{const l=o.d,u=o.s;Ka.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&bs(t,"w")){const r=$c(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||TW(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=EP)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=SW(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const a=i.s,s=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const a={p:t},s="n";i&&(a.q=r,a.t=i),this.sendRequest(s,a)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const a={p:n,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,a){this.initConnection_();const s={p:n,d:r};a!==void 0&&(s.h=a),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Wt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):eE("Unrecognized action received from server: "+Wt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WJ&&(this.reconnectDelay_=hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*YJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ka.nextConnectionId_++,a=this.lastSessionId;let s=!1,o=null;const l=function(){o?o.close():(s=!0,r())},u=function(f){te(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?zn("getToken() completed but was canceled"):(zn("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=d&&d.token,o=new $J(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{fr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(XJ)},a))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&fr(f),l())}}}interrupt(t){zn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){zn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],q1(this.interruptReasons_)&&(this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(a=>hA(a)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new nt(t).toString();let i;if(this.listens.has(r)){const a=this.listens.get(r);i=a.get(n),a.delete(n),a.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){zn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=SP&&(this.reconnectDelay_=EP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){zn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=SP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+N6.replace(/\./g,"-")]=1,tA()?t["framework.cordova"]=1:$5()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=dv.getInstance().currentlyOnline();return q1(this.interruptReasons_)&&t}}Ka.nextPersistentConnectionId_=0;Ka.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ne(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ne(Hc,t),i=new Ne(Hc,n);return this.compare(r,i)!==0}minPost(){return Ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sg;class nz extends y_{static get __EMPTY_NODE(){return sg}static set __EMPTY_NODE(t){sg=t}compare(t,n){return If(t.name,n.name)}isDefinedOn(t){throw Tf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ne.MIN}maxPost(){return new Ne(Fl,sg)}makePost(t,n){return te(typeof t=="string","KeyIndex indexValue must always be a string."),new Ne(t,sg)}toString(){return".key"}}const wc=new nz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og=class{constructor(t,n,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},wr=class Ud{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??Ud.RED,this.left=i??ta.EMPTY_NODE,this.right=a??ta.EMPTY_NODE}copy(t,n,r,i,a){return new Ud(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ta.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return ta.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ud.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ud.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};wr.RED=!0;wr.BLACK=!1;class QJ{copy(t,n,r,i,a){return this}insert(t,n,r){return new wr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let ta=class sy{constructor(t,n=sy.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new sy(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,wr.BLACK,null,null))}remove(t){return new sy(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,wr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new og(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new og(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new og(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new og(this.root_,null,this.comparator_,!0,t)}};ta.EMPTY_NODE=new QJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(e,t){return If(e.name,t.name)}function _A(e,t){return If(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE;function JJ(e){nE=e}const rz=function(e){return typeof e=="number"?"number:"+R6(e):"string:"+e},iz=function(e){if(e.isLeafNode()){const t=e.val();te(typeof t=="string"||typeof t=="number"||typeof t=="object"&&bs(t,".sv"),"Priority must be a string or number.")}else te(e===nE||e.isEmpty(),"priority of unexpected type.");te(e===nE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TP;class an{static set __childrenNodeConstructor(t){TP=t}static get __childrenNodeConstructor(){return TP}constructor(t,n=an.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iz(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new an(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Re(t)?this:Ce(t)===".priority"?this.priorityNode_:an.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:an.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ce(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||jo(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,an.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+rz(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=R6(this.value_):t+=this.value_,this.lazyHash_=O6(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===an.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof an.__childrenNodeConstructor?-1:(te(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=an.VALUE_TYPE_ORDER.indexOf(n),a=an.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(a>=0,"Unknown leaf type: "+r),i===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}an.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let az,sz;function eee(e){az=e}function tee(e){sz=e}class nee extends y_{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),a=r.compareTo(i);return a===0?If(t.name,n.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ne.MIN}maxPost(){return new Ne(Fl,new an("[PRIORITY-POST]",sz))}makePost(t,n){const r=az(t);return new Ne(n,new an("[PRIORITY-POST]",r))}toString(){return".priority"}}const Pt=new nee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=Math.log(2);class iee{constructor(t){const n=a=>parseInt(Math.log(a)/ree,10),r=a=>parseInt(Array(a+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const hv=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let f,d;if(c===0)return null;if(c===1)return f=e[l],d=n?n(f):f,new wr(d,f.node,wr.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return f=e[p],d=n?n(f):f,new wr(d,f.node,wr.BLACK,m,g)}},a=function(l){let u=null,c=null,f=e.length;const d=function(m,g){const _=f-m,y=f;f-=m;const x=i(_+1,y),E=e[_],S=n?n(E):E;p(new wr(S,E.node,g,null,x))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));g?d(_,wr.BLACK):(d(_,wr.BLACK),d(_,wr.RED))}return c},s=new iee(e.length),o=a(s);return new ta(r||t,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw;const ku={};class Ua{static get Default(){return te(ku&&Pt,"ChildrenNode.ts has not been loaded"),sw=sw||new Ua({".priority":ku},{".priority":Pt}),sw}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=$c(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ta?n:null}hasIndex(t){return bs(this.indexSet_,t.toString())}addIndex(t,n){te(t!==wc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=n.getIterator(Ne.Wrap);let s=a.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=a.getNext();let o;i?o=hv(r,t.getCompare()):o=ku;const l=t.toString(),u={...this.indexSet_};u[l]=t;const c={...this.indexes_};return c[l]=o,new Ua(c,u)}addToIndexes(t,n){const r=rv(this.indexes_,(i,a)=>{const s=$c(this.indexSet_,a);if(te(s,"Missing index implementation for "+a),i===ku)if(s.isDefinedOn(t.node)){const o=[],l=n.getIterator(Ne.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&o.push(u),u=l.getNext();return o.push(t),hv(o,s.getCompare())}else return ku;else{const o=n.get(t.name);let l=i;return o&&(l=l.remove(new Ne(t.name,o))),l.insert(t,t.node)}});return new Ua(r,this.indexSet_)}removeFromIndexes(t,n){const r=rv(this.indexes_,i=>{if(i===ku)return i;{const a=n.get(t.name);return a?i.remove(new Ne(t.name,a)):i}});return new Ua(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd;class me{static get EMPTY_NODE(){return pd||(pd=new me(new ta(_A),null,Ua.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&iz(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||pd}updatePriority(t){return this.children_.isEmpty()?this:new me(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?pd:n}}getChild(t){const n=Ce(t);return n===null?this:this.getImmediateChild(n).getChild(st(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(te(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ne(t,n);let i,a;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?pd:this.priorityNode_;return new me(i,s,a)}}updateChild(t,n){const r=Ce(t);if(r===null)return n;{te(Ce(t)!==".priority"||jo(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(st(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,a=!0;if(this.forEachChild(Pt,(s,o)=>{n[s]=o.val(t),r++,a&&me.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):a=!1}),!t&&a&&i<2*r){const s=[];for(const o in n)s[o]=n[o];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+rz(this.getPriority().val())+":"),this.forEachChild(Pt,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":O6(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const a=i.getPredecessorKey(new Ne(t,n));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ne(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ne(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Ne.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Ne.Wrap);let a=i.peek();for(;a!=null&&n.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Fp?-1:0}withIndex(t){if(t===wc||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===wc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Pt),i=n.getIterator(Pt);let a=r.getNext(),s=i.getNext();for(;a&&s;){if(a.name!==s.name||!a.node.equals(s.node))return!1;a=r.getNext(),s=i.getNext()}return a===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===wc?null:this.indexMap_.get(t.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aee extends me{constructor(){super(new ta(_A),me.EMPTY_NODE,Ua.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return me.EMPTY_NODE}isEmpty(){return!1}}const Fp=new aee;Object.defineProperties(Ne,{MIN:{value:new Ne(Hc,me.EMPTY_NODE)},MAX:{value:new Ne(Fl,Fp)}});nz.__EMPTY_NODE=me.EMPTY_NODE;an.__childrenNodeConstructor=me;JJ(Fp);tee(Fp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=!0;function cn(e,t=null){if(e===null)return me.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),te(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new an(n,cn(t))}if(!(e instanceof Array)&&see){const n=[];let r=!1;if(hr(e,(s,o)=>{if(s.substring(0,1)!=="."){const l=cn(o);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ne(s,l)))}}),n.length===0)return me.EMPTY_NODE;const a=hv(n,ZJ,s=>s.name,_A);if(r){const s=hv(n,Pt.getCompare());return new me(a,cn(t),new Ua({".priority":s},{".priority":Pt}))}else return new me(a,cn(t),Ua.Default)}else{let n=me.EMPTY_NODE;return hr(e,(r,i)=>{if(bs(e,r)&&r.substring(0,1)!=="."){const a=cn(i);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(r,a))}}),n.updatePriority(cn(t))}}eee(cn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee extends y_{constructor(t){super(),this.indexPath_=t,te(!Re(t)&&Ce(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),a=r.compareTo(i);return a===0?If(t.name,n.name):a}makePost(t,n){const r=cn(t),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ne(n,i)}maxPost(){const t=me.EMPTY_NODE.updateChild(this.indexPath_,Fp);return new Ne(Fl,t)}toString(){return J6(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee extends y_{compare(t,n){const r=t.node.compareTo(n.node);return r===0?If(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ne.MIN}maxPost(){return Ne.MAX}makePost(t,n){const r=cn(t);return new Ne(n,r)}toString(){return".value"}}const uee=new lee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(e){return{type:"value",snapshotNode:e}}function qc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function $h(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function cee(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.index_=t}updateChild(t,n,r,i,a,s){te(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=t.getImmediateChild(n);return o.getChild(i).equals(r.getChild(i))&&o.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Bh(n,o)):te(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(qc(n,r)):s.trackChildChange($h(n,r,o))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Pt,(i,a)=>{n.hasChild(i)||r.trackChildChange(Bh(i,a))}),n.isLeafNode()||n.forEachChild(Pt,(i,a)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(a)||r.trackChildChange($h(i,a,s))}else r.trackChildChange(qc(i,a))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?me.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.indexedFilter_=new bA(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fh.getStartPost_(t),this.endPost_=Fh.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,a,s){return this.matches(new Ne(n,r))||(r=me.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,a,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const a=this;return n.forEachChild(Pt,(s,o)=>{a.matches(new Ne(s,o))||(i=i.updateImmediateChild(s,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,a,s){return this.rangedFilter_.matches(new Ne(n,r))||(r=me.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,a,s):this.fullLimitUpdateChild_(t,n,r,a,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;a.hasNext()&&s<this.limit_;){const o=a.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let s=0;for(;a.hasNext();){const o=a.getNext();s<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?s++:i=i.updateImmediateChild(o.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,a){let s;if(this.reverse_){const f=this.index_.getCompare();s=(d,p)=>f(p,d)}else s=this.index_.getCompare();const o=t;te(o.numChildren()===this.limit_,"");const l=new Ne(n,r),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(o.hasChild(n)){const f=o.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||o.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const p=d==null?1:s(d,l);if(c&&!r.isEmpty()&&p>=0)return a!=null&&a.trackChildChange($h(n,r,f)),o.updateImmediateChild(n,r);{a!=null&&a.trackChildChange(Bh(n,f));const g=o.updateImmediateChild(n,me.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(a!=null&&a.trackChildChange(qc(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?t:c&&s(u,l)>=0?(a!=null&&(a.trackChildChange(Bh(u.name,u.node)),a.trackChildChange(qc(n,r))),o.updateImmediateChild(n,r).updateImmediateChild(u.name,me.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hc}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pt}copy(){const t=new xA;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function dee(e){return e.loadsAllData()?new bA(e.getIndex()):e.hasLimit()?new fee(e):new Fh(e)}function AP(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Pt?n="$priority":e.index_===uee?n="$value":e.index_===wc?n="$key":(te(e.index_ instanceof oee,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Wt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Wt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Wt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Wt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Wt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function CP(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Pt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends X6{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(te(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$p("p:rest:"),this.listens_={}}listen(t,n,r,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const s=pv.getListenId_(t,r),o={};this.listens_[s]=o;const l=AP(t._queryParams);this.restRequest_(a+".json",l,(u,c)=>{let f=c;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(a,f,!1,r),$c(this.listens_,s)===o){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(t,n){const r=pv.getListenId_(t,n);delete this.listens_[r]}get(t){const n=AP(t._queryParams),r=t._path.toString(),i=new u_;return this.restRequest_(r+".json",n,(a,s)=>{let o=s;a===404&&(o=null,a=null),a===null?(this.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(n.auth=i.accessToken),a&&a.token&&(n.ac=a.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Af(n);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(r&&o.readyState===4){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=jh(o.responseText)}catch{fr("Failed to parse JSON response for "+s+": "+o.responseText)}r(null,l)}else o.status!==401&&o.status!==404&&fr("Got unsuccessful REST response for "+s+" Status: "+o.status),r(o.status);r=null}},o.open("GET",s,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(){return{value:null,children:new Map}}function lz(e,t,n){if(Re(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Ce(t);e.children.has(r)||e.children.set(r,mv());const i=e.children.get(r);t=st(t),lz(i,t,n)}}function rE(e,t,n){e.value!==null?n(t,e.value):pee(e,(r,i)=>{const a=new nt(t.toString()+"/"+r);rE(i,a,n)})}function pee(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mee{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&hr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=10*1e3,gee=30*1e3,yee=5*60*1e3;class vee{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mee(t);const r=NP+(gee-NP)*Math.random();ch(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;hr(t,(i,a)=>{a>0&&bs(this.statsToReport_,i)&&(n[i]=a,r=!0)}),r&&this.server_.reportStats(n),ch(this.reportStats_.bind(this),Math.floor(Math.random()*2*yee))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ti||(Ti={}));function uz(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wA(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function EA(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ti.ACK_USER_WRITE,this.source=uz()}operationForChild(t){if(Re(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(t));return new gv(Ve(),n,this.revert)}}else return te(Ce(this.path)===t,"operationForChild called for unrelated child."),new gv(st(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n){this.source=t,this.path=n,this.type=Ti.LISTEN_COMPLETE}operationForChild(t){return Re(this.path)?new Hh(this.source,Ve()):new Hh(this.source,st(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ti.OVERWRITE}operationForChild(t){return Re(this.path)?new Hl(this.source,Ve(),this.snap.getImmediateChild(t)):new Hl(this.source,st(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ti.MERGE}operationForChild(t){if(Re(this.path)){const n=this.children.subtree(new nt(t));return n.isEmpty()?null:n.value?new Hl(this.source,Ve(),n.value):new qh(this.source,Ve(),n)}else return te(Ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new qh(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Re(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ce(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function bee(e,t,n,r){const i=[],a=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&a.push(cee(s.childName,s.snapshotNode))}),md(e,i,"child_removed",t,r,n),md(e,i,"child_added",t,r,n),md(e,i,"child_moved",a,r,n),md(e,i,"child_changed",t,r,n),md(e,i,"value",t,r,n),i}function md(e,t,n,r,i,a){const s=r.filter(o=>o.type===n);s.sort((o,l)=>wee(e,o,l)),s.forEach(o=>{const l=xee(e,o,a);i.forEach(u=>{u.respondsTo(o.type)&&t.push(u.createEvent(l,e.query_))})})}function xee(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function wee(e,t,n){if(t.childName==null||n.childName==null)throw Tf("Should only compare child_ events.");const r=new Ne(t.childName,t.snapshotNode),i=new Ne(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(e,t){return{eventCache:e,serverCache:t}}function fh(e,t,n,r){return v_(new Lo(t,n,r),e.serverCache)}function cz(e,t,n,r){return v_(e.eventCache,new Lo(t,n,r))}function yv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ql(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ow;const Eee=()=>(ow||(ow=new ta(lJ)),ow);class dt{static fromObject(t){let n=new dt(null);return hr(t,(r,i)=>{n=n.set(new nt(r),i)}),n}constructor(t,n=Eee()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(Re(t))return null;{const r=Ce(t),i=this.children.get(r);if(i!==null){const a=i.findRootMostMatchingPathAndValue(st(t),n);return a!=null?{path:Xt(new nt(r),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Re(t))return this;{const n=Ce(t),r=this.children.get(n);return r!==null?r.subtree(st(t)):new dt(null)}}set(t,n){if(Re(t))return new dt(n,this.children);{const r=Ce(t),a=(this.children.get(r)||new dt(null)).set(st(t),n),s=this.children.insert(r,a);return new dt(this.value,s)}}remove(t){if(Re(t))return this.children.isEmpty()?new dt(null):new dt(null,this.children);{const n=Ce(t),r=this.children.get(n);if(r){const i=r.remove(st(t));let a;return i.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,i),this.value===null&&a.isEmpty()?new dt(null):new dt(this.value,a)}else return this}}get(t){if(Re(t))return this.value;{const n=Ce(t),r=this.children.get(n);return r?r.get(st(t)):null}}setTree(t,n){if(Re(t))return n;{const r=Ce(t),a=(this.children.get(r)||new dt(null)).setTree(st(t),n);let s;return a.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,a),new dt(this.value,s)}}fold(t){return this.fold_(Ve(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Xt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Ve(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Re(t))return null;{const a=Ce(t),s=this.children.get(a);return s?s.findOnPath_(st(t),Xt(n,a),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Ve(),n)}foreachOnPath_(t,n,r){if(Re(t))return this;{this.value&&r(n,this.value);const i=Ce(t),a=this.children.get(i);return a?a.foreachOnPath_(st(t),Xt(n,i),r):new dt(null)}}foreach(t){this.foreach_(Ve(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Xt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.writeTree_=t}static empty(){return new Ai(new dt(null))}}function dh(e,t,n){if(Re(t))return new Ai(new dt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let a=r.value;const s=Gn(i,t);return a=a.updateChild(s,n),new Ai(e.writeTree_.set(i,a))}else{const i=new dt(n),a=e.writeTree_.setTree(t,i);return new Ai(a)}}}function IP(e,t,n){let r=e;return hr(n,(i,a)=>{r=dh(r,Xt(t,i),a)}),r}function OP(e,t){if(Re(t))return Ai.empty();{const n=e.writeTree_.setTree(t,new dt(null));return new Ai(n)}}function iE(e,t){return pu(e,t)!=null}function pu(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Gn(n.path,t)):null}function PP(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Pt,(r,i)=>{t.push(new Ne(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Ne(r,i.value))}),t}function Eo(e,t){if(Re(t))return e;{const n=pu(e,t);return n!=null?new Ai(new dt(n)):new Ai(e.writeTree_.subtree(t))}}function aE(e){return e.writeTree_.isEmpty()}function Gc(e,t){return fz(Ve(),e.writeTree_,t)}function fz(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(te(a.value!==null,"Priority writes must always be leaf nodes"),r=a.value):n=fz(Xt(e,i),a,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Xt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(e,t){return mz(t,e)}function See(e,t,n,r,i){te(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=dh(e.visibleWrites,t,n)),e.lastWriteId=r}function Tee(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Aee(e,t){const n=e.allWrites.findIndex(o=>o.writeId===t);te(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,a=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const o=e.allWrites[s];o.visible&&(s>=n&&Cee(o,r.path)?i=!1:Si(r.path,o.path)&&(a=!0)),s--}if(i){if(a)return Nee(e),!0;if(r.snap)e.visibleWrites=OP(e.visibleWrites,r.path);else{const o=r.children;hr(o,l=>{e.visibleWrites=OP(e.visibleWrites,Xt(r.path,l))})}return!0}else return!1}function Cee(e,t){if(e.snap)return Si(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Si(Xt(e.path,n),t))return!0;return!1}function Nee(e){e.visibleWrites=dz(e.allWrites,Iee,Ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Iee(e){return e.visible}function dz(e,t,n){let r=Ai.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const s=a.path;let o;if(a.snap)Si(n,s)?(o=Gn(n,s),r=dh(r,o,a.snap)):Si(s,n)&&(o=Gn(s,n),r=dh(r,Ve(),a.snap.getChild(o)));else if(a.children){if(Si(n,s))o=Gn(n,s),r=IP(r,o,a.children);else if(Si(s,n))if(o=Gn(s,n),Re(o))r=IP(r,Ve(),a.children);else{const l=$c(a.children,Ce(o));if(l){const u=l.getChild(st(o));r=dh(r,Ve(),u)}}}else throw Tf("WriteRecord should have .snap or .children")}}return r}function hz(e,t,n,r,i){if(!r&&!i){const a=pu(e.visibleWrites,t);if(a!=null)return a;{const s=Eo(e.visibleWrites,t);if(aE(s))return n;if(n==null&&!iE(s,Ve()))return null;{const o=n||me.EMPTY_NODE;return Gc(s,o)}}}else{const a=Eo(e.visibleWrites,t);if(!i&&aE(a))return n;if(!i&&n==null&&!iE(a,Ve()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Si(u.path,t)||Si(t,u.path))},o=dz(e.allWrites,s,t),l=n||me.EMPTY_NODE;return Gc(o,l)}}}function Oee(e,t,n){let r=me.EMPTY_NODE;const i=pu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Pt,(a,s)=>{r=r.updateImmediateChild(a,s)}),r;if(n){const a=Eo(e.visibleWrites,t);return n.forEachChild(Pt,(s,o)=>{const l=Gc(Eo(a,new nt(s)),o);r=r.updateImmediateChild(s,l)}),PP(a).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const a=Eo(e.visibleWrites,t);return PP(a).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Pee(e,t,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Xt(t,n);if(iE(e.visibleWrites,a))return null;{const s=Eo(e.visibleWrites,a);return aE(s)?i.getChild(n):Gc(s,i.getChild(n))}}function kee(e,t,n,r){const i=Xt(t,n),a=pu(e.visibleWrites,i);if(a!=null)return a;if(r.isCompleteForChild(n)){const s=Eo(e.visibleWrites,i);return Gc(s,r.getNode().getImmediateChild(n))}else return null}function Ree(e,t){return pu(e.visibleWrites,t)}function Mee(e,t,n,r,i,a,s){let o;const l=Eo(e.visibleWrites,t),u=pu(l,Ve());if(u!=null)o=u;else if(n!=null)o=Gc(l,n);else return[];if(o=o.withIndex(s),!o.isEmpty()&&!o.isLeafNode()){const c=[],f=s.getCompare(),d=a?o.getReverseIteratorFrom(r,s):o.getIteratorFrom(r,s);let p=d.getNext();for(;p&&c.length<i;)f(p,r)!==0&&c.push(p),p=d.getNext();return c}else return[]}function Dee(){return{visibleWrites:Ai.empty(),allWrites:[],lastWriteId:-1}}function vv(e,t,n,r){return hz(e.writeTree,e.treePath,t,n,r)}function SA(e,t){return Oee(e.writeTree,e.treePath,t)}function kP(e,t,n,r){return Pee(e.writeTree,e.treePath,t,n,r)}function _v(e,t){return Ree(e.writeTree,Xt(e.treePath,t))}function jee(e,t,n,r,i,a){return Mee(e.writeTree,e.treePath,t,n,r,i,a)}function TA(e,t,n){return kee(e.writeTree,e.treePath,t,n)}function pz(e,t){return mz(Xt(e.treePath,t),e.writeTree)}function mz(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(r,$h(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(r,Bh(r,i.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(r,qc(r,t.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(r,$h(r,t.snapshotNode,i.oldSnap));else throw Tf("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const gz=new zee;class AA{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Lo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TA(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ql(this.viewCache_),a=jee(this.writes_,i,n,1,r,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uee(e){return{filter:e}}function Vee(e,t){te(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),te(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Bee(e,t,n,r,i){const a=new Lee;let s,o;if(n.type===Ti.OVERWRITE){const u=n;u.source.fromUser?s=sE(e,t,u.path,u.snap,r,i,a):(te(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Re(u.path),s=bv(e,t,u.path,u.snap,r,i,o,a))}else if(n.type===Ti.MERGE){const u=n;u.source.fromUser?s=Fee(e,t,u.path,u.children,r,i,a):(te(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered(),s=oE(e,t,u.path,u.children,r,i,o,a))}else if(n.type===Ti.ACK_USER_WRITE){const u=n;u.revert?s=Gee(e,t,u.path,r,i,a):s=Hee(e,t,u.path,u.affectedTree,r,i,a)}else if(n.type===Ti.LISTEN_COMPLETE)s=qee(e,t,n.path,r,a);else throw Tf("Unknown operation type: "+n.type);const l=a.getChanges();return $ee(t,s,l),{viewCache:s,changes:l}}function $ee(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=yv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(oz(yv(t)))}}function yz(e,t,n,r,i,a){const s=t.eventCache;if(_v(r,n)!=null)return t;{let o,l;if(Re(n))if(te(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ql(t),c=u instanceof me?u:me.EMPTY_NODE,f=SA(r,c);o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{const u=vv(r,ql(t));o=e.filter.updateFullNode(t.eventCache.getNode(),u,a)}else{const u=Ce(n);if(u===".priority"){te(jo(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=t.serverCache.getNode();const f=kP(r,n,c,l);f!=null?o=e.filter.updatePriority(c,f):o=s.getNode()}else{const c=st(n);let f;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const d=kP(r,n,s.getNode(),l);d!=null?f=s.getNode().getImmediateChild(u).updateChild(c,d):f=s.getNode().getImmediateChild(u)}else f=TA(r,u,t.serverCache);f!=null?o=e.filter.updateChild(s.getNode(),u,f,c,i,a):o=s.getNode()}}return fh(t,o,s.isFullyInitialized()||Re(n),e.filter.filtersNodes())}}function bv(e,t,n,r,i,a,s,o){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(Re(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=Ce(n);if(!l.isCompleteForPath(n)&&jo(n)>1)return t;const m=st(n),_=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),_):u=c.updateChild(l.getNode(),p,_,m,gz,null)}const f=cz(t,u,l.isFullyInitialized()||Re(n),c.filtersNodes()),d=new AA(i,f,a);return yz(e,f,n,i,d,o)}function sE(e,t,n,r,i,a,s){const o=t.eventCache;let l,u;const c=new AA(i,t,a);if(Re(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=fh(t,u,!0,e.filter.filtersNodes());else{const f=Ce(n);if(f===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=fh(t,u,o.isFullyInitialized(),o.isFiltered());else{const d=st(n),p=o.getNode().getImmediateChild(f);let m;if(Re(d))m=r;else{const g=c.getCompleteChild(f);g!=null?Z6(d)===".priority"&&g.getChild(ez(d)).isEmpty()?m=g:m=g.updateChild(d,r):m=me.EMPTY_NODE}if(p.equals(m))l=t;else{const g=e.filter.updateChild(o.getNode(),f,m,d,c,s);l=fh(t,g,o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function RP(e,t){return e.eventCache.isCompleteForChild(t)}function Fee(e,t,n,r,i,a,s){let o=t;return r.foreach((l,u)=>{const c=Xt(n,l);RP(t,Ce(c))&&(o=sE(e,o,c,u,i,a,s))}),r.foreach((l,u)=>{const c=Xt(n,l);RP(t,Ce(c))||(o=sE(e,o,c,u,i,a,s))}),o}function MP(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function oE(e,t,n,r,i,a,s,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Re(n)?u=r:u=new dt(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((f,d)=>{if(c.hasChild(f)){const p=t.serverCache.getNode().getImmediateChild(f),m=MP(e,p,d);l=bv(e,l,new nt(f),m,i,a,s,o)}}),u.children.inorderTraversal((f,d)=>{const p=!t.serverCache.isCompleteForChild(f)&&d.value===null;if(!c.hasChild(f)&&!p){const m=t.serverCache.getNode().getImmediateChild(f),g=MP(e,m,d);l=bv(e,l,new nt(f),g,i,a,s,o)}}),l}function Hee(e,t,n,r,i,a,s){if(_v(i,n)!=null)return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bv(e,t,n,l.getNode().getChild(n),i,a,o,s);if(Re(n)){let u=new dt(null);return l.getNode().forEachChild(wc,(c,f)=>{u=u.set(new nt(c),f)}),oE(e,t,n,u,i,a,o,s)}else return t}else{let u=new dt(null);return r.foreach((c,f)=>{const d=Xt(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),oE(e,t,n,u,i,a,o,s)}}function qee(e,t,n,r,i){const a=t.serverCache,s=cz(t,a.getNode(),a.isFullyInitialized()||Re(n),a.isFiltered());return yz(e,s,n,r,gz,i)}function Gee(e,t,n,r,i,a){let s;if(_v(r,n)!=null)return t;{const o=new AA(r,t,i),l=t.eventCache.getNode();let u;if(Re(n)||Ce(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=vv(r,ql(t));else{const f=t.serverCache.getNode();te(f instanceof me,"serverChildren would be complete if leaf node"),c=SA(r,f)}c=c,u=e.filter.updateFullNode(l,c,a)}else{const c=Ce(n);let f=TA(r,c,t.serverCache);f==null&&t.serverCache.isCompleteForChild(c)&&(f=l.getImmediateChild(c)),f!=null?u=e.filter.updateChild(l,c,f,st(n),o,a):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,me.EMPTY_NODE,st(n),o,a):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=vv(r,ql(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,a)))}return s=t.serverCache.isFullyInitialized()||_v(r,Ve())!=null,fh(t,u,s,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new bA(r.getIndex()),a=dee(r);this.processor_=Uee(a);const s=n.serverCache,o=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,s.getNode(),null),u=a.updateFullNode(me.EMPTY_NODE,o.getNode(),null),c=new Lo(l,s.isFullyInitialized(),i.filtersNodes()),f=new Lo(u,o.isFullyInitialized(),a.filtersNodes());this.viewCache_=v_(f,c),this.eventGenerator_=new _ee(this.query_)}get query(){return this.query_}}function Yee(e){return e.viewCache_.serverCache.getNode()}function Wee(e){return yv(e.viewCache_)}function Xee(e,t){const n=ql(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Re(t)&&!n.getImmediateChild(Ce(t)).isEmpty())?n.getChild(t):null}function DP(e){return e.eventRegistrations_.length===0}function Qee(e,t){e.eventRegistrations_.push(t)}function jP(e,t,n){const r=[];if(n){te(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const s=a.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const s=e.eventRegistrations_[a];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function LP(e,t,n,r){t.type===Ti.MERGE&&t.source.queryId!==null&&(te(ql(e.viewCache_),"We should always have a full cache before handling merges"),te(yv(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=Bee(e.processor_,i,t,n,r);return Vee(e.processor_,a.viewCache),te(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,vz(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Zee(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pt,(a,s)=>{r.push(qc(a,s))}),n.isFullyInitialized()&&r.push(oz(n.getNode())),vz(e,r,n.getNode(),t)}function vz(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return bee(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv;class _z{constructor(){this.views=new Map}}function Jee(e){te(!xv,"__referenceConstructor has already been defined"),xv=e}function ete(){return te(xv,"Reference.ts has not been loaded"),xv}function tte(e){return e.views.size===0}function CA(e,t,n,r){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return te(a!=null,"SyncTree gave us an op for an invalid query."),LP(a,t,n,r)}else{let a=[];for(const s of e.views.values())a=a.concat(LP(s,t,n,r));return a}}function bz(e,t,n,r,i){const a=t._queryIdentifier,s=e.views.get(a);if(!s){let o=vv(n,i?r:null),l=!1;o?l=!0:r instanceof me?(o=SA(n,r),l=!1):(o=me.EMPTY_NODE,l=!1);const u=v_(new Lo(o,l,!1),new Lo(r,i,!1));return new Kee(t,u)}return s}function nte(e,t,n,r,i,a){const s=bz(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),Qee(s,n),Zee(s,n)}function rte(e,t,n,r){const i=t._queryIdentifier,a=[];let s=[];const o=zo(e);if(i==="default")for(const[l,u]of e.views.entries())s=s.concat(jP(u,n,r)),DP(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||a.push(u.query));else{const l=e.views.get(i);l&&(s=s.concat(jP(l,n,r)),DP(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||a.push(l.query)))}return o&&!zo(e)&&a.push(new(ete())(t._repo,t._path)),{removed:a,events:s}}function xz(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function So(e,t){let n=null;for(const r of e.views.values())n=n||Xee(r,t);return n}function wz(e,t){if(t._queryParams.loadsAllData())return b_(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Ez(e,t){return wz(e,t)!=null}function zo(e){return b_(e)!=null}function b_(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv;function ite(e){te(!wv,"__referenceConstructor has already been defined"),wv=e}function ate(){return te(wv,"Reference.ts has not been loaded"),wv}let ste=1;class zP{constructor(t){this.listenProvider_=t,this.syncPointTree_=new dt(null),this.pendingWriteTree_=Dee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Sz(e,t,n,r,i){return See(e.pendingWriteTree_,t,n,r,i),i?qp(e,new Hl(uz(),t,n)):[]}function _l(e,t,n=!1){const r=Tee(e.pendingWriteTree_,t);if(Aee(e.pendingWriteTree_,t)){let a=new dt(null);return r.snap!=null?a=a.set(Ve(),!0):hr(r.children,s=>{a=a.set(new nt(s),!0)}),qp(e,new gv(r.path,a,n))}else return[]}function Hp(e,t,n){return qp(e,new Hl(wA(),t,n))}function ote(e,t,n){const r=dt.fromObject(n);return qp(e,new qh(wA(),t,r))}function lte(e,t){return qp(e,new Hh(wA(),t))}function ute(e,t,n){const r=IA(e,n);if(r){const i=OA(r),a=i.path,s=i.queryId,o=Gn(a,t),l=new Hh(EA(s),o);return PA(e,a,l)}else return[]}function Ev(e,t,n,r,i=!1){const a=t._path,s=e.syncPointTree_.get(a);let o=[];if(s&&(t._queryIdentifier==="default"||Ez(s,t))){const l=rte(s,t,n,r);tte(s)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const u=l.removed;if(o=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,f=e.syncPointTree_.findOnPath(a,(d,p)=>zo(p));if(c&&!f){const d=e.syncPointTree_.subtree(a);if(!d.isEmpty()){const p=dte(d);for(let m=0;m<p.length;++m){const g=p[m],_=g.query,y=Nz(e,g);e.listenProvider_.startListening(hh(_),Gh(e,_),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(hh(t),null):u.forEach(d=>{const p=e.queryToTagMap.get(x_(d));e.listenProvider_.stopListening(hh(d),p)}))}hte(e,u)}return o}function Tz(e,t,n,r){const i=IA(e,r);if(i!=null){const a=OA(i),s=a.path,o=a.queryId,l=Gn(s,t),u=new Hl(EA(o),l,n);return PA(e,s,u)}else return[]}function cte(e,t,n,r){const i=IA(e,r);if(i){const a=OA(i),s=a.path,o=a.queryId,l=Gn(s,t),u=dt.fromObject(n),c=new qh(EA(o),l,u);return PA(e,s,c)}else return[]}function lE(e,t,n,r=!1){const i=t._path;let a=null,s=!1;e.syncPointTree_.foreachOnPath(i,(d,p)=>{const m=Gn(d,i);a=a||So(p,m),s=s||zo(p)});let o=e.syncPointTree_.get(i);o?(s=s||zo(o),a=a||So(o,Ve())):(o=new _z,e.syncPointTree_=e.syncPointTree_.set(i,o));let l;a!=null?l=!0:(l=!1,a=me.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,m)=>{const g=So(m,Ve());g&&(a=a.updateImmediateChild(p,g))}));const u=Ez(o,t);if(!u&&!t._queryParams.loadsAllData()){const d=x_(t);te(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const p=pte();e.queryToTagMap.set(d,p),e.tagToQueryMap.set(p,d)}const c=__(e.pendingWriteTree_,i);let f=nte(o,t,n,c,a,l);if(!u&&!s&&!r){const d=wz(o,t);f=f.concat(mte(e,t,d))}return f}function NA(e,t,n){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(s,o)=>{const l=Gn(s,t),u=So(o,l);if(u)return u});return hz(i,t,a,n,!0)}function fte(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const f=Gn(u,n);r=r||So(c,f)});let i=e.syncPointTree_.get(n);i?r=r||So(i,Ve()):(i=new _z,e.syncPointTree_=e.syncPointTree_.set(n,i));const a=r!=null,s=a?new Lo(r,!0,!1):null,o=__(e.pendingWriteTree_,t._path),l=bz(i,t,o,a?s.getNode():me.EMPTY_NODE,a);return Wee(l)}function qp(e,t){return Az(t,e.syncPointTree_,null,__(e.pendingWriteTree_,Ve()))}function Az(e,t,n,r){if(Re(e.path))return Cz(e,t,n,r);{const i=t.get(Ve());n==null&&i!=null&&(n=So(i,Ve()));let a=[];const s=Ce(e.path),o=e.operationForChild(s),l=t.children.get(s);if(l&&o){const u=n?n.getImmediateChild(s):null,c=pz(r,s);a=a.concat(Az(o,l,u,c))}return i&&(a=a.concat(CA(i,e,r,n))),a}}function Cz(e,t,n,r){const i=t.get(Ve());n==null&&i!=null&&(n=So(i,Ve()));let a=[];return t.children.inorderTraversal((s,o)=>{const l=n?n.getImmediateChild(s):null,u=pz(r,s),c=e.operationForChild(s);c&&(a=a.concat(Cz(c,o,l,u)))}),i&&(a=a.concat(CA(i,e,r,n))),a}function Nz(e,t){const n=t.query,r=Gh(e,n);return{hashFn:()=>(Yee(t)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ute(e,n._path,r):lte(e,n._path);{const a=fJ(i,n);return Ev(e,n,null,a)}}}}function Gh(e,t){const n=x_(t);return e.queryToTagMap.get(n)}function x_(e){return e._path.toString()+"$"+e._queryIdentifier}function IA(e,t){return e.tagToQueryMap.get(t)}function OA(e){const t=e.indexOf("$");return te(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new nt(e.substr(0,t))}}function PA(e,t,n){const r=e.syncPointTree_.get(t);te(r,"Missing sync point for query tag that we're tracking");const i=__(e.pendingWriteTree_,t);return CA(r,n,i,null)}function dte(e){return e.fold((t,n,r)=>{if(n&&zo(n))return[b_(n)];{let i=[];return n&&(i=xz(n)),hr(r,(a,s)=>{i=i.concat(s)}),i}})}function hh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ate())(e._repo,e._path):e}function hte(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=x_(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function pte(){return ste++}function mte(e,t,n){const r=t._path,i=Gh(e,t),a=Nz(e,n),s=e.listenProvider_.startListening(hh(t),i,a.hashFn,a.onComplete),o=e.syncPointTree_.subtree(r);if(i)te(!zo(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,c,f)=>{if(!Re(u)&&c&&zo(c))return[b_(c).query];{let d=[];return c&&(d=d.concat(xz(c).map(p=>p.query))),hr(f,(p,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(hh(c),Gh(e,c))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new kA(n)}node(){return this.node_}}class RA{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Xt(this.path_,t);return new RA(this.syncTree_,n)}node(){return NA(this.syncTree_,this.path_)}}const gte=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},UP=function(e,t,n){if(!e||typeof e!="object")return e;if(te(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return yte(e[".sv"],t,n);if(typeof e[".sv"]=="object")return vte(e[".sv"],t);te(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},yte=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+e)}},vte=function(e,t,n){e.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=t.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},_te=function(e,t,n,r){return MA(t,new RA(n,e),r)},Iz=function(e,t,n){return MA(e,new kA(t),n)};function MA(e,t,n){const r=e.getPriority().val(),i=UP(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const s=e,o=UP(s.getValue(),t,n);return o!==s.getValue()||i!==s.getPriority().val()?new an(o,cn(i)):e}else{const s=e;return a=s,i!==s.getPriority().val()&&(a=a.updatePriority(new an(i))),s.forEachChild(Pt,(o,l)=>{const u=MA(l,t.getImmediateChild(o),n);u!==l&&(a=a.updateImmediateChild(o,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function jA(e,t){let n=t instanceof nt?t:new nt(t),r=e,i=Ce(n);for(;i!==null;){const a=$c(r.node.children,i)||{children:{},childCount:0};r=new DA(i,r,a),n=st(n),i=Ce(n)}return r}function Pf(e){return e.node.value}function Oz(e,t){e.node.value=t,uE(e)}function Pz(e){return e.node.childCount>0}function bte(e){return Pf(e)===void 0&&!Pz(e)}function w_(e,t){hr(e.node.children,(n,r)=>{t(new DA(n,e,r))})}function kz(e,t,n,r){n&&t(e),w_(e,i=>{kz(i,t,!0)})}function xte(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Gp(e){return new nt(e.parent===null?e.name:Gp(e.parent)+"/"+e.name)}function uE(e){e.parent!==null&&wte(e.parent,e.name,e)}function wte(e,t,n){const r=bte(n),i=bs(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,uE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,uE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=/[\[\].#$\/\u0000-\u001F\u007F]/,Ste=/[\[\].#$\u0000-\u001F\u007F]/,lw=10*1024*1024,Rz=function(e){return typeof e=="string"&&e.length!==0&&!Ete.test(e)},Mz=function(e){return typeof e=="string"&&e.length!==0&&!Ste.test(e)},Tte=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Mz(e)},Ate=function(e,t,n,r){LA(nA(e,"value"),t,n)},LA=function(e,t,n){const r=n instanceof nt?new HJ(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+hl(r));if(typeof t=="function")throw new Error(e+"contains a function "+hl(r)+" with contents = "+t.toString());if(P6(t))throw new Error(e+"contains "+t.toString()+" "+hl(r));if(typeof t=="string"&&t.length>lw/3&&c_(t)>lw)throw new Error(e+"contains a string greater than "+lw+" utf8 bytes "+hl(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(hr(t,(s,o)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(a=!0,!Rz(s)))throw new Error(e+" contains an invalid key ("+s+") "+hl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qJ(r,s),LA(e,o,r),GJ(r)}),i&&a)throw new Error(e+' contains ".value" child '+hl(r)+" in addition to actual children.")}},Dz=function(e,t,n,r){if(!Mz(n))throw new Error(nA(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Cte=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Dz(e,t,n)},Nte=function(e,t){if(Ce(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Ite=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Rz(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Tte(n))throw new Error(nA(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zA(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();n!==null&&!yA(a,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function jz(e,t,n){zA(e,n),Lz(e,r=>yA(r,t))}function ca(e,t,n){zA(e,n),Lz(e,r=>Si(r,t)||Si(t,r))}function Lz(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const a=i.path;t(a)?(Pte(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Pte(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();uh&&zn("event: "+n.toString()),Of(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte="repo_interrupt",Rte=25;class Mte{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ote,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mv(),this.transactionQueueTree_=new DA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Dte(e,t,n){if(e.stats_=mA(e.repoInfo_),e.forceRestClient_||mJ())e.server_=new pv(e.repoInfo_,(r,i,a,s)=>{VP(e,r,i,a,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>BP(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Wt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ka(e.repoInfo_,t,(r,i,a,s)=>{VP(e,r,i,a,s)},r=>{BP(e,r)},r=>{Lte(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=bJ(e.repoInfo_,()=>new vee(e.stats_,e.server_)),e.infoData_=new hee,e.infoSyncTree_=new zP({startListening:(r,i,a,s)=>{let o=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(o=Hp(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),o},stopListening:()=>{}}),VA(e,"connected",!1),e.serverSyncTree_=new zP({startListening:(r,i,a,s)=>(e.server_.listen(r,a,i,(o,l)=>{const u=s(o,l);ca(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function jte(e){const n=e.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function UA(e){return gte({timestamp:jte(e)})}function VP(e,t,n,r,i){e.dataUpdateCount++;const a=new nt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=rv(n,u=>cn(u));s=cte(e.serverSyncTree_,a,l,i)}else{const l=cn(n);s=Tz(e.serverSyncTree_,a,l,i)}else if(r){const l=rv(n,u=>cn(u));s=ote(e.serverSyncTree_,a,l)}else{const l=cn(n);s=Hp(e.serverSyncTree_,a,l)}let o=a;s.length>0&&(o=S_(e,a)),ca(e.eventQueue_,o,s)}function BP(e,t){VA(e,"connected",t),t===!1&&Vte(e)}function Lte(e,t){hr(t,(n,r)=>{VA(e,n,r)})}function VA(e,t,n){const r=new nt("/.info/"+t),i=cn(n);e.infoData_.updateSnapshot(r,i);const a=Hp(e.infoSyncTree_,r,i);ca(e.eventQueue_,r,a)}function zz(e){return e.nextWriteId_++}function zte(e,t,n){const r=fte(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const a=cn(i).withIndex(t._queryParams.getIndex());lE(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Hp(e.serverSyncTree_,t._path,a);else{const o=Gh(e.serverSyncTree_,t);s=Tz(e.serverSyncTree_,t._path,a,o)}return ca(e.eventQueue_,t._path,s),Ev(e.serverSyncTree_,t,n,null,!0),a},i=>(E_(e,"get for query "+Wt(t)+" failed: "+i),Promise.reject(new Error(i))))}function Ute(e,t,n,r,i){E_(e,"set",{path:t.toString(),value:n,priority:r});const a=UA(e),s=cn(n,r),o=NA(e.serverSyncTree_,t),l=Iz(s,o,a),u=zz(e),c=Sz(e.serverSyncTree_,t,l,u,!0);zA(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(d,p)=>{const m=d==="ok";m||fr("set at "+t+" failed: "+d);const g=_l(e.serverSyncTree_,u,!m);ca(e.eventQueue_,t,g),Hte(e,i,d,p)});const f=Fz(e,t);S_(e,f),ca(e.eventQueue_,f,[])}function Vte(e){E_(e,"onDisconnectEvents");const t=UA(e),n=mv();rE(e.onDisconnect_,Ve(),(i,a)=>{const s=_te(i,a,e.serverSyncTree_,t);lz(n,i,s)});let r=[];rE(n,Ve(),(i,a)=>{r=r.concat(Hp(e.serverSyncTree_,i,a));const s=Fz(e,i);S_(e,s)}),e.onDisconnect_=mv(),ca(e.eventQueue_,Ve(),r)}function Bte(e,t,n){let r;Ce(t._path)===".info"?r=lE(e.infoSyncTree_,t,n):r=lE(e.serverSyncTree_,t,n),jz(e.eventQueue_,t._path,r)}function $te(e,t,n){let r;Ce(t._path)===".info"?r=Ev(e.infoSyncTree_,t,n):r=Ev(e.serverSyncTree_,t,n),jz(e.eventQueue_,t._path,r)}function Fte(e){e.persistentConnection_&&e.persistentConnection_.interrupt(kte)}function E_(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),zn(n,...t)}function Hte(e,t,n,r){t&&Of(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let a=i;r&&(a+=": "+r);const s=new Error(a);s.code=i,t(s)}})}function Uz(e,t,n){return NA(e.serverSyncTree_,t,n)||me.EMPTY_NODE}function BA(e,t=e.transactionQueueTree_){if(t||T_(e,t),Pf(t)){const n=Bz(e,t);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&qte(e,Gp(t),n)}else Pz(t)&&w_(t,n=>{BA(e,n)})}function qte(e,t,n){const r=n.map(u=>u.currentWriteId),i=Uz(e,t,r);let a=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];te(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=Gn(t,c.path);a=a.updateChild(f,c.currentOutputSnapshotRaw)}const o=a.val(!0),l=t;e.server_.put(l.toString(),o,u=>{E_(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const f=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(_l(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&f.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();T_(e,jA(e.transactionQueueTree_,t)),BA(e,e.transactionQueueTree_),ca(e.eventQueue_,t,c);for(let d=0;d<f.length;d++)Of(f[d])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{fr("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}S_(e,t)}},s)}function S_(e,t){const n=Vz(e,t),r=Gp(n),i=Bz(e,n);return Gte(e,i,r),r}function Gte(e,t,n){if(t.length===0)return;const r=[];let i=[];const s=t.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<t.length;o++){const l=t[o],u=Gn(n,l.path);let c=!1,f;if(te(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,f=l.abortReason,i=i.concat(_l(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Rte)c=!0,f="maxretry",i=i.concat(_l(e.serverSyncTree_,l.currentWriteId,!0));else{const d=Uz(e,l.path,s);l.currentInputSnapshot=d;const p=t[o].update(d.val());if(p!==void 0){LA("transaction failed: Data returned ",p,l.path);let m=cn(p);typeof p=="object"&&p!=null&&bs(p,".priority")||(m=m.updatePriority(d.getPriority()));const _=l.currentWriteId,y=UA(e),x=Iz(m,d,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=x,l.currentWriteId=zz(e),s.splice(s.indexOf(_),1),i=i.concat(Sz(e.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(_l(e.serverSyncTree_,_,!0))}else c=!0,f="nodata",i=i.concat(_l(e.serverSyncTree_,l.currentWriteId,!0))}ca(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,function(d){setTimeout(d,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&(f==="nodata"?r.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):r.push(()=>t[o].onComplete(new Error(f),!1,null))))}T_(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)Of(r[o]);BA(e,e.transactionQueueTree_)}function Vz(e,t){let n,r=e.transactionQueueTree_;for(n=Ce(t);n!==null&&Pf(r)===void 0;)r=jA(r,n),t=st(t),n=Ce(t);return r}function Bz(e,t){const n=[];return $z(e,t,n),n.sort((r,i)=>r.order-i.order),n}function $z(e,t,n){const r=Pf(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);w_(t,i=>{$z(e,i,n)})}function T_(e,t){const n=Pf(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Oz(t,n.length>0?n:void 0)}w_(t,r=>{T_(e,r)})}function Fz(e,t){const n=Gp(Vz(e,t)),r=jA(e.transactionQueueTree_,t);return xte(r,i=>{uw(e,i)}),uw(e,r),kz(r,i=>{uw(e,i)}),n}function uw(e,t){const n=Pf(t);if(n){const r=[];let i=[],a=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(te(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(te(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(_l(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));a===-1?Oz(t,void 0):n.length=a+1,ca(e.eventQueue_,Gp(t),i);for(let s=0;s<r.length;s++)Of(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kte(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Yte(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):fr(`Invalid query segment '${n}' in query '${e}'`)}return t}const $P=function(e,t){const n=Wte(e),r=n.namespace;n.domain==="firebase.com"&&as(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sJ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new F6(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new nt(n.pathString)}},Wte=function(e){let t="",n="",r="",i="",a="",s=!0,o="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(o=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=Kte(e.substring(c,f)));const d=Yte(e.substring(Math.min(e.length,f)));u=t.indexOf(":"),u>=0?(s=o==="https"||o==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:o,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Wt(this.snapshot.exportVal())}}class Qte{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Re(this._path)?null:Z6(this._path)}get ref(){return new xs(this._repo,this._path)}get _queryIdentifier(){const t=CP(this._queryParams),n=hA(t);return n==="{}"?"default":n}get _queryObject(){return CP(this._queryParams)}isEqual(t){if(t=Mt(t),!(t instanceof $A))return!1;const n=this._repo===t._repo,r=yA(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+FJ(this._path)}}class xs extends $A{constructor(t,n){super(t,n,new xA,!1)}get parent(){const t=ez(this._path);return t===null?null:new xs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Kh{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new nt(t),r=cE(this.ref,t);return new Kh(this._node.getChild(n),r,Pt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Kh(i,cE(this.ref,r),Pt)))}hasChild(t){const n=new nt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yh(e,t){return e=Mt(e),e._checkNotDeleted("ref"),t!==void 0?cE(e._root,t):e._root}function cE(e,t){return e=Mt(e),Ce(e._path)===null?Cte("child","path",t):Dz("child","path",t),new xs(e._repo,Xt(e._path,t))}function Zte(e,t){e=Mt(e),Nte("set",e._path),Ate("set",t,e._path);const n=new u_;return Ute(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function qz(e){e=Mt(e);const t=new Hz(()=>{}),n=new A_(t);return zte(e._repo,e,n).then(r=>new Kh(r,new xs(e._repo,e._path),e._queryParams.getIndex()))}class A_{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Xte("value",this,new Kh(t.snapshotNode,new xs(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Qte(this,t,n):null}matches(t){return t instanceof A_?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Jte(e,t,n,r,i){const a=new Hz(n,void 0),s=new A_(a);return Bte(e._repo,e,s),()=>$te(e._repo,e,s)}function Gz(e,t,n,r){return Jte(e,"value",t)}Jee(xs);ite(xs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene="FIREBASE_DATABASE_EMULATOR_HOST",fE={};let tne=!1;function nne(e,t,n,r){const i=t.lastIndexOf(":"),a=t.substring(0,i),s=Go(a);e.repoInfo_=new F6(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function rne(e,t,n,r,i){let a=r||e.options.databaseURL;a===void 0&&(e.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zn("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=$P(a,i),o=s.repoInfo,l;typeof process<"u"&&uP&&(l=uP[ene]),l?(a=`http://${l}?ns=${o.namespace}`,s=$P(a,i),o=s.repoInfo):s.repoInfo.secure;const u=new yJ(e.name,e.options,t);Ite("Invalid Firebase Database URL",s),Re(s.path)||as("Database URL must point to the root of a Firebase Database (not including a child path).");const c=ane(o,e,u,new gJ(e,n));return new sne(c,e)}function ine(e,t){const n=fE[t];(!n||n[e.key]!==e)&&as(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Fte(e),delete n[e.key]}function ane(e,t,n,r){let i=fE[t.name];i||(i={},fE[t.name]=i);let a=i[e.toURLString()];return a&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Mte(e,tne,n,r),i[e.toURLString()]=a,a}let sne=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Dte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xs(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ine(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&as("Cannot call "+t+" on a deleted database.")}};function one(e=iA(),t){const n=d_(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=z5("database");r&&lne(n,...r)}return n}function lne(e,t,n,r={}){e=Mt(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,a=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Mo(r,a.repoInfo_.emulatorOptions))return;as("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&as('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ay(ay.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:B5(r.mockUserToken,e.app.options.projectId);s=new ay(o)}Go(t)&&(JT(t),eA("Database",!0)),nne(a,i,r,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(e){eJ(du),Bl(new Do("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return rne(r,i,a,n)},"PUBLIC").setMultipleInstances(!0)),aa(cP,fP,e),aa(cP,fP,"esm2020")}Ka.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ka.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};une();var FP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FA;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,A){function C(){}C.prototype=A.prototype,T.F=A.prototype,T.prototype=new C,T.prototype.constructor=T,T.D=function(I,O,k){for(var R=Array(arguments.length-2),D=2;D<arguments.length;D++)R[D-2]=arguments[D];return A.prototype[O].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,C){C||(C=0);const I=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)I[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)I[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=T.g[0],C=T.g[1],O=T.g[2];let k=T.g[3],R;R=A+(k^C&(O^k))+I[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(O^A&(C^O))+I[1]+3905402710&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(C^k&(A^C))+I[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=C+(A^O&(k^A))+I[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(k^C&(O^k))+I[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(O^A&(C^O))+I[5]+1200080426&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(C^k&(A^C))+I[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=C+(A^O&(k^A))+I[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(k^C&(O^k))+I[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(O^A&(C^O))+I[9]+2336552879&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(C^k&(A^C))+I[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=C+(A^O&(k^A))+I[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(k^C&(O^k))+I[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=k+(O^A&(C^O))+I[13]+4254626195&4294967295,k=A+(R<<12&4294967295|R>>>20),R=O+(C^k&(A^C))+I[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=C+(A^O&(k^A))+I[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(O^k&(C^O))+I[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^O&(A^C))+I[6]+3225465664&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(k^A))+I[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(O^k))+I[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(C^O))+I[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^O&(A^C))+I[10]+38016083&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(k^A))+I[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(O^k))+I[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(C^O))+I[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^O&(A^C))+I[14]+3275163606&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(k^A))+I[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(O^k))+I[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^k&(C^O))+I[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=k+(C^O&(A^C))+I[2]+4243563512&4294967295,k=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(k^A))+I[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=C+(k^A&(O^k))+I[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(C^O^k)+I[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^O)+I[8]+2272392833&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^C)+I[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=C+(O^k^A)+I[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^k)+I[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^O)+I[4]+1272893353&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^C)+I[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=C+(O^k^A)+I[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^k)+I[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^O)+I[0]+3936430074&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^C)+I[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=C+(O^k^A)+I[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^k)+I[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=k+(A^C^O)+I[12]+3873151461&4294967295,k=A+(R<<11&4294967295|R>>>21),R=O+(k^A^C)+I[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=C+(O^k^A)+I[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(O^(C|~k))+I[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~O))+I[7]+1126891415&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~C))+I[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=C+(k^(O|~A))+I[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~k))+I[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~O))+I[3]+2399980690&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~C))+I[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=C+(k^(O|~A))+I[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~k))+I[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~O))+I[15]+4264355552&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~C))+I[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=C+(k^(O|~A))+I[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~k))+I[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=k+(C^(A|~O))+I[11]+3174756917&4294967295,k=A+(R<<10&4294967295|R>>>22),R=O+(A^(k|~C))+I[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=C+(k^(O|~A))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.v=function(T,A){A===void 0&&(A=T.length);const C=A-this.blockSize,I=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=C;)i(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<A;)if(I[O++]=T.charCodeAt(k++),O==this.blockSize){i(this,I),O=0;break}}else for(;k<A;)if(I[O++]=T[k++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;A=this.o*8;for(var C=T.length-8;C<T.length;++C)T[C]=A&255,A/=256;for(this.v(T),T=Array(16),A=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)T[A++]=this.g[C]>>>I&255;return T};function a(T,A){var C=o;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=A(T)}function s(T,A){this.h=A;const C=[];let I=!0;for(let O=T.length-1;O>=0;O--){const k=T[O]|0;I&&k==A||(C[O]=k,I=!1)}this.g=C}var o={};function l(T){return-128<=T&&T<128?a(T,function(A){return new s([A|0],A<0?-1:0)}):new s([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return _(u(-T));const A=[];let C=1;for(let I=0;T>=C;I++)A[I]=T/C|0,C*=4294967296;return new s(A,0)}function c(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return _(c(T.substring(1),A));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(A,8));let I=f;for(let k=0;k<T.length;k+=8){var O=Math.min(8,T.length-k);const R=parseInt(T.substring(k,k+O),A);O<8?(O=u(Math.pow(A,O)),I=I.j(O).add(u(R))):(I=I.j(C),I=I.add(u(R)))}return I}var f=l(0),d=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(g(this))return-_(this).m();let T=0,A=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);T+=(I>=0?I:4294967296+I)*A,A*=4294967296}return T},e.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(g(this))return"-"+_(this).toString(T);const A=u(Math.pow(T,6));var C=this;let I="";for(;;){const O=S(C,A).g;C=y(C,O.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(T);if(C=O,m(C))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},e.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(let A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function g(T){return T.h==-1}e.l=function(T){return T=y(this,T),g(T)?-1:m(T)?0:1};function _(T){const A=T.g.length,C=[];for(let I=0;I<A;I++)C[I]=~T.g[I];return new s(C,~T.h).add(d)}e.abs=function(){return g(this)?_(this):this},e.add=function(T){const A=Math.max(this.g.length,T.g.length),C=[];let I=0;for(let O=0;O<=A;O++){let k=I+(this.i(O)&65535)+(T.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);I=R>>>16,k&=65535,R&=65535,C[O]=R<<16|k}return new s(C,C[C.length-1]&-2147483648?-1:0)};function y(T,A){return T.add(_(A))}e.j=function(T){if(m(this)||m(T))return f;if(g(this))return g(T)?_(this).j(_(T)):_(_(this).j(T));if(g(T))return _(this.j(_(T)));if(this.l(p)<0&&T.l(p)<0)return u(this.m()*T.m());const A=this.g.length+T.g.length,C=[];for(var I=0;I<2*A;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let O=0;O<T.g.length;O++){const k=this.i(I)>>>16,R=this.i(I)&65535,D=T.i(O)>>>16,z=T.i(O)&65535;C[2*I+2*O]+=R*z,x(C,2*I+2*O),C[2*I+2*O+1]+=k*z,x(C,2*I+2*O+1),C[2*I+2*O+1]+=R*D,x(C,2*I+2*O+1),C[2*I+2*O+2]+=k*D,x(C,2*I+2*O+2)}for(T=0;T<A;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=A;T<2*A;T++)C[T]=0;return new s(C,0)};function x(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function E(T,A){this.g=T,this.h=A}function S(T,A){if(m(A))throw Error("division by zero");if(m(T))return new E(f,f);if(g(T))return A=S(_(T),A),new E(_(A.g),_(A.h));if(g(A))return A=S(T,_(A)),new E(_(A.g),A.h);if(T.g.length>30){if(g(T)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var C=d,I=A;I.l(T)<=0;)C=P(C),I=P(I);var O=M(C,1),k=M(I,1);for(I=M(I,2),C=M(C,2);!m(I);){var R=k.add(I);R.l(T)<=0&&(O=O.add(C),k=R),I=M(I,1),C=M(C,1)}return A=y(T,O.j(A)),new E(O,A)}for(O=f;T.l(A)>=0;){for(C=Math.max(1,Math.floor(T.m()/A.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=u(C),R=k.j(A);g(R)||R.l(T)>0;)C-=I,k=u(C),R=k.j(A);m(k)&&(k=d),O=O.add(k),T=y(T,R)}return new E(O,T)}e.B=function(T){return S(this,T).h},e.and=function(T){const A=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)&T.i(I);return new s(C,this.h&T.h)},e.or=function(T){const A=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)|T.i(I);return new s(C,this.h|T.h)},e.xor=function(T){const A=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<A;I++)C[I]=this.i(I)^T.i(I);return new s(C,this.h^T.h)};function P(T){const A=T.g.length+1,C=[];for(let I=0;I<A;I++)C[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(C,T.h)}function M(T,A){const C=A>>5;A%=32;const I=T.g.length-C,O=[];for(let k=0;k<I;k++)O[k]=A>0?T.i(k+C)>>>A|T.i(k+C+1)<<32-A:T.i(k+C);return new s(O,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,FA=s}).apply(typeof FP<"u"?FP:typeof self<"u"?self:typeof window<"u"?window:{});var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kz,Vd,Yz,oy,dE,Wz,Xz,Qz;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lg=="object"&&lg];for(var w=0;w<h.length;++w){var N=h[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var N=r;h=h.split(".");for(var j=0;j<h.length-1;j++){var $=h[j];if(!($ in N))break e;N=N[$]}h=h[h.length-1],j=N[h],w=w(j),w!=j&&w!=null&&t(N,h,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(w){var N=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&N.push([j,w[j]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function l(h,w,N){return h.call.apply(h.bind,arguments)}function u(h,w,N){return u=l,u.apply(null,arguments)}function c(h,w){var N=Array.prototype.slice.call(arguments,1);return function(){var j=N.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function f(h,w){function N(){}N.prototype=w.prototype,h.Z=w.prototype,h.prototype=new N,h.prototype.constructor=h,h.Ob=function(j,$,q){for(var ne=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)ne[Ee-2]=arguments[Ee];return w.prototype[$].apply(j,ne)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const w=h.length;if(w>0){const N=Array(w);for(let j=0;j<w;j++)N[j]=h[j];return N}return[]}function m(h,w){for(let j=1;j<arguments.length;j++){const $=arguments[j];var N=typeof $;if(N=N!="object"?N:$?Array.isArray($)?"array":N:"null",N=="array"||N=="object"&&typeof $.length=="number"){N=h.length||0;const q=$.length||0;h.length=N+q;for(let ne=0;ne<q;ne++)h[N+ne]=$[ne]}else h.push($)}}class g{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(h){s.setTimeout(()=>{throw h},0)}function y(){var h=T;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class x{constructor(){this.h=this.g=null}add(w,N){const j=E.get();j.set(w,N),this.h?this.h.next=j:this.g=j,this.h=j}}var E=new g(()=>new S,h=>h.reset());class S{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let P,M=!1,T=new x,A=()=>{const h=Promise.resolve(void 0);P=()=>{h.then(C)}};function C(){for(var h;h=y();){try{h.h.call(h.g)}catch(N){_(N)}var w=E;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}M=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};s.addEventListener("test",N,w),s.removeEventListener("test",N,w)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function D(h,w){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f(D,O),D.prototype.init=function(h,w){const N=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(N=="mouseover"?w=h.fromElement:N=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var z="closure_listenable_"+(Math.random()*1e6|0),L=0;function V(h,w,N,j,$){this.listener=h,this.proxy=null,this.src=w,this.type=N,this.capture=!!j,this.ha=$,this.key=++L,this.da=this.fa=!1}function B(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function U(h,w,N){for(const j in h)w.call(N,h[j],j,h)}function F(h,w){for(const N in h)w.call(void 0,h[N],N,h)}function Y(h){const w={};for(const N in h)w[N]=h[N];return w}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,w){let N,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(N in j)h[N]=j[N];for(let q=0;q<X.length;q++)N=X[q],Object.prototype.hasOwnProperty.call(j,N)&&(h[N]=j[N])}}function ee(h){this.src=h,this.g={},this.h=0}ee.prototype.add=function(h,w,N,j,$){const q=h.toString();h=this.g[q],h||(h=this.g[q]=[],this.h++);const ne=_e(h,w,j,$);return ne>-1?(w=h[ne],N||(w.fa=!1)):(w=new V(w,this.src,q,!!j,$),w.fa=N,h.push(w)),w};function se(h,w){const N=w.type;if(N in h.g){var j=h.g[N],$=Array.prototype.indexOf.call(j,w,void 0),q;(q=$>=0)&&Array.prototype.splice.call(j,$,1),q&&(B(w),h.g[N].length==0&&(delete h.g[N],h.h--))}}function _e(h,w,N,j){for(let $=0;$<h.length;++$){const q=h[$];if(!q.da&&q.listener==w&&q.capture==!!N&&q.ha==j)return $}return-1}var he="closure_lm_"+(Math.random()*1e6|0),De={};function G(h,w,N,j,$){if(Array.isArray(w)){for(let q=0;q<w.length;q++)G(h,w[q],N,j,$);return null}return N=ue(N),h&&h[z]?h.J(w,N,o(j)?!!j.capture:!1,$):ae(h,w,N,!1,j,$)}function ae(h,w,N,j,$,q){if(!w)throw Error("Invalid event type");const ne=o($)?!!$.capture:!!$;let Ee=Xe(h);if(Ee||(h[he]=Ee=new ee(h)),N=Ee.add(w,N,j,ne,q),N.proxy)return N;if(j=ve(),N.proxy=j,j.src=h,j.listener=N,h.addEventListener)k||($=ne),$===void 0&&($=!1),h.addEventListener(w.toString(),j,$);else if(h.attachEvent)h.attachEvent(xe(w.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ve(){function h(N){return w.call(h.src,h.listener,N)}const w=je;return h}function Z(h,w,N,j,$){if(Array.isArray(w))for(var q=0;q<w.length;q++)Z(h,w[q],N,j,$);else j=o(j)?!!j.capture:!!j,N=ue(N),h&&h[z]?(h=h.i,q=String(w).toString(),q in h.g&&(w=h.g[q],N=_e(w,N,j,$),N>-1&&(B(w[N]),Array.prototype.splice.call(w,N,1),w.length==0&&(delete h.g[q],h.h--)))):h&&(h=Xe(h))&&(w=h.g[w.toString()],h=-1,w&&(h=_e(w,N,j,$)),(N=h>-1?w[h]:null)&&He(N))}function He(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[z])se(w.i,h);else{var N=h.type,j=h.proxy;w.removeEventListener?w.removeEventListener(N,j,h.capture):w.detachEvent?w.detachEvent(xe(N),j):w.addListener&&w.removeListener&&w.removeListener(j),(N=Xe(w))?(se(N,h),N.h==0&&(N.src=null,w[he]=null)):B(h)}}}function xe(h){return h in De?De[h]:De[h]="on"+h}function je(h,w){if(h.da)h=!0;else{w=new D(w,this);const N=h.listener,j=h.ha||h.src;h.fa&&He(h),h=N.call(j,w)}return h}function Xe(h){return h=h[he],h instanceof ee?h:null}var Ie="__closure_events_fn_"+(Math.random()*1e9>>>0);function ue(h){return typeof h=="function"?h:(h[Ie]||(h[Ie]=function(w){return h.handleEvent(w)}),h[Ie])}function qe(){I.call(this),this.i=new ee(this),this.M=this,this.G=null}f(qe,I),qe.prototype[z]=!0,qe.prototype.removeEventListener=function(h,w,N,j){Z(this,h,w,N,j)};function St(h,w){var N,j=h.G;if(j)for(N=[];j;j=j.G)N.push(j);if(h=h.M,j=w.type||w,typeof w=="string")w=new O(w,h);else if(w instanceof O)w.target=w.target||h;else{var $=w;w=new O(j,h),re(w,$)}$=!0;let q,ne;if(N)for(ne=N.length-1;ne>=0;ne--)q=w.g=N[ne],$=Li(q,j,!0,w)&&$;if(q=w.g=h,$=Li(q,j,!0,w)&&$,$=Li(q,j,!1,w)&&$,N)for(ne=0;ne<N.length;ne++)q=w.g=N[ne],$=Li(q,j,!1,w)&&$}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const N=h.g[w];for(let j=0;j<N.length;j++)B(N[j]);delete h.g[w],h.h--}}this.G=null},qe.prototype.J=function(h,w,N,j){return this.i.add(String(h),w,!1,N,j)},qe.prototype.K=function(h,w,N,j){return this.i.add(String(h),w,!0,N,j)};function Li(h,w,N,j){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let $=!0;for(let q=0;q<w.length;++q){const ne=w[q];if(ne&&!ne.da&&ne.capture==N){const Ee=ne.listener,Gt=ne.ha||ne.src;ne.fa&&se(h.i,ne),$=Ee.call(Gt,j)!==!1&&$}}return $&&!j.defaultPrevented}function Os(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:s.setTimeout(h,w||0)}function wa(h){h.g=Os(()=>{h.g=null,h.i&&(h.i=!1,wa(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class ui extends I{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:wa(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){I.call(this),this.h=h,this.g={}}f(Vr,I);var zi=[];function Ui(h){U(h.g,function(w,N){this.g.hasOwnProperty(N)&&He(w)},h),h.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),Ui(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vi=s.JSON.stringify,Ps=s.JSON.parse,Zo=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function qt(){}function tr(){}var vr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ci(){O.call(this,"d")}f(ci,O);function fi(){O.call(this,"c")}f(fi,O);var _n={},_r=null;function Bi(){return _r=_r||new qe}_n.Ia="serverreachability";function xu(h){O.call(this,_n.Ia,h)}f(xu,O);function di(h){const w=Bi();St(w,new xu(w))}_n.STAT_EVENT="statevent";function wu(h,w){O.call(this,_n.STAT_EVENT,h),this.stat=w}f(wu,O);function en(h){const w=Bi();St(w,new wu(w,h))}_n.Ja="timingevent";function $i(h,w){O.call(this,_n.Ja,h),this.size=w}f($i,O);function Jo(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},w)}function el(){this.g=!0}el.prototype.ua=function(){this.g=!1};function Wb(h,w,N,j,$,q){h.info(function(){if(h.g)if(q){var ne="",Ee=q.split("&");for(let Je=0;Je<Ee.length;Je++){var Gt=Ee[Je].split("=");if(Gt.length>1){const tn=Gt[0];Gt=Gt[1];const qi=tn.split("_");ne=qi.length>=2&&qi[1]=="type"?ne+(tn+"="+Gt+"&"):ne+(tn+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+w+`
`+N+`
`+ne})}function Xb(h,w,N,j,$,q,ne){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+w+`
`+N+`
`+q+" "+ne})}function ks(h,w,N,j){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Zb(h,N)+(j?" "+j:"")})}function Qb(h,w){h.info(function(){return"TIMEOUT: "+w})}el.prototype.info=function(){};function Zb(h,w){if(!h.g)return w;if(!w)return null;try{const q=JSON.parse(w);if(q){for(h=0;h<q.length;h++)if(Array.isArray(q[h])){var N=q[h];if(!(N.length<2)){var j=N[1];if(Array.isArray(j)&&!(j.length<1)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(let ne=1;ne<j.length;ne++)j[ne]=""}}}}return Vi(q)}catch{return w}}var Eu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xm={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wm;function Hf(){}f(Hf,qt),Hf.prototype.g=function(){return new XMLHttpRequest},wm=new Hf;function tl(h){return encodeURIComponent(String(h))}function Jb(h){var w=1;h=h.split(":");const N=[];for(;w>0&&h.length;)N.push(h.shift()),w--;return h.length&&N.push(h.join(":")),N}function Fi(h,w,N,j){this.j=h,this.i=w,this.l=N,this.S=j||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Em}function Em(){this.i=null,this.g="",this.h=!1}var Sm={},Su={};function qf(h,w,N){h.M=1,h.A=Rm(Hi(w)),h.u=N,h.R=!0,Tm(h,null)}function Tm(h,w){h.F=Date.now(),Tu(h),h.B=Hi(h.A);var N=h.B,j=h.S;Array.isArray(j)||(j=[String(j)]),OI(N.i,"t",j),h.C=0,N=h.j.L,h.h=new Em,h.g=YI(h.j,N?w:null,!h.u),h.P>0&&(h.O=new ui(u(h.Y,h,h.g),h.P)),w=h.V,N=h.g,j=h.ba;var $="readystatechange";Array.isArray($)||($&&(zi[0]=$.toString()),$=zi);for(let q=0;q<$.length;q++){const ne=G(N,$[q],j||w.handleEvent,!1,w.h||w);if(!ne)break;w.g[ne.key]=ne}w=h.J?Y(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),di(),Wb(h.i,h.v,h.B,h.l,h.S,h.u)}Fi.prototype.ba=function(h){h=h.target;const w=this.O;w&&js(h)==3?w.j():this.Y(h)},Fi.prototype.Y=function(h){try{if(h==this.g)e:{const Ee=js(this.g),Gt=this.g.ya(),Je=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||LI(this.g)))){this.K||Ee!=4||Gt==7||(Gt==8||Je<=0?di(3):di(2)),Gf(this);var w=this.g.ca();this.X=w;var N=ex(this);if(this.o=w==200,Xb(this.i,this.v,this.B,this.l,this.S,Ee,w),this.o){if(this.U&&!this.L){t:{if(this.g){var j,$=this.g;if((j=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(j)){var q=j;break t}}q=null}if(h=q)ks(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kf(this,h);else{this.o=!1,this.m=3,en(12),Ea(this),Rs(this);break e}}if(this.R){h=!0;let tn;for(;!this.K&&this.C<N.length;)if(tn=tx(this,N),tn==Su){Ee==4&&(this.m=4,en(14),h=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Sm){this.m=4,en(15),ks(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else ks(this.i,this.l,tn,null),Kf(this,tn);if(Am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||N.length!=0||this.h.h||(this.m=1,en(16),h=!1),this.o=this.o&&h,!h)ks(this.i,this.l,N,"[Invalid Chunked Response]"),Ea(this),Rs(this);else if(N.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),lx(ne),ne.P=!0,en(11))}}else ks(this.i,this.l,N,null),Kf(this,N);Ee==4&&Ea(this),this.o&&!this.K&&(Ee==4?HI(this.j,this):(this.o=!1,Tu(this)))}else T7(this.g),w==400&&N.indexOf("Unknown SID")>0?(this.m=3,en(12)):(this.m=0,en(13)),Ea(this),Rs(this)}}}catch{}finally{}};function ex(h){if(!Am(h))return h.g.la();const w=LI(h.g);if(w==="")return"";let N="";const j=w.length,$=js(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ea(h),Rs(h),"";h.h.i=new s.TextDecoder}for(let q=0;q<j;q++)h.h.h=!0,N+=h.h.i.decode(w[q],{stream:!($&&q==j-1)});return w.length=0,h.h.g+=N,h.C=0,h.h.g}function Am(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function tx(h,w){var N=h.C,j=w.indexOf(`
`,N);return j==-1?Su:(N=Number(w.substring(N,j)),isNaN(N)?Sm:(j+=1,j+N>w.length?Su:(w=w.slice(j,j+N),h.C=j+N,w)))}Fi.prototype.cancel=function(){this.K=!0,Ea(this)};function Tu(h){h.T=Date.now()+h.H,Cm(h,h.H)}function Cm(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Jo(u(h.aa,h),w)}function Gf(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Fi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Qb(this.i,this.B),this.M!=2&&(di(),en(17)),Ea(this),this.m=2,Rs(this)):Cm(this,this.T-h)};function Rs(h){h.j.I==0||h.K||HI(h.j,h)}function Ea(h){Gf(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Ui(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function Kf(h,w){try{var N=h.j;if(N.I!=0&&(N.g==h||Au(N.h,h))){if(!h.L&&Au(N.h,h)&&N.I==3){try{var j=N.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<h.F)zm(N),jm(N);else break e;ox(N),en(18)}}else N.xa=$[1],0<N.xa-N.K&&$[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Jo(u(N.Va,N),6e3));Om(N.h)<=1&&N.ta&&(N.ta=void 0)}else rl(N,11)}else if((h.L||N.g==h)&&zm(N),!R(w))for($=N.Ba.g.parse(w),w=0;w<$.length;w++){let Je=$[w];const tn=Je[0];if(!(tn<=N.K))if(N.K=tn,Je=Je[1],N.I==2)if(Je[0]=="c"){N.M=Je[1],N.ba=Je[2];const qi=Je[3];qi!=null&&(N.ka=qi,N.j.info("VER="+N.ka));const il=Je[4];il!=null&&(N.za=il,N.j.info("SVER="+N.za));const Ls=Je[5];Ls!=null&&typeof Ls=="number"&&Ls>0&&(j=1.5*Ls,N.O=j,N.j.info("backChannelRequestTimeoutMs_="+j)),j=N;const zs=h.g;if(zs){const Vm=zs.g?zs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vm){var q=j.h;q.g||Vm.indexOf("spdy")==-1&&Vm.indexOf("quic")==-1&&Vm.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Yf(q,q.h),q.h=null))}if(j.G){const ux=zs.g?zs.g.getResponseHeader("X-HTTP-Session-Id"):null;ux&&(j.wa=ux,ct(j.J,j.G,ux))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-h.F,N.j.info("Handshake RTT: "+N.T+"ms")),j=N;var ne=h;if(j.na=KI(j,j.L?j.ba:null,j.W),ne.L){Pm(j.h,ne);var Ee=ne,Gt=j.O;Gt&&(Ee.H=Gt),Ee.D&&(Gf(Ee),Tu(Ee)),j.g=ne}else $I(j);N.i.length>0&&Lm(N)}else Je[0]!="stop"&&Je[0]!="close"||rl(N,7);else N.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?rl(N,7):sx(N):Je[0]!="noop"&&N.l&&N.l.qa(Je),N.A=0)}}di(4)}catch{}}var nx=class{constructor(h,w){this.g=h,this.map=w}};function Nm(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Im(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Om(h){return h.h?1:h.g?h.g.size:0}function Au(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Yf(h,w){h.g?h.g.add(w):h.h=w}function Pm(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Nm.prototype.cancel=function(){if(this.i=km(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function km(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const N of h.g.values())w=w.concat(N.G);return w}return p(h.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h7(h,w){if(h){h=h.split("&");for(let N=0;N<h.length;N++){const j=h[N].indexOf("=");let $,q=null;j>=0?($=h[N].substring(0,j),q=h[N].substring(j+1)):$=h[N],w($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ms(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Ms?(this.l=h.l,Wf(this,h.j),this.o=h.o,this.g=h.g,Xf(this,h.u),this.h=h.h,rx(this,PI(h.i)),this.m=h.m):h&&(w=String(h).match(Cu))?(this.l=!1,Wf(this,w[1]||"",!0),this.o=Qf(w[2]||""),this.g=Qf(w[3]||"",!0),Xf(this,w[4]),this.h=Qf(w[5]||"",!0),rx(this,w[6]||"",!0),this.m=Qf(w[7]||"")):(this.l=!1,this.i=new Jf(null,this.l))}Ms.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(Zf(w,AI,!0),":");var N=this.g;return(N||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Zf(w,AI,!0),"@"),h.push(tl(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&h.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(Zf(N,N.charAt(0)=="/"?g7:m7,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",Zf(N,v7)),h.join("")},Ms.prototype.resolve=function(h){const w=Hi(this);let N=!!h.j;N?Wf(w,h.j):N=!!h.o,N?w.o=h.o:N=!!h.g,N?w.g=h.g:N=h.u!=null;var j=h.h;if(N)Xf(w,h.u);else if(N=!!h.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var $=w.h.lastIndexOf("/");$!=-1&&(j=w.h.slice(0,$+1)+j)}if($=j,$==".."||$==".")j="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){j=$.lastIndexOf("/",0)==0,$=$.split("/");const q=[];for(let ne=0;ne<$.length;){const Ee=$[ne++];Ee=="."?j&&ne==$.length&&q.push(""):Ee==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),j&&ne==$.length&&q.push("")):(q.push(Ee),j=!0)}j=q.join("/")}else j=$}return N?w.h=j:N=h.i.toString()!=="",N?rx(w,PI(h.i)):N=!!h.m,N&&(w.m=h.m),w};function Hi(h){return new Ms(h)}function Wf(h,w,N){h.j=N?Qf(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Xf(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function rx(h,w,N){w instanceof Jf?(h.i=w,_7(h.i,h.l)):(N||(w=Zf(w,y7)),h.i=new Jf(w,h.l))}function ct(h,w,N){h.i.set(w,N)}function Rm(h){return ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Qf(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Zf(h,w,N){return typeof h=="string"?(h=encodeURI(h).replace(w,p7),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function p7(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var AI=/[#\/\?@]/g,m7=/[#\?:]/g,g7=/[#\?]/g,y7=/[#\?@]/g,v7=/#/g;function Jf(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function nl(h){h.g||(h.g=new Map,h.h=0,h.i&&h7(h.i,function(w,N){h.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}e=Jf.prototype,e.add=function(h,w){nl(this),this.i=null,h=Nu(this,h);let N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(w),this.h+=1,this};function CI(h,w){nl(h),w=Nu(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function NI(h,w){return nl(h),w=Nu(h,w),h.g.has(w)}e.forEach=function(h,w){nl(this),this.g.forEach(function(N,j){N.forEach(function($){h.call(w,$,j,this)},this)},this)};function II(h,w){nl(h);let N=[];if(typeof w=="string")NI(h,w)&&(N=N.concat(h.g.get(Nu(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)N=N.concat(h[w]);return N}e.set=function(h,w){return nl(this),this.i=null,h=Nu(this,h),NI(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},e.get=function(h,w){return h?(h=II(this,h),h.length>0?String(h[0]):w):w};function OI(h,w,N){CI(h,w),N.length>0&&(h.i=null,h.g.set(Nu(h,w),p(N)),h.h+=N.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var N=w[j];const $=tl(N);N=II(this,N);for(let q=0;q<N.length;q++){let ne=$;N[q]!==""&&(ne+="="+tl(N[q])),h.push(ne)}}return this.i=h.join("&")};function PI(h){const w=new Jf;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function Nu(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function _7(h,w){w&&!h.j&&(nl(h),h.i=null,h.g.forEach(function(N,j){const $=j.toLowerCase();j!=$&&(CI(this,j),OI(this,$,N))},h)),h.j=w}function b7(h,w){const N=new el;if(s.Image){const j=new Image;j.onload=c(Ds,N,"TestLoadImage: loaded",!0,w,j),j.onerror=c(Ds,N,"TestLoadImage: error",!1,w,j),j.onabort=c(Ds,N,"TestLoadImage: abort",!1,w,j),j.ontimeout=c(Ds,N,"TestLoadImage: timeout",!1,w,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else w(!1)}function x7(h,w){const N=new el,j=new AbortController,$=setTimeout(()=>{j.abort(),Ds(N,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:j.signal}).then(q=>{clearTimeout($),q.ok?Ds(N,"TestPingServer: ok",!0,w):Ds(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),Ds(N,"TestPingServer: error",!1,w)})}function Ds(h,w,N,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(N)}catch{}}function w7(){this.g=new Zo}function ix(h){this.i=h.Sb||null,this.h=h.ab||!1}f(ix,qt),ix.prototype.g=function(){return new Mm(this.i,this.h)};function Mm(h,w){qe.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Mm,qe),e=Mm.prototype,e.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,td(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||s).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ed(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kI(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function kI(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?ed(this):td(this),this.readyState==3&&kI(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,ed(this))},e.Na=function(h){this.g&&(this.response=h,ed(this))},e.ga=function(){this.g&&ed(this)};function ed(h){h.readyState=4,h.l=null,h.j=null,h.B=null,td(h)}e.setRequestHeader=function(h,w){this.A.append(h,w)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=w.next();return h.join(`\r
`)};function td(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function RI(h){let w="";return U(h,function(N,j){w+=j,w+=":",w+=N,w+=`\r
`}),w}function ax(h,w,N){e:{for(j in N){var j=!1;break e}j=!0}j||(N=RI(N),typeof h=="string"?N!=null&&tl(N):ct(h,w,N))}function At(h){qe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(At,qe);var E7=/^https?$/i,S7=["POST","PUT"];e=At.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,w,N,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wm.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(q){MI(this,q);return}if(h=N||"",N=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)N.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const q of j.keys())N.set(q,j.get(q));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(N.keys()).find(q=>q.toLowerCase()=="content-type"),$=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(S7,w,void 0)>=0)||j||$||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of N)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(q){MI(this,q)}};function MI(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,DI(h),Dm(h)}function DI(h){h.A||(h.A=!0,St(h,"complete"),St(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,St(this,"complete"),St(this,"abort"),Dm(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dm(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?jI(this):this.Xa())},e.Xa=function(){jI(this)};function jI(h){if(h.h&&typeof a<"u"){if(h.v&&js(h)==4)setTimeout(h.Ca.bind(h),0);else if(St(h,"readystatechange"),js(h)==4){h.h=!1;try{const q=h.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var j;if(j=q===0){let ne=String(h.D).match(Cu)[1]||null;!ne&&s.self&&s.self.location&&(ne=s.self.location.protocol.slice(0,-1)),j=!E7.test(ne?ne.toLowerCase():"")}N=j}if(N)St(h,"complete"),St(h,"success");else{h.o=6;try{var $=js(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",DI(h)}}finally{Dm(h)}}}}function Dm(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const N=h.g;h.g=null,w||St(h,"ready");try{N.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function js(h){return h.g?h.g.readyState:0}e.ca=function(){try{return js(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Ps(w)}};function LI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function T7(h){const w={};h=(h.g&&js(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(R(h[j]))continue;var N=Jb(h[j]);const $=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const q=w[$]||[];w[$]=q,q.push(N)}F(w,function(j){return j.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nd(h,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||w}function zI(h){this.za=0,this.i=[],this.j=new el,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nd("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nd("baseRetryDelayMs",5e3,h),this.Za=nd("retryDelaySeedMs",1e4,h),this.Ta=nd("forwardChannelMaxRetries",2,h),this.va=nd("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Nm(h&&h.concurrentRequestLimit),this.Ba=new w7,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=zI.prototype,e.ka=8,e.I=1,e.connect=function(h,w,N,j){en(0),this.W=h,this.H=w||{},N&&j!==void 0&&(this.H.OSID=N,this.H.OAID=j),this.F=this.X,this.J=KI(this,null,this.W),Lm(this)};function sx(h){if(UI(h),h.I==3){var w=h.V++,N=Hi(h.J);if(ct(N,"SID",h.M),ct(N,"RID",w),ct(N,"TYPE","terminate"),rd(h,N),w=new Fi(h,h.j,w),w.M=2,w.A=Rm(Hi(N)),N=!1,s.navigator&&s.navigator.sendBeacon)try{N=s.navigator.sendBeacon(w.A.toString(),"")}catch{}!N&&s.Image&&(new Image().src=w.A,N=!0),N||(w.g=YI(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Tu(w)}GI(h)}function jm(h){h.g&&(lx(h),h.g.cancel(),h.g=null)}function UI(h){jm(h),h.v&&(s.clearTimeout(h.v),h.v=null),zm(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Lm(h){if(!Im(h.h)&&!h.m){h.m=!0;var w=h.Ea;P||A(),M||(P(),M=!0),T.add(w,h),h.D=0}}function A7(h,w){return Om(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Jo(u(h.Ea,h,w),qI(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new Fi(this,this.j,h);let q=this.o;if(this.U&&(q?(q=Y(q),re(q,this.U)):q=this.U),this.u!==null||this.R||($.J=q,q=null),this.S)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var j=this.i[N];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=BI(this,$,w),N=Hi(this.J),ct(N,"RID",h),ct(N,"CVER",22),this.G&&ct(N,"X-HTTP-Session-Id",this.G),rd(this,N),q&&(this.R?w="headers="+tl(RI(q))+"&"+w:this.u&&ax(N,this.u,q)),Yf(this.h,$),this.Ra&&ct(N,"TYPE","init"),this.S?(ct(N,"$req",w),ct(N,"SID","null"),$.U=!0,qf($,N,null)):qf($,N,w),this.I=2}}else this.I==3&&(h?VI(this,h):this.i.length==0||Im(this.h)||VI(this))};function VI(h,w){var N;w?N=w.l:N=h.V++;const j=Hi(h.J);ct(j,"SID",h.M),ct(j,"RID",N),ct(j,"AID",h.K),rd(h,j),h.u&&h.o&&ax(j,h.u,h.o),N=new Fi(h,h.j,N,h.D+1),h.u===null&&(N.J=h.o),w&&(h.i=w.G.concat(h.i)),w=BI(h,N,1e3),N.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yf(h.h,N),qf(N,j,w)}function rd(h,w){h.H&&U(h.H,function(N,j){ct(w,j,N)}),h.l&&U({},function(N,j){ct(w,j,N)})}function BI(h,w,N){N=Math.min(h.i.length,N);const j=h.l?u(h.l.Ka,h.l,h):null;e:{var $=h.i;let Ee=-1;for(;;){const Gt=["count="+N];Ee==-1?N>0?(Ee=$[0].g,Gt.push("ofs="+Ee)):Ee=0:Gt.push("ofs="+Ee);let Je=!0;for(let tn=0;tn<N;tn++){var q=$[tn].g;const qi=$[tn].map;if(q-=Ee,q<0)Ee=Math.max(0,$[tn].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var ne=qi instanceof Map?qi:Object.entries(qi);for(const[il,Ls]of ne){let zs=Ls;o(Ls)&&(zs=Vi(Ls)),Gt.push(q+il+"="+encodeURIComponent(zs))}}catch(il){throw Gt.push(q+"type="+encodeURIComponent("_badmap")),il}}catch{j&&j(qi)}}if(Je){ne=Gt.join("&");break e}}ne=void 0}return h=h.i.splice(0,N),w.G=h,ne}function $I(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;P||A(),M||(P(),M=!0),T.add(w,h),h.A=0}}function ox(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Jo(u(h.Da,h),qI(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,FI(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Jo(u(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,en(10),jm(this),FI(this))};function lx(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function FI(h){h.g=new Fi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Hi(h.na);ct(w,"RID","rpc"),ct(w,"SID",h.M),ct(w,"AID",h.K),ct(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&ct(w,"TO",h.ia),ct(w,"TYPE","xmlhttp"),rd(h,w),h.u&&h.o&&ax(w,h.u,h.o),h.O&&(h.g.H=h.O);var N=h.g;h=h.ba,N.M=1,N.A=Rm(Hi(w)),N.u=null,N.R=!0,Tm(N,h)}e.Va=function(){this.C!=null&&(this.C=null,jm(this),ox(this),en(19))};function zm(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function HI(h,w){var N=null;if(h.g==w){zm(h),lx(h),h.g=null;var j=2}else if(Au(h.h,w))N=w.G,Pm(h.h,w),j=1;else return;if(h.I!=0){if(w.o)if(j==1){N=w.u?w.u.length:0,w=Date.now()-w.F;var $=h.D;j=Bi(),St(j,new $i(j,N)),Lm(h)}else $I(h);else if($=w.m,$==3||$==0&&w.X>0||!(j==1&&A7(h,w)||j==2&&ox(h)))switch(N&&N.length>0&&(w=h.h,w.i=w.i.concat(N)),$){case 1:rl(h,5);break;case 4:rl(h,10);break;case 3:rl(h,6);break;default:rl(h,2)}}}function qI(h,w){let N=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(N*=2),N*w}function rl(h,w){if(h.j.info("Error code "+w),w==2){var N=u(h.bb,h),j=h.Ua;const $=!j;j=new Ms(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Wf(j,"https"),Rm(j),$?b7(j.toString(),N):x7(j.toString(),N)}else en(2);h.I=0,h.l&&h.l.pa(w),GI(h),UI(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function GI(h){if(h.I=0,h.ja=[],h.l){const w=km(h.h);(w.length!=0||h.i.length!=0)&&(m(h.ja,w),m(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function KI(h,w,N){var j=N instanceof Ms?Hi(N):new Ms(N);if(j.g!="")w&&(j.g=w+"."+j.g),Xf(j,j.u);else{var $=s.location;j=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;const q=new Ms(null);j&&Wf(q,j),w&&(q.g=w),$&&Xf(q,$),N&&(q.h=N),j=q}return N=h.G,w=h.wa,N&&w&&ct(j,N,w),ct(j,"VER",h.ka),rd(h,j),j}function YI(h,w,N){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new At(new ix({ab:N})):new At(h.ma),w.Fa(h.L),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function WI(){}e=WI.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Um(){}Um.prototype.g=function(h,w){return new br(h,w)};function br(h,w){qe.call(this),this.g=new zI(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!R(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Iu(this)}f(br,qe),br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){sx(this.g)},br.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.v&&(N={},N.__data__=Vi(h),h=N);w.i.push(new nx(w.Ya++,h)),w.I==3&&Lm(w)},br.prototype.N=function(){this.g.l=null,delete this.j,sx(this.g),delete this.g,br.Z.N.call(this)};function XI(h){ci.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const N in w){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(XI,ci);function QI(){fi.call(this),this.status=1}f(QI,fi);function Iu(h){this.g=h}f(Iu,WI),Iu.prototype.ra=function(){St(this.g,"a")},Iu.prototype.qa=function(h){St(this.g,new XI(h))},Iu.prototype.pa=function(h){St(this.g,new QI)},Iu.prototype.oa=function(){St(this.g,"b")},Um.prototype.createWebChannel=Um.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,Qz=function(){return new Um},Xz=function(){return Bi()},Wz=_n,dE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Eu.NO_ERROR=0,Eu.TIMEOUT=8,Eu.HTTP_ERROR=6,oy=Eu,xm.COMPLETE="complete",Yz=xm,tr.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Vd=tr,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,Kz=At}).apply(typeof lg<"u"?lg:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ln=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf="12.8.0";function cne(e){kf=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new f_("@firebase/firestore");function qu(){return Gl.logLevel}function oe(e,...t){if(Gl.logLevel<=Pe.DEBUG){const n=t.map(HA);Gl.debug(`Firestore (${kf}): ${e}`,...n)}}function Kl(e,...t){if(Gl.logLevel<=Pe.ERROR){const n=t.map(HA);Gl.error(`Firestore (${kf}): ${e}`,...n)}}function C_(e,...t){if(Gl.logLevel<=Pe.WARN){const n=t.map(HA);Gl.warn(`Firestore (${kf}): ${e}`,...n)}}function HA(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Zz(e,r,n)}function Zz(e,t,n){let r=`FIRESTORE (${kf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kl(r),new Error(r)}function Rt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||Zz(t,i,r)}function lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _s{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class dne{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hne{constructor(t){this.t=t,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Rt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pl,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pl)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new Jz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Rt(t===null||typeof t=="string",2055,{h:t}),new Ln(t)}}class pne{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mne{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new pne(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gne{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Rt(this.o===void 0,3512);const r=a=>{a.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const i=a=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HP(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yne(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yne(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=t.charAt(i[a]%62))}return r}}function Ge(e,t){return e<t?-1:e>t?1:0}function hE(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),a=t.charAt(r);if(i!==a)return cw(i)===cw(a)?Ge(i,a):cw(i)?1:-1}return Ge(e.length,t.length)}const vne=55296,_ne=57343;function cw(e){const t=e.charCodeAt(0);return t>=vne&&t<=_ne}function Kc(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="__name__";class Xi{constructor(t,n,r){n===void 0?n=0:n>t.length&&Te(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Te(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const a=Xi.compareSegments(t.get(i),n.get(i));if(a!==0)return a}return Ge(t.length,n.length)}static compareSegments(t,n){const r=Xi.isNumericId(t),i=Xi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xi.extractNumericId(t).compare(Xi.extractNumericId(n)):hE(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return FA.fromString(t.substring(4,t.length-2))}}class Dt extends Xi{construct(t,n,r){return new Dt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const bne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Xi{construct(t,n,r){return new Nn(t,n,r)}static isValidIdentifier(t){return bne.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qP}static keyField(){return new Nn([qP])}static fromServerFormat(t){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.path=t}static fromPath(t){return new Se(Dt.fromString(t))}static fromName(t){return new Se(Dt.fromString(t).popFirst(5))}static empty(){return new Se(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Se(new Dt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xne(e,t,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function wne(e,t,n,r){if(t===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function GP(e){if(!Se.isDocumentKey(e))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function eU(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function GA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Te(12329,{type:typeof e})}function tU(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=GA(e);throw new fe(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t){const n={typeString:e};return t&&(n.value=t),n}function Kp(e,t){if(!eU(e))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const s=e[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=-62135596800,YP=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(t){return bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*YP);return new bt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<KP)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YP}_compareTo(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kp(t,bt._jsonSchema))return new bt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-KP;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Ft("string",bt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new bt(0,0))}static max(){return new vt(new bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=-1;function Ene(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Uo(i,Se.empty(),t)}function Sne(e){return new Uo(e.readTime,e.key,Wh)}class Uo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(vt.min(),Se.empty(),Wh)}static max(){return new Uo(vt.max(),Se.empty(),Wh)}}function Tne(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Se.comparator(e.documentKey,t.documentKey),n!==0?n:Ge(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(e){if(e.code!==J.FAILED_PRECONDITION||e.message!==Ane)throw e;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,r)=>{n(t)})}static reject(t){return new Q((n,r)=>{r(t)})}static waitFor(t){return new Q((n,r)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(t){let n=Q.resolve(!1);for(const r of t)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(t,n){return new Q((r,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++o,o===a&&r(s)},c=>i(c))}})}static doWhile(t,n){return new Q((r,i)=>{const a=()=>{t()===!0?n().next(()=>{a()},i):r()};a()})}}function Nne(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}YA.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=-1;function XA(e){return e==null}function Sv(e){return e===0&&1/e==-1/0}function Ine(e){return typeof e=="number"&&Number.isInteger(e)&&!Sv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU="";function One(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=WP(t)),t=Pne(e.get(n),t);return WP(t)}function Pne(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const a=e.charAt(i);switch(a){case"\0":n+="";break;case nU:n+="";break;default:n+=a}}return n}function WP(e){return e+nU+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,n){this.comparator=t,this.root=n||En.EMPTY}insert(t,n){return new pr(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(t){return new pr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,En.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ug(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ug(this.root,t,this.comparator,!1)}getReverseIterator(){return new ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ug(this.root,t,this.comparator,!0)}}class ug{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class En{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=a??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new En(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Te(27949);return t+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(t,n,r,i,a){return this}insert(t,n,r){return new En(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.comparator=t,this.data=new pr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new QP(this.data.getIterator())}getIteratorFrom(t){return new QP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof kn)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new kn(this.comparator);return n.data=t,n}}class QP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this.fields=t,t.sort(Nn.comparator)}static empty(){return new Nr([])}unionWith(t){let n=new kn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Nr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Kc(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kne("Invalid base64 string: "+a):a}}(t);return new fa(n)}static fromUint8Array(t){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new fa(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fa.EMPTY_BYTE_STRING=new fa("");const Rne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(e){if(Rt(!!e,39018),typeof e=="string"){let t=0;const n=Rne.exec(e);if(Rt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Sn(e.seconds),nanos:Sn(e.nanos)}}function Sn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Yc(e){return typeof e=="string"?fa.fromBase64String(e):fa.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="server_timestamp",aU="__type__",sU="__previous_value__",oU="__local_write_time__";function QA(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[aU])==null?void 0:r.stringValue)===iU}function ZA(e){const t=e.mapValue.fields[sU];return QA(t)?ZA(t):t}function Tv(e){const t=Yl(e.mapValue.fields[oU].timestampValue);return new bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(t,n,r,i,a,s,o,l,u,c,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const Av="(default)";class Cv{constructor(t,n){this.projectId=t,this.database=n||Av}static empty(){return new Cv("","")}get isDefaultDatabase(){return this.database===Av}isEqual(t){return t instanceof Cv&&t.projectId===this.projectId&&t.database===this.database}}function Dne(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cv(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="__type__",jne="__max__",cg={mapValue:{}},uU="__vector__",pE="value";function Wl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?QA(e)?4:zne(e)?9007199254740991:Lne(e)?10:11:Te(28295,{value:e})}function da(e,t){if(e===t)return!0;const n=Wl(e);if(n!==Wl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tv(e).isEqual(Tv(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Yl(i.timestampValue),o=Yl(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Yc(i.bytesValue).isEqual(Yc(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return Sn(i.geoPointValue.latitude)===Sn(a.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Sn(i.integerValue)===Sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Sn(i.doubleValue),o=Sn(a.doubleValue);return s===o?Sv(s)===Sv(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Kc(e.arrayValue.values||[],t.arrayValue.values||[],da);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(XP(s)!==XP(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!da(s[l],o[l])))return!1;return!0}(e,t);default:return Te(52216,{left:e})}}function Xh(e,t){return(e.values||[]).find(n=>da(n,t))!==void 0}function Wc(e,t){if(e===t)return 0;const n=Wl(e),r=Wl(t);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=Sn(a.integerValue||a.doubleValue),l=Sn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return ZP(e.timestampValue,t.timestampValue);case 4:return ZP(Tv(e),Tv(t));case 5:return hE(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Yc(a),l=Yc(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=Ge(o[u],l[u]);if(c!==0)return c}return Ge(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=Ge(Sn(a.latitude),Sn(s.latitude));return o!==0?o:Ge(Sn(a.longitude),Sn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return JP(e.arrayValue,t.arrayValue);case 10:return function(a,s){var d,p,m,g;const o=a.fields||{},l=s.fields||{},u=(d=o[pE])==null?void 0:d.arrayValue,c=(p=l[pE])==null?void 0:p.arrayValue,f=Ge(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:JP(u,c)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===cg.mapValue&&s===cg.mapValue)return 0;if(a===cg.mapValue)return 1;if(s===cg.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=hE(l[f],c[f]);if(d!==0)return d;const p=Wc(o[l[f]],u[c[f]]);if(p!==0)return p}return Ge(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Te(23264,{he:n})}}function ZP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ge(e,t);const n=Yl(e),r=Yl(t),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function JP(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Wc(n[i],r[i]);if(a)return a}return Ge(n.length,r.length)}function Xc(e){return mE(e)}function mE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Yl(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Yc(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Se.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=mE(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${mE(n.fields[s])}`;return i+"}"}(e.mapValue):Te(61005,{value:e})}function ly(e){switch(Wl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ZA(e);return t?16+ly(t):16;case 5:return 2*e.stringValue.length;case 6:return Yc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ly(a),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return mu(r.fields,(a,s)=>{i+=a.length+ly(s)}),i}(e.mapValue);default:throw Te(13486,{value:e})}}function gE(e){return!!e&&"integerValue"in e}function JA(e){return!!e&&"arrayValue"in e}function uy(e){return!!e&&"mapValue"in e}function Lne(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[lU])==null?void 0:r.stringValue)===uU}function ph(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return mu(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ph(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ph(e.arrayValue.values[n]);return t}return{...e}}function zne(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===jne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this.value=t}static empty(){return new Tr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!uy(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ph(n)}setAll(t){let n=Nn.emptyPath(),r={},i=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=ph(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(t){const n=this.field(t.popLast());uy(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return da(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];uy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){mu(n,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new Tr(ph(this.value))}}function cU(e){const t=[];return mu(e.fields,(n,r)=>{const i=new Nn([n]);if(uy(r)){const a=cU(r.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Nr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n,r,i,a,s,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new mi(t,0,vt.min(),vt.min(),vt.min(),Tr.empty(),0)}static newFoundDocument(t,n,r,i){return new mi(t,1,n,vt.min(),r,i,0)}static newNoDocument(t,n){return new mi(t,2,n,vt.min(),vt.min(),Tr.empty(),0)}static newUnknownDocument(t,n){return new mi(t,3,n,vt.min(),vt.min(),Tr.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,n){this.position=t,this.inclusive=n}}function ek(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(s.referenceValue),n.key):r=Wc(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function tk(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!da(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,n="asc"){this.field=t,this.dir=n}}function Une(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{}class fn extends fU{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Bne(t,n,r):n==="array-contains"?new Hne(t,r):n==="in"?new qne(t,r):n==="not-in"?new Gne(t,r):n==="array-contains-any"?new Kne(t,r):new fn(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new $ne(t,r):new Fne(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wc(n,this.value)):n!==null&&Wl(this.value)===Wl(n)&&this.matchesComparison(Wc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vo extends fU{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Vo(t,n)}matches(t){return dU(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dU(e){return e.op==="and"}function hU(e){return Vne(e)&&dU(e)}function Vne(e){for(const t of e.filters)if(t instanceof Vo)return!1;return!0}function yE(e){if(e instanceof fn)return e.field.canonicalString()+e.op.toString()+Xc(e.value);if(hU(e))return e.filters.map(t=>yE(t)).join(",");{const t=e.filters.map(n=>yE(n)).join(",");return`${e.op}(${t})`}}function pU(e,t){return e instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&da(r.value,i.value)}(e,t):e instanceof Vo?function(r,i){return i instanceof Vo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&pU(s,i.filters[o]),!0):!1}(e,t):void Te(19439)}function mU(e){return e instanceof fn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xc(n.value)}`}(e):e instanceof Vo?function(n){return n.op.toString()+" {"+n.getFilters().map(mU).join(" ,")+"}"}(e):"Filter"}class Bne extends fn{constructor(t,n,r){super(t,n,r),this.key=Se.fromName(r.referenceValue)}matches(t){const n=Se.comparator(t.key,this.key);return this.matchesComparison(n)}}class $ne extends fn{constructor(t,n){super(t,"in",n),this.keys=gU("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Fne extends fn{constructor(t,n){super(t,"not-in",n),this.keys=gU("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function gU(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class Hne extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return JA(n)&&Xh(n.arrayValue,this.value)}}class qne extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xh(this.value.arrayValue,n)}}class Gne extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xh(this.value.arrayValue,n)}}class Kne extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!JA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(t,n=null,r=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function nk(e,t=null,n=[],r=[],i=null,a=null,s=null){return new Yne(e,t,n,r,i,a,s)}function eC(e){const t=lt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>yE(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),XA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Xc(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Xc(r)).join(",")),t.Te=n}return t.Te}function tC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Une(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pU(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tk(e.startAt,t.startAt)&&tk(e.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(t,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Wne(e,t,n,r,i,a,s,o){return new N_(e,t,n,r,i,a,s,o)}function Xne(e){return new N_(e)}function rk(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Qne(e){return Se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Zne(e){return e.collectionGroup!==null}function mh(e){const t=lt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new kn(Nn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Iv(a,r))}),n.has(Nn.keyField().canonicalString())||t.Ie.push(new Iv(Nn.keyField(),r))}return t.Ie}function kl(e){const t=lt(e);return t.Ee||(t.Ee=Jne(t,mh(e))),t.Ee}function Jne(e,t){if(e.limitType==="F")return nk(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Iv(i.field,a)});const n=e.endAt?new Nv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Nv(e.startAt.position,e.startAt.inclusive):null;return nk(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function vE(e,t,n){return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yU(e,t){return tC(kl(e),kl(t))&&e.limitType===t.limitType}function vU(e){return`${eC(kl(e))}|lt:${e.limitType}`}function gd(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mU(i)).join(", ")}]`),XA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xc(i)).join(",")),`Target(${r})`}(kl(e))}; limitType=${e.limitType})`}function nC(e,t){return t.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,i){for(const a of mh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,o,l){const u=ek(s,o,l);return s.inclusive?u<=0:u<0}(r.startAt,mh(r),i)||r.endAt&&!function(s,o,l){const u=ek(s,o,l);return s.inclusive?u>=0:u>0}(r.endAt,mh(r),i))}(e,t)}function ere(e){return(t,n)=>{let r=!1;for(const i of mh(e)){const a=tre(i,t,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function tre(e,t,n){const r=e.field.isKeyField()?Se.comparator(t.key,n.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?Wc(l,u):Te(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){mu(this.inner,(n,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return rU(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre=new pr(Se.comparator);function Ov(){return nre}const _U=new pr(Se.comparator);function fg(...e){let t=_U;for(const n of e)t=t.insert(n.key,n);return t}function bU(e){let t=_U;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function bl(){return gh()}function xU(){return gh()}function gh(){return new gu(e=>e.toString(),(e,t)=>e.isEqual(t))}const rre=new pr(Se.comparator),ire=new kn(Se.comparator);function Un(...e){let t=ire;for(const n of e)t=t.add(n);return t}const are=new kn(Ge);function sre(){return are}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sv(t)?"-0":t}}function wU(e){return{integerValue:""+e}}function ore(e,t){return Ine(t)?wU(t):rC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this._=void 0}}function lre(e,t,n){return e instanceof Pv?function(i,a){const s={fields:{[aU]:{stringValue:iU},[oU]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&QA(a)&&(a=ZA(a)),a&&(s.fields[sU]=a),{mapValue:s}}(n,t):e instanceof Qh?SU(e,t):e instanceof Zh?TU(e,t):function(i,a){const s=EU(i,a),o=ik(s)+ik(i.Ae);return gE(s)&&gE(i.Ae)?wU(o):rC(i.serializer,o)}(e,t)}function ure(e,t,n){return e instanceof Qh?SU(e,t):e instanceof Zh?TU(e,t):n}function EU(e,t){return e instanceof kv?function(r){return gE(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class Pv extends I_{}class Qh extends I_{constructor(t){super(),this.elements=t}}function SU(e,t){const n=AU(t);for(const r of e.elements)n.some(i=>da(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zh extends I_{constructor(t){super(),this.elements=t}}function TU(e,t){let n=AU(t);for(const r of e.elements)n=n.filter(i=>!da(i,r));return{arrayValue:{values:n}}}class kv extends I_{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function ik(e){return Sn(e.integerValue||e.doubleValue)}function AU(e){return JA(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function cre(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Qh&&i instanceof Qh||r instanceof Zh&&i instanceof Zh?Kc(r.elements,i.elements,da):r instanceof kv&&i instanceof kv?da(r.Ae,i.Ae):r instanceof Pv&&i instanceof Pv}(e.transform,t.transform)}class fre{constructor(t,n){this.version=t,this.transformResults=n}}class Ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cy(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class O_{}function CU(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iC(e.key,Ci.none()):new Wp(e.key,e.data,Ci.none());{const n=e.data,r=Tr.empty();let i=new kn(Nn.comparator);for(let a of t.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Yo(e.key,r,new Nr(i.toArray()),Ci.none())}}function dre(e,t,n){e instanceof Wp?function(i,a,s){const o=i.value.clone(),l=sk(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Yo?function(i,a,s){if(!cy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=sk(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(NU(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function yh(e,t,n,r){return e instanceof Wp?function(a,s,o,l){if(!cy(a.precondition,s))return o;const u=a.value.clone(),c=ok(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yo?function(a,s,o,l){if(!cy(a.precondition,s))return o;const u=ok(a.fieldTransforms,l,s),c=s.data;return c.setAll(NU(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(a,s,o){return cy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function hre(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),a=EU(r.transform,i||null);a!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,a))}return n||null}function ak(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kc(r,i,(a,s)=>cre(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Wp extends O_{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yo extends O_{constructor(t,n,r,i,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function NU(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function sk(e,t,n){const r=new Map;Rt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,ure(s,o,n[i]))}return r}function ok(e,t,n){const r=new Map;for(const i of e){const a=i.transform,s=n.data.field(i.field);r.set(i.field,lre(a,s,t))}return r}class iC extends O_{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pre extends O_{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&dre(a,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=yh(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=yh(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=xU();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=CU(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Un())}isEqual(t){return this.batchId===t.batchId&&Kc(this.mutations,t.mutations,(n,r)=>ak(n,r))&&Kc(this.baseMutations,t.baseMutations,(n,r)=>ak(n,r))}}class aC{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Rt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return rre}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new aC(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Ue;function yre(e){switch(e){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:e})}}function vre(e){if(e===void 0)return Kl("GRPC error has no .code"),J.UNKNOWN;switch(e){case zt.OK:return J.OK;case zt.CANCELLED:return J.CANCELLED;case zt.UNKNOWN:return J.UNKNOWN;case zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case zt.INTERNAL:return J.INTERNAL;case zt.UNAVAILABLE:return J.UNAVAILABLE;case zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case zt.NOT_FOUND:return J.NOT_FOUND;case zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case zt.ABORTED:return J.ABORTED;case zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case zt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:e})}}(Ue=zt||(zt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new FA([4294967295,4294967295],0);class _re{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function _E(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bre(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xre(e,t){return _E(e,t.toTimestamp())}function Ec(e){return Rt(!!e,49232),vt.fromTimestamp(function(n){const r=Yl(n);return new bt(r.seconds,r.nanos)}(e))}function IU(e,t){return bE(e,t).canonicalString()}function bE(e,t){const n=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function wre(e){const t=Dt.fromString(e);return Rt(Ore(t),10190,{key:t.toString()}),t}function xE(e,t){return IU(e.databaseId,t.path)}function Ere(e){const t=wre(e);return t.length===4?Dt.emptyPath():Tre(t)}function Sre(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tre(e){return Rt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lk(e,t,n){return{name:xE(e,t),fields:n.value.mapValue.fields}}function Are(e,t){let n;if(t instanceof Wp)n={update:lk(e,t.key,t.value)};else if(t instanceof iC)n={delete:xE(e,t.key)};else if(t instanceof Yo)n={update:lk(e,t.key,t.data),updateMask:Ire(t.fieldMask)};else{if(!(t instanceof pre))return Te(16599,{dt:t.type});n={verify:xE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Pv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof kv)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Te(20930,{transform:s.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:xre(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(e,t.precondition)),n}function Cre(e,t){return e&&e.length>0?(Rt(t!==void 0,14353),e.map(n=>function(i,a){let s=i.updateTime?Ec(i.updateTime):Ec(a);return s.isEqual(vt.min())&&(s=Ec(a)),new fre(s,i.transformResults||[])}(n,t))):[]}function Nre(e){let t=Ere(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];n.where&&(a=function(f){const d=OU(f);return d instanceof Vo&&hU(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(m){return new Iv(Gu(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,XA(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Nv(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new Nv(p,d)}(n.endAt)),Wne(t,i,s,a,o,"F",l,u)}function OU(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gu(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gu(n.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gu(n.unaryFilter.field);return fn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gu(n.unaryFilter.field);return fn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(e):e.fieldFilter!==void 0?function(n){return fn.create(Gu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Vo.create(n.compositeFilter.filters.map(r=>OU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(e):Te(30097,{filter:e})}function Gu(e){return Nn.fromServerFormat(e.fieldPath)}function Ire(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ore(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function PU(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(t){this.yt=t}}function kre(e){const t=Nre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?vE(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(){this.Sn=new Mre}addToCollectionParentIndex(t,n){return this.Sn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Uo.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Uo.min())}updateCollectionGroup(t,n,r){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class Mre{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new kn(Dt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new kn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kU=41943040;class sr{static withCacheSize(t){return new sr(t,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(kU,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Qc(0)}static ar(){return new Qc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="LruGarbageCollector",Dre=1048576;function fk([e,t],[n,r]){const i=Ge(e,n);return i===0?Ge(t,r):i}class jre{constructor(t){this.Pr=t,this.buffer=new kn(fk),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Lre{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){oe(ck,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yp(n)?oe(ck,"Ignoring IndexedDB error during garbage collection: ",n):await KA(n)}await this.Ar(3e5)})}}class zre{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(YA.ce);const r=new jre(n);return this.Vr.forEachTarget(t,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(t,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(uk)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uk):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,i,a,s,o,l,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(t,r,n))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(f=>(u=Date.now(),qu()<=Pe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function Ure(e,t){return new zre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(){this.changes=new gu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,mi.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&yh(r.mutation,i,Nr.empty(),bt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Un()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Un()){const i=bl();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(a=>{let s=fg();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=bl();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Un()))}populateOverlays(t,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,r,i){let a=Ov();const s=gh(),o=function(){return gh()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yo)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yh(c.mutation,u,c.mutation.getFieldMask(),bt.now())):s.set(u.key,Nr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>o.set(u,new Bre(c,s.get(u)??null))),o))}recalculateAndSaveOverlays(t,n){const r=gh();let i=new pr((s,o)=>s-o),a=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Nr.empty();c=o.applyToLocalView(u,c),r.set(l,c);const f=(i.get(o.batchId)||Un()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=xU();c.forEach(d=>{if(!a.has(d)){const p=CU(n.get(d),r.get(d));p!==null&&f.set(d,p),a=a.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return Qne(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Zne(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-a.size):Q.resolve(bl());let o=Wh,l=a;return s.next(u=>Q.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,Un())).next(c=>({batchId:o,changes:bU(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Se(n)).next(r=>{let i=fg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const a=n.collectionGroup;let s=fg();return this.indexManager.getCollectionParents(t,a).next(o=>Q.forEach(o,l=>{const u=function(f,d){return new N_(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,mi.newInvalidDocument(c)))});let o=fg();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&yh(c.mutation,u,Nr.empty(),bt.now()),nC(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Q.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ec(i.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(i){return{name:i.name,query:kre(i.bundledQuery),readTime:Ec(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hre{constructor(){this.overlays=new pr(Se.comparator),this.Lr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const r=bl();return Q.forEach(n,i=>this.getOverlay(t,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,a)=>{this.bt(t,n,a)}),Q.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(r)),Q.resolve()}getOverlaysForCollection(t,n,r){const i=bl(),a=n.length+1,s=new Se(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let a=new pr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=bl(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=bl(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Q.resolve(o)}bt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gre(n,r));let a=this.Lr.get(n);a===void 0&&(a=Un(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(){this.sessionToken=fa.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.kr=new kn(sn.Kr),this.qr=new kn(sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new sn(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new sn(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new Se(new Dt([])),r=new sn(n,t),i=new sn(n,t+1),a=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Se(new Dt([])),r=new sn(n,t),i=new sn(n,t+1);let a=Un();return this.qr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new sn(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class sn{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Se.comparator(t.key,n.key)||Ge(t.Hr,n.Hr)}static Ur(t,n){return Ge(t.Hr,n.Hr)||Se.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kn(sn.Kr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mre(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new sn(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Q.resolve(s)}lookupMutationBatch(t,n){return Q.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?WA:this.Yn-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new sn(n,0),i=new sn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],s=>{const o=this.Zr(s.Hr);a.push(o)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new kn(Ge);return n.forEach(i=>{const a=new sn(i,0),s=new sn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{r=r.add(o.Hr)})}),Q.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const s=new sn(new Se(a),0);let o=new kn(Ge);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Hr)),!0)},s),Q.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Rt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Q.forEach(n.mutations,i=>{const a=new sn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new sn(n,0),i=this.Jr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(t){this.ti=t,this.docs=function(){return new pr(Se.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():mi.newInvalidDocument(n))}getEntries(t,n){let r=Ov();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():mi.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let a=Ov();const s=n.path,o=new Se(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Tne(Sne(c),r)<=0||(i.has(c.key)||nC(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(t,n,r,i){Te(9500)}ni(t,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Yre(this)}getSize(t){return Q.resolve(this.size)}}class Yre extends Vre{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(r)}),Q.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(t){this.persistence=t,this.ri=new gu(n=>eC(n),tC),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new sC,this.targetCount=0,this.oi=Qc._r()}forEachTarget(t,n){return this.ri.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Q.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Qc(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.lr(n),Q.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,r){let i=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Q.waitFor(a).next(()=>i)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return Q.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),Q.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),Q.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return Q.resolve(r)}containsKey(t,n){return Q.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(t,n){this._i={},this.overlays={},this.ai=new YA(0),this.ui=!1,this.ui=!0,this.ci=new qre,this.referenceDelegate=t(this),this.li=new Wre(this),this.indexManager=new Rre,this.remoteDocumentCache=function(i){return new Kre(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Pre(n),this.Pi=new Fre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Hre,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new Gre(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){oe("MemoryPersistence","Starting transaction:",t);const i=new Xre(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(a=>this.referenceDelegate.Ii(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(t,n){return Q.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class Xre extends Cne{constructor(t){super(),this.currentSequenceNumber=t}}class oC{constructor(t){this.persistence=t,this.Ri=new sC,this.Ai=null}static Vi(t){return new oC(t)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Q.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,r=>{const i=Se.fromPath(r);return this.mi(t,i).next(a=>{a||n.removeEntry(i,vt.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Rv{constructor(t,n){this.persistence=t,this.fi=new gu(r=>One(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ure(this,n)}static Vi(t,n){return new Rv(t,n)}Ti(){}Ii(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return Q.forEach(this.fi,(r,i)=>this.wr(t,r,i).next(a=>a?Q.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,s=>this.wr(t,s,n).next(o=>{o||(r++,a.removeEntry(s,vt.min()))})).next(()=>a.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Q.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ly(t.data.value)),n}wr(t,n,r){return Q.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.fi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=i}static Es(t,n){let r=Un(),i=Un();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lC(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return vW()?8:Nne($n())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const a={result:null};return this.gs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(t,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new Qre;return this.ys(t,n,s).next(o=>{if(a.result=o,this.As)return this.ws(t,n,s,o.size)})}).next(()=>a.result)}ws(t,n,r,i){return r.documentReadCount<this.Vs?(qu()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",gd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(qu()<=Pe.DEBUG&&oe("QueryEngine","Query:",gd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(qu()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",gd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,kl(n))):Q.resolve())}gs(t,n){if(rk(n))return Q.resolve(null);let r=kl(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vE(n,null,"F"),r=kl(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const s=Un(...a);return this.fs.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.bs(n,o);return this.Ss(n,u,s,l.readTime)?this.gs(t,vE(n,null,"F")):this.Ds(t,u,n,l)}))})))}ps(t,n,r,i){return rk(n)||i.isEqual(vt.min())?Q.resolve(null):this.fs.getDocuments(t,r).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,r,i)?Q.resolve(null):(qu()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gd(n)),this.Ds(t,s,n,Ene(i,Wh)).next(o=>o))})}bs(t,n){let r=new kn(ere(t));return n.forEach((i,a)=>{nC(t,a)&&(r=r.add(a))}),r}Ss(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,n,r){return qu()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",gd(n)),this.fs.getDocumentsMatchingQuery(t,n,Uo.min(),r)}Ds(t,n,r,i){return this.fs.getDocumentsMatchingQuery(t,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre="LocalStore";class eie{constructor(t,n,r,i){this.persistence=t,this.Cs=n,this.serializer=i,this.vs=new pr(Ge),this.Fs=new gu(a=>eC(a),tC),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $re(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function tie(e,t,n,r){return new eie(e,t,n,r)}async function MU(e,t){const n=lt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=Un();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:s,addedBatchIds:o}))})})}function nie(e,t){const n=lt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,d=f.keys();let p=Q.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const _=u.docVersions.get(m);Rt(_!==null,48541),g.version.compareTo(_)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,t,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=Un();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function rie(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function iie(e,t){const n=lt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=WA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}class dk{constructor(){this.activeTargetIds=sre()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aie{constructor(){this.vo=new dk,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new dk,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="ConnectivityMonitor";class pk{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(hk,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){oe(hk,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg=null;function wE(){return dg===null?dg=function(){return 268435456+Math.round(2147483648*Math.random())}():dg++,"0x"+dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="RestConnection",oie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lie{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Av?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(t,n,r,i,a){const s=wE(),o=this.Qo(t,n.toUriEncodedString());oe(fw,`Sending RPC '${t}' ${s}:`,o,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,a);const{host:u}=new URL(o),c=Go(u);return this.zo(t,o,l,r,c).then(f=>(oe(fw,`Received RPC '${t}' ${s}: `,f),f),f=>{throw C_(fw,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}jo(t,n,r,i,a,s){return this.Wo(t,n,r,i,a)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>t[a]=i),r&&r.headers.forEach((i,a)=>t[a]=i)}Qo(t,n){const r=oie[t];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection",yd=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Sc extends lie{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Sc.c_){const t=Xz();yd(t,Wz.STAT_EVENT,n=>{n.stat===dE.PROXY?oe(Dn,"STAT_EVENT: detected buffering proxy"):n.stat===dE.NOPROXY&&oe(Dn,"STAT_EVENT: detected no buffering proxy")}),Sc.c_=!0}}zo(t,n,r,i,a){const s=wE();return new Promise((o,l)=>{const u=new Kz;u.setWithCredentials(!0),u.listenOnce(Yz.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oy.NO_ERROR:const f=u.getResponseJson();oe(Dn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case oy.TIMEOUT:oe(Dn,`RPC '${t}' ${s} timed out`),l(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case oy.HTTP_ERROR:const d=u.getStatus();if(oe(Dn,`RPC '${t}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(m.status);l(new fe(g,m.message))}else l(new fe(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{oe(Dn,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Dn,`RPC '${t}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(t,n,r){const i=wE(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=a.join("");oe(Dn,`Creating RPC '${t}' stream ${i}: ${u}`,o);const c=s.createWebChannel(u,o);this.I_(c);let f=!1,d=!1;const p=new uie({Ho:m=>{d?oe(Dn,`Not sending because RPC '${t}' stream ${i} is closed:`,m):(f||(oe(Dn,`Opening RPC '${t}' stream ${i} transport.`),c.open(),f=!0),oe(Dn,`RPC '${t}' stream ${i} sending:`,m),c.send(m))},Jo:()=>c.close()});return yd(c,Vd.EventType.OPEN,()=>{d||(oe(Dn,`RPC '${t}' stream ${i} transport opened.`),p.i_())}),yd(c,Vd.EventType.CLOSE,()=>{d||(d=!0,oe(Dn,`RPC '${t}' stream ${i} transport closed`),p.o_(),this.E_(c))}),yd(c,Vd.EventType.ERROR,m=>{d||(d=!0,C_(Dn,`RPC '${t}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),p.o_(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),yd(c,Vd.EventType.MESSAGE,m=>{var g;if(!d){const _=m.data[0];Rt(!!_,16349);const y=_,x=(y==null?void 0:y.error)||((g=y[0])==null?void 0:g.error);if(x){oe(Dn,`RPC '${t}' stream ${i} received error:`,x);const E=x.status;let S=function(T){const A=zt[T];if(A!==void 0)return vre(A)}(E),P=x.message;S===void 0&&(S=J.INTERNAL,P="Unknown error status: "+E+" with message "+x.message),d=!0,p.o_(new fe(S,P)),c.close()}else oe(Dn,`RPC '${t}' stream ${i} received:`,_),p.__(_)}}),Sc.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Qz()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(e){return new Sc(e)}function dw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(e){return new _re(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc.c_=!1;class DU{constructor(t,n,r=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="PersistentStream";class fie{constructor(t,n,r,i,a,s,o,l){this.Ci=t,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DU(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Kl(n.toString()),Kl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return oe(mk,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(oe(mk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class die extends fie{constructor(t,n,r,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Rt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Rt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Rt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Cre(t.writeResults,t.commitTime),r=Ec(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Sre(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Are(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{}class pie extends hie{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(t,bE(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(J.UNKNOWN,a.toString())})}jo(t,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(t,bE(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(J.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function mie(e,t,n,r){return new pie(e,t,n,r)}class gie{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kl(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RemoteStore";class yie{constructor(t,n,r,i,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Zp(this)&&(oe(Xp,"Restarting streams for network reachability change."),await async function(l){const u=lt(l);u.Ea.add(4),await Qp(u),u.Va.set("Unknown"),u.Ea.delete(4),await k_(u)}(this))})}),this.Va=new gie(r,i)}}async function k_(e){if(Zp(e))for(const t of e.Ra)await t(!0)}async function Qp(e){for(const t of e.Ra)await t(!1)}function Zp(e){return lt(e).Ea.size===0}async function jU(e,t,n){if(!Yp(t))throw t;e.Ea.add(1),await Qp(e),e.Va.set("Offline"),n||(n=()=>rie(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{oe(Xp,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await k_(e)})}function LU(e,t){return t().catch(n=>jU(e,n,t))}async function R_(e){const t=lt(e),n=Bo(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:WA;for(;vie(t);)try{const i=await iie(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,_ie(t,i)}catch(i){await jU(t,i)}zU(t)&&UU(t)}function vie(e){return Zp(e)&&e.Ta.length<10}function _ie(e,t){e.Ta.push(t);const n=Bo(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function zU(e){return Zp(e)&&!Bo(e).x_()&&e.Ta.length>0}function UU(e){Bo(e).start()}async function bie(e){Bo(e).ra()}async function xie(e){const t=Bo(e);for(const n of e.Ta)t.ea(n.mutations)}async function wie(e,t,n){const r=e.Ta.shift(),i=aC.from(r,t,n);await LU(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await R_(e)}async function Eie(e,t){t&&Bo(e).Y_&&await async function(r,i){if(function(s){return yre(s)&&s!==J.ABORTED}(i.code)){const a=r.Ta.shift();Bo(r).B_(),await LU(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await R_(r)}}(e,t),zU(e)&&UU(e)}async function gk(e,t){const n=lt(e);n.asyncQueue.verifyOperationInProgress(),oe(Xp,"RemoteStore received new credentials");const r=Zp(n);n.Ea.add(3),await Qp(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await k_(n)}async function Sie(e,t){const n=lt(e);t?(n.Ea.delete(2),await k_(n)):t||(n.Ea.add(2),await Qp(n),n.Va.set("Unknown"))}function Bo(e){return e.fa||(e.fa=function(n,r,i){const a=lt(n);return a.sa(),new die(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bie.bind(null,e),t_:Eie.bind(null,e),ta:xie.bind(null,e),na:wie.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await R_(e)):(await e.fa.stop(),e.Ta.length>0&&(oe(Xp,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n,r,i,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){const s=Date.now()+r,o=new uC(t,n,s,i,a);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VU(e,t){if(Kl("AsyncQueue",`${t}: ${e}`),Yp(e))return new fe(J.UNAVAILABLE,`${t}: ${e}`);throw e}class Tie{constructor(){this.queries=yk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=lt(n),a=i.queries;i.queries=yk(),a.forEach((s,o)=>{for(const l of o.ba)l.onError(r)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function yk(){return new gu(e=>vU(e),yU)}function Aie(e){e.Ca.forEach(t=>{t.next()})}var vk,_k;(_k=vk||(vk={})).Ma="default",_k.Cache="cache";const Cie="SyncEngine";class Nie{constructor(t,n,r,i,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new gu(o=>vU(o),yU),this.Iu=new Map,this.Eu=new Set,this.Ru=new pr(Se.comparator),this.Au=new Map,this.Vu=new sC,this.du={},this.mu=new Map,this.fu=Qc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Iie(e,t,n){const r=Rie(e);try{const i=await function(s,o){const l=lt(s),u=bt.now(),c=o.reduce((p,m)=>p.add(m.key),Un());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ov(),g=Un();return l.xs.getEntries(p,c).next(_=>{m=_,m.forEach((y,x)=>{x.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{f=_;const y=[];for(const x of o){const E=hre(x,f.get(x.key).overlayedDocument);E!=null&&y.push(new Yo(x.key,E,cU(E.value.mapValue),Ci.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,o)}).next(_=>{d=_;const y=_.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,y)})}).then(()=>({batchId:d.batchId,changes:bU(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.du[s.currentUser.toKey()];u||(u=new pr(Ge)),u=u.insert(o,l),s.du[s.currentUser.toKey()]=u}(r,i.batchId,n),await M_(r,i.changes),await R_(r.remoteStore)}catch(i){const a=VU(i,"Failed to persist write");n.reject(a)}}function bk(e,t,n){const r=lt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=lt(s);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.ba)d.va(o)&&(u=!0)}),u&&Aie(l)}(r.eventManager,t),i.length&&r.Pu.J_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Oie(e,t){const n=lt(e),r=t.batch.batchId;try{const i=await nie(n.localStore,t);$U(n,r,null),BU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await M_(n,i)}catch(i){await KA(i)}}async function Pie(e,t,n){const r=lt(e);try{const i=await function(s,o){const l=lt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Rt(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);$U(r,t,n),BU(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await M_(r,i)}catch(i){await KA(i)}}function BU(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function $U(e,t,n){const r=lt(e);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}async function M_(e,t,n){const r=lt(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{s.push(r.pu(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=lC.Es(l.targetId,u);a.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(l,u){const c=lt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,d=>Q.forEach(d.Ts,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>Q.forEach(d.Is,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Yp(f))throw f;oe(Jre,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.vs.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.vs=c.vs.insert(d,g)}}}(r.localStore,a))}async function kie(e,t){const n=lt(e);if(!n.currentUser.isEqual(t)){oe(Cie,"User change. New user:",t.toKey());const r=await MU(n.localStore,t);n.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new fe(J.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await M_(n,r.Ns)}}function Rie(e){const t=lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Oie.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pie.bind(null,t),t}class Mv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=P_(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return tie(this.persistence,new Zre,t.initialUser,this.serializer)}Cu(t){return new RU(oC.Vi,this.serializer)}Du(t){return new aie}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mv.provider={build:()=>new Mv};class Mie extends Mv{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Rt(this.persistence.referenceDelegate instanceof Rv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lre(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new RU(r=>Rv.Vi(r,n),this.serializer)}}class EE{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kie.bind(null,this.syncEngine),await Sie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Tie}()}createDatastore(t){const n=P_(t.databaseInfo.databaseId),r=cie(t.databaseInfo);return mie(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,a,s,o){return new yie(r,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>bk(this.syncEngine,n,0),function(){return pk.v()?new pk:new sie}())}createSyncEngine(t,n){return function(i,a,s,o,l,u,c){const f=new Nie(i,a,s,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const a=lt(i);oe(Xp,"RemoteStore shutting down."),a.Ea.add(5),await Qp(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}EE.provider={build:()=>new EE};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class Die{constructor(t,n,r,i,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=qA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{oe($o,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe($o,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=VU(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function hw(e,t){e.asyncQueue.verifyOperationInProgress(),oe($o,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MU(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function xk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jie(e);oe($o,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>gk(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>gk(t.remoteStore,i)),e._onlineComponents=t}async function jie(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){oe($o,"Using user provided OfflineComponentProvider");try{await hw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;C_("Error using user provided cache. Falling back to memory cache: "+n),await hw(e,new Mv)}}else oe($o,"Using default OfflineComponentProvider"),await hw(e,new Mie(void 0));return e._offlineComponents}async function Lie(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(oe($o,"Using user provided OnlineComponentProvider"),await xk(e,e._uninitializedComponentsProvider._online)):(oe($o,"Using default OnlineComponentProvider"),await xk(e,new EE))),e._onlineComponents}function zie(e){return Lie(e).then(t=>t.syncEngine)}function Uie(e,t){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>Iie(await zie(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie="ComponentProvider",wk=new Map;function Bie(e,t,n,r,i){return new Mne(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,FU(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="firestore.googleapis.com",Ek=!0;class Sk{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HU,this.ssl=Ek}else this.host=t.host,this.ssl=t.ssl??Ek;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kU;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dre)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wne("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FU(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cC{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sk(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fne;switch(r.type){case"firstParty":return new mne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wk.get(n);r&&(oe(Vie,"Removing Datastore"),wk.delete(n),r.terminate())}(this),Promise.resolve()}}function $ie(e,t,n,r={}){var u;e=tU(e,cC);const i=Go(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(JT(`https://${o}`),eA("Firestore",!0)),a.host!==HU&&a.host!==o&&C_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:r};if(!Mo(l,s)&&(e._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Ln.MOCK_USER;else{c=B5(r.mockUserToken,(u=e._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ln(d)}e._authCredentials=new dne(new Jz(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fC(this.firestore,t,this._query)}}class Kn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kn(this.firestore,t,this._key)}toJSON(){return{type:Kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Kp(n,Kn._jsonSchema))return new Kn(t,r||null,new Se(Dt.fromString(n.referencePath)))}}Kn._jsonSchemaVersion="firestore/documentReference/1.0",Kn._jsonSchema={type:Ft("string",Kn._jsonSchemaVersion),referencePath:Ft("string")};class Jh extends fC{constructor(t,n,r){super(t,n,Xne(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kn(this.firestore,null,new Se(t))}withConverter(t){return new Jh(this.firestore,t,this._path)}}function Fie(e,t,...n){if(e=Mt(e),arguments.length===1&&(t=qA.newId()),xne("doc","path",t),e instanceof cC){const r=Dt.fromString(t,...n);return GP(r),new Kn(e,null,new Se(r))}{if(!(e instanceof Kn||e instanceof Jh))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Dt.fromString(t,...n));return GP(r),new Kn(e.firestore,e instanceof Jh?e.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="AsyncQueue";class Ak{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DU(this,"async_queue_retry"),this._c=()=>{const r=dw();r&&oe(Tk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=dw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=dw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Pl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Yp(t))throw t;oe(Tk,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Kl("INTERNAL UNHANDLED ERROR: ",Ck(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=uC.createAndSchedule(this,t,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Te(47125,{Pc:Ck(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Ck(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class qU extends cC{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Ak,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ak(t),this._firestoreClient=void 0,await t}}}function Hie(e,t){const n=typeof e=="object"?e:iA(),r=typeof e=="string"?e:Av,i=d_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=z5("firestore");a&&$ie(i,...a)}return i}function GU(e){if(e._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qie(e),e._firestoreClient}function qie(e){var r,i,a,s;const t=e._freezeSettings(),n=Bie(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(i=e._app)==null?void 0:i.options.apiKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Die(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(fa.fromBase64String(t))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new vi(fa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kp(t,vi._jsonSchema))return vi.fromBase64String(t.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Ft("string",vi._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(t){if(Kp(t,Ya._jsonSchema))return new Ya(t.latitude,t.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:Ft("string",Ya._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:la._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kp(t,la._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new la(t.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}la._jsonSchemaVersion="firestore/vectorValue/1.0",la._jsonSchema={type:Ft("string",la._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gie=/^__.*__$/;class Kie{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Yo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wp(t,this.data,n,this.fieldTransforms)}}class KU{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Yo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function YU(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:e})}}class pC{constructor(t,n,r,i,a,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new pC({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Dv(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(YU(this.dataSource)&&Gie.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Yie{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||P_(t)}createContext(t,n,r,i=!1){return new pC({dataSource:t,methodName:n,targetDoc:r,path:Nn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wie(e){const t=e._freezeSettings(),n=P_(e._databaseId);return new Yie(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xie(e,t,n,r,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);mC("Data must be an object, but it was:",s,r);const o=WU(r,s);let l,u;if(a.merge)l=new Nr(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const d=ep(t,f,n);if(!s.contains(d))throw new fe(J.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);ZU(c,d)||c.push(d)}l=new Nr(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Kie(new Tr(o),l,u)}class D_ extends hC{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof D_}}function Qie(e,t,n,r){const i=e.createContext(1,t,n);mC("Data must be an object, but it was:",i,r);const a=[],s=Tr.empty();mu(r,(l,u)=>{const c=QU(t,l,n);u=Mt(u);const f=i.childContextForFieldPath(c);if(u instanceof D_)a.push(c);else{const d=j_(u,f);d!=null&&(a.push(c),s.set(c,d))}});const o=new Nr(a);return new KU(s,o,i.fieldTransforms)}function Zie(e,t,n,r,i,a){const s=e.createContext(1,t,n),o=[ep(t,r,n)],l=[i];if(a.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)o.push(ep(t,a[d])),l.push(a[d+1]);const u=[],c=Tr.empty();for(let d=o.length-1;d>=0;--d)if(!ZU(u,o[d])){const p=o[d];let m=l[d];m=Mt(m);const g=s.childContextForFieldPath(p);if(m instanceof D_)u.push(p);else{const _=j_(m,g);_!=null&&(u.push(p),c.set(p,_))}}const f=new Nr(u);return new KU(c,f,s.fieldTransforms)}function j_(e,t){if(XU(e=Mt(e)))return mC("Unsupported field value:",t,e),WU(e,t);if(e instanceof hC)return function(r,i){if(!YU(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=j_(o,i.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ore(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:_E(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_E(i.serializer,a)}}if(r instanceof Ya)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:bre(i.serializer,r._byteString)};if(r instanceof Kn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:IU(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof la)return function(s,o){const l=s instanceof la?s.toArray():s;return{mapValue:{fields:{[lU]:{stringValue:uU},[pE]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw o.createError("VectorValues must only contain numeric values.");return rC(o.serializer,c)})}}}}}}(r,i);if(PU(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${GA(r)}`)}(e,t)}function WU(e,t){const n={};return rU(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mu(e,(r,i)=>{const a=j_(i,t.childContextForField(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function XU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof bt||e instanceof Ya||e instanceof vi||e instanceof Kn||e instanceof hC||e instanceof la||PU(e))}function mC(e,t,n){if(!XU(n)||!eU(n)){const r=GA(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function ep(e,t,n){if((t=Mt(t))instanceof dC)return t._internalPath;if(typeof t=="string")return QU(e,t);throw Dv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jie=new RegExp("[~\\*/\\[\\]]");function QU(e,t,n){if(t.search(Jie)>=0)throw Dv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dC(...t.split("."))._internalPath}catch{throw Dv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dv(e,t,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new fe(J.INVALID_ARGUMENT,o+e+l)}function ZU(e,t){return e.some(n=>n.isEqual(t))}const Nk="@firebase/firestore",Ik="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(t,n,r,i,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(ep("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eae extends JU{data(){return super.data()}}function tae(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hg{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tc extends JU{constructor(t,n,r,i,a,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ep("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Tc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tc._jsonSchema={type:Ft("string",Tc._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class fy extends Tc{data(t={}){return super.data(t)}}class vh{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new fy(this._firestore,this._userDataWriter,r.key,r,new hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new fy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new hg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new fy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new hg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:nae(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vh._jsonSchemaVersion="firestore/querySnapshot/1.0",vh._jsonSchema={type:Ft("string",vh._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wie(t)}set(t,n,r){this._verifyNotCommitted();const i=pw(t,this._firestore),a=tae(i.converter,n,r),s=Xie(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ci.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const a=pw(t,this._firestore);let s;return s=typeof(n=Mt(n))=="string"||n instanceof dC?Zie(this._dataReader,"WriteBatch.update",a._key,n,r,i):Qie(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Ci.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=pw(t,this._firestore);return this._mutations=this._mutations.concat(new iC(n._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pw(e,t){if((e=Mt(e)).firestore!==t)throw new fe(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function iae(e,t){const n=GU(e);return Uie(n,t)}function aae(e){return e=tU(e,qU),GU(e),new rae(e,t=>iae(e,t))}(function(t,n=!0){cne(du),Bl(new Do("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new qU(new hne(r.getProvider("auth-internal")),new gne(s,r.getProvider("app-check-internal")),Dne(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),aa(Nk,Ik,t),aa(Nk,Ik,"esm2020")})();const eV={apiKey:"AIzaSyDQhqki8anv4fRkwmXFqF0VXiigjBaDBi4",authDomain:"nusantaraindustriesdevnas.firebaseapp.com",databaseURL:"https://nusantaraindustriesdevnas-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"nusantaraindustriesdevnas",storageBucket:"nusantaraindustriesdevnas.firebasestorage.app",messagingSenderId:"982003896507",appId:"1:982003896507:web:8df55784672d75e5d3d99e",measurementId:"G-752HFMWTFR"};eV.apiKey||console.error("Firebase API Key is missing. Check your .env file.");const gC=G5(eV),Ok=Hie(gC),tp=one(gC),SE=XZ(gC);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Pk=e=>{const t=oae(e);return t.charAt(0).toUpperCase()+t.slice(1)},tV=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),lae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>v.createElement("svg",{ref:l,...uae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:tV("lucide",i),...!a&&!lae(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>v.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(cae,{ref:a,iconNode:t,className:tV(`lucide-${sae(Pk(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Pk(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],TE=ge("activity",fae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],hae=ge("arrow-down-right",dae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mae=ge("arrow-left",pae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],yae=ge("arrow-right-left",gae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kk=ge("arrow-right",vae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],AE=ge("arrow-up-right",_ae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xae=ge("arrow-up",bae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Eae=ge("bell",wae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dy=ge("bot",Sae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Aae=ge("calculator",Tae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nae=ge("calendar",Cae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nV=ge("chart-column",Iae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jv=ge("chevron-right",Oae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hy=ge("circle-alert",Pae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rV=ge("circle-check",kae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mae=ge("clock",Rae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],iV=ge("database",Dae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],yC=ge("download",jae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Rk=ge("factory",Lae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Uae=ge("file-braces",zae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Mk=ge("file-code",Vae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],vC=ge("git-merge",Bae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fae=ge("globe",$ae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qae=ge("info",Hae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L_=ge("layers",Gae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Lv=ge("layout-dashboard",Kae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jp=ge("loader-circle",Yae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xae=ge("lock",Wae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Zae=ge("log-in",Qae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aV=ge("log-out",Jae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tse=ge("mail",ese);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M5 12h14",key:"1ays0h"}]],Dk=ge("minus",nse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ise=ge("pen-line",rse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],CE=ge("plus",ase);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ose=ge("save",sse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],z_=ge("search",lse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cse=ge("send",use);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dse=ge("settings",fse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],NE=ge("shield-check",hse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],mse=ge("ship",pse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yse=ge("sparkles",gse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_se=ge("tag",vse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sV=ge("target",bse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oV=ge("trash-2",xse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],IE=ge("trending-up",wse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Sse=ge("upload",Ese);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lV=ge("user",Tse);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uV=ge("x",Ase);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cV=ge("zap",Cse),Nse=({onLogout:e})=>{const t=[{path:"/dashboard",icon:b.jsx(Lv,{size:20}),label:"Dashboard"},{path:"/export-import",icon:b.jsx(nV,{size:20}),label:"Data Ekspor Impor"},{path:"/pohon-industri",icon:b.jsx(vC,{size:20}),label:"Pohon Industri"},{path:"/data-management",icon:b.jsx(L_,{size:20}),label:"Manajemen Data"},{path:"/info-center",icon:b.jsx(qae,{size:20}),label:"Pusat Informasi"},{path:"/ai-consultant",icon:b.jsx(dy,{size:20}),label:"AI Konsultan"}];return b.jsxs("div",{className:"w-64 h-screen bg-blue-900 text-white fixed left-0 top-0 flex flex-col shadow-xl z-50",children:[b.jsxs("div",{className:"p-6 border-b border-blue-800 flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-lg",children:b.jsx("span",{className:"text-blue-900 font-black text-xl",children:"NI"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-black text-sm tracking-tighter uppercase",children:"Nusantara"}),b.jsx("p",{className:"text-[9px] text-blue-300 font-bold uppercase tracking-widest",children:"Industries Data Hub"})]})]}),b.jsx("nav",{className:"flex-1 px-4 py-8 space-y-2",children:t.map(n=>b.jsx(P5,{to:n.path,className:({isActive:r})=>`
              w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all duration-300
              ${r?"bg-blue-600 text-white shadow-xl shadow-blue-900/20 translate-x-2":"text-blue-200 hover:bg-blue-800/50 hover:text-white"}
            `,children:({isActive:r})=>b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex items-center gap-3",children:[n.icon,b.jsx("span",{className:"text-[11px] font-black uppercase tracking-wider",children:n.label})]}),r&&b.jsx(jv,{size:14,className:"animate-in fade-in slide-in-from-left-2 duration-300"})]})},n.path))}),b.jsx("div",{className:"p-6 mt-auto border-t border-blue-800",children:b.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-5 py-3.5 text-rose-300 hover:text-white hover:bg-rose-600 rounded-2xl transition-all duration-300 font-black text-[11px] uppercase tracking-widest",children:[b.jsx(aV,{size:18}),b.jsx("span",{children:"Keluar Portal"})]})})]})};function fV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=fV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=fV(e))&&(r&&(r+=" "),r+=t);return r}var Ise=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _C(e){if(typeof e!="string")return!1;var t=Ise;return t.includes(e)}var Ose=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pse=new Set(Ose);function dV(e){return typeof e!="string"?!1:Pse.has(e)}function hV(e){return typeof e=="string"&&e.startsWith("data-")}function ss(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(dV(n)||hV(n))&&(t[n]=e[n]);return t}function bC(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ss(t)}return typeof e=="object"&&!Array.isArray(e)?ss(e):null}function ii(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(dV(n)||hV(n)||_C(n))&&(t[n]=e[n]);return t}var kse=["children","width","height","viewBox","className","style","title","desc"];function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(null,arguments)}function Rse(e,t){if(e==null)return{};var n,r,i=Mse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xC=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=Rse(e,kse),f=a||{width:r,height:i,x:0,y:0},d=ut("recharts-surface",s);return v.createElement("svg",OE({},ii(c),{className:d,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),n)}),Dse=["children","className"];function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(null,arguments)}function jse(e,t){if(e==null)return{};var n,r,i=Lse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var os=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=jse(e,Dse),a=ut("recharts-layer",r);return v.createElement("g",PE({className:a},ii(i),{ref:t}),n)}),pV=v.createContext(null),zse=()=>v.useContext(pV);function at(e){return function(){return e}}const mV=Math.cos,zv=Math.sin,Di=Math.sqrt,Uv=Math.PI,U_=2*Uv,kE=Math.PI,RE=2*kE,pl=1e-6,Use=RE-pl;function gV(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Vse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gV;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Bse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gV:Vse(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,c=s-t,f=o-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>pl)if(!(Math.abs(f*l-u*c)>pl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-o,g=l*l+u*u,_=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(d),E=a*Math.tan((kE-Math.acos((g+d-_)/(2*y*x)))/2),S=E/x,P=E/y;Math.abs(S-1)>pl&&this._append`L${t+S*c},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*p>c*m)},${this._x1=t+P*l},${this._y1=n+P*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>pl||Math.abs(this._y1-c)>pl)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%RE+RE),d>Use?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>pl&&this._append`A${r},${r},0,${+(d>=kE)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Bse(t)}function EC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yV(e){this._context=e}yV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function V_(e){return new yV(e)}function vV(e){return e[0]}function _V(e){return e[1]}function bV(e,t){var n=at(!0),r=null,i=V_,a=null,s=wC(o);e=typeof e=="function"?e:e===void 0?vV:at(e),t=typeof t=="function"?t:t===void 0?_V:at(t);function o(l){var u,c=(l=EC(l)).length,f,d=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,u,l),+t(f,u,l));if(p)return a=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:at(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function pg(e,t,n){var r=null,i=at(!0),a=null,s=V_,o=null,l=wC(u);e=typeof e=="function"?e:e===void 0?vV:at(+e),t=typeof t=="function"?t:at(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?_V:at(+n);function u(f){var d,p,m,g=(f=EC(f)).length,_,y=!1,x,E=new Array(g),S=new Array(g);for(a==null&&(o=s(x=l())),d=0;d<=g;++d){if(!(d<g&&i(_=f[d],d,f))===y)if(y=!y)p=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=p;--m)o.point(E[m],S[m]);o.lineEnd(),o.areaEnd()}y&&(E[d]=+e(_,d,f),S[d]=+t(_,d,f),o.point(r?+r(_,d,f):E[d],n?+n(_,d,f):S[d]))}if(x)return o=null,x+""||null}function c(){return bV().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:at(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:at(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:at(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class xV{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function $se(e){return new xV(e,!0)}function Fse(e){return new xV(e,!1)}const SC={draw(e,t){const n=Di(t/Uv);e.moveTo(n,0),e.arc(0,0,n,0,U_)}},Hse={draw(e,t){const n=Di(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wV=Di(1/3),qse=wV*2,Gse={draw(e,t){const n=Di(t/qse),r=n*wV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Kse={draw(e,t){const n=Di(t),r=-n/2;e.rect(r,r,n,n)}},Yse=.8908130915292852,EV=zv(Uv/10)/zv(7*Uv/10),Wse=zv(U_/10)*EV,Xse=-mV(U_/10)*EV,Qse={draw(e,t){const n=Di(t*Yse),r=Wse*n,i=Xse*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=U_*a/5,o=mV(s),l=zv(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},mw=Di(3),Zse={draw(e,t){const n=-Di(t/(mw*3));e.moveTo(0,n*2),e.lineTo(-mw*n,-n),e.lineTo(mw*n,-n),e.closePath()}},Br=-.5,$r=Di(3)/2,ME=1/Di(12),Jse=(ME/2+1)*3,eoe={draw(e,t){const n=Di(t/Jse),r=n/2,i=n*ME,a=r,s=n*ME+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Br*r-$r*i,$r*r+Br*i),e.lineTo(Br*a-$r*s,$r*a+Br*s),e.lineTo(Br*o-$r*l,$r*o+Br*l),e.lineTo(Br*r+$r*i,Br*i-$r*r),e.lineTo(Br*a+$r*s,Br*s-$r*a),e.lineTo(Br*o+$r*l,Br*l-$r*o),e.closePath()}};function toe(e,t){let n=null,r=wC(i);e=typeof e=="function"?e:at(e||SC),t=typeof t=="function"?t:at(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:at(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:at(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Vv(){}function Bv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function SV(e){this._context=e}SV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function noe(e){return new SV(e)}function TV(e){this._context=e}TV.prototype={areaStart:Vv,areaEnd:Vv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function roe(e){return new TV(e)}function AV(e){this._context=e}AV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ioe(e){return new AV(e)}function CV(e){this._context=e}CV.prototype={areaStart:Vv,areaEnd:Vv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aoe(e){return new CV(e)}function jk(e){return e<0?-1:1}function Lk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(jk(a)+jk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function zk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function $v(e){this._context=e}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gw(this,this._t0,zk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gw(this,zk(this,n=Lk(this,e,t)),n);break;default:gw(this,this._t0,n=Lk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function NV(e){this._context=new IV(e)}(NV.prototype=Object.create($v.prototype)).point=function(e,t){$v.prototype.point.call(this,t,e)};function IV(e){this._context=e}IV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function soe(e){return new $v(e)}function ooe(e){return new NV(e)}function OV(e){this._context=e}OV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Uk(e),i=Uk(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Uk(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function loe(e){return new OV(e)}function B_(e,t){this._context=e,this._t=t}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function uoe(e){return new B_(e,.5)}function coe(e){return new B_(e,0)}function foe(e){return new B_(e,1)}function Xl(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function DE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function doe(e,t){return e[t]}function hoe(e){const t=[];return t.key=e,t}function poe(){var e=at([]),t=DE,n=Xl,r=doe;function i(a){var s=Array.from(e.apply(this,arguments),hoe),o,l=s.length,u=-1,c;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,c=EC(t(s));o<l;++o)s[c[o]].index=o;return n(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:at(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:at(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?DE:typeof a=="function"?a:at(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Xl,i):n},i}function moe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Xl(e,t)}}function goe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Xl(e,t)}}function yoe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<o;++m){var g=e[t[m]],_=g[r][1]||0,y=g[r-1][1]||0;p+=_-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Xl(e,t)}}var $_={},PV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(PV);var TC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(TC);var F_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(F_);var H_={},kV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(kV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kV,n=F_;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:c?f==='"'||f==="'"?u=f:f==="]"?(c=!1,a.push(l),l=""):l+=f:f==="["?(c=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(H_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PV,n=TC,r=F_,i=H_;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let f=0;f<l.length;f++){if(c==null||t.isUnsafeProperty(l[f]))return u;c=c[l[f]]}return c===void 0?u:c}e.get=a})($_);var voe=$_.get;const Zc=ya(voe);var _oe=4;function uo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_oe,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+uo(o)+a:i+a},"")}var or=e=>e===0?0:e>0?1:-1,ha=e=>typeof e=="number"&&e!=+e,Ql=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,le=e=>(typeof e=="number"||e instanceof Number)&&!ha(e),pa=e=>le(e)||typeof e=="string",boe=0,np=e=>{var t=++boe;return"".concat(e||"").concat(t)},ki=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&typeof t!="string")return r;var a;if(Ql(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return ha(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},RV=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Tn(e,t,n){return le(e)&&le(t)?uo(e+n*(t-e)):t}function xoe(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Zc(r,t))===n)}var hn=e=>e===null||typeof e>"u",em=e=>hn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function lr(e){return e!=null}function Rf(){}var woe=["type","size","sizeType"];function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jE.apply(null,arguments)}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(r){Eoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eoe(e,t,n){return(t=Soe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Soe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aoe(e,t){if(e==null)return{};var n,r,i=Coe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Coe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MV={symbolCircle:SC,symbolCross:Hse,symbolDiamond:Gse,symbolSquare:Kse,symbolStar:Qse,symbolTriangle:Zse,symbolWye:eoe},Noe=Math.PI/180,Ioe=e=>{var t="symbol".concat(em(e));return MV[t]||SC},Ooe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Noe;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Poe=(e,t)=>{MV["symbol".concat(em(e))]=t},AC=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Aoe(e,woe),a=Bk(Bk({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var d=Ioe(s),p=toe().type(d).size(Ooe(n,r,s)),m=p();if(m!==null)return m},{className:l,cx:u,cy:c}=a,f=ii(a);return le(u)&&le(c)&&le(n)?v.createElement("path",jE({},f,{className:ut("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};AC.registerSymbol=Poe;var DV=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,koe=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_C(i)&&(r[i]=a=>n[i](n,a))}),r},Roe=(e,t,n)=>r=>(e(t,n,r),null),q_=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];_C(i)&&typeof a=="function"&&(r||(r={}),r[i]=Roe(a,t,n))}),r};function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Moe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){Doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Doe(e,t,n){return(t=joe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function joe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zn(e,t){var n=Moe({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(null,arguments)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zoe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(r){Uoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uoe(e,t,n){return(t=Voe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Voe(e){var t=Boe(e,"string");return typeof t=="symbol"?t:t+""}function Boe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hr=32,$oe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Foe(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Hr/2,a=Hr/6,s=Hr/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Hr,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Hr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var c=zoe({},t);return delete c.legendIcon,v.cloneElement(t.legendIcon,c)}return v.createElement(AC,{fill:o,cx:i,cy:i,size:Hr,sizeType:"diameter",type:l})}function Hoe(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Hr,height:Hr},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,f)=>{var d=c.formatter||i,p=ut({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?a:c.color,g=d?d(c.value,c,f):c.value;return v.createElement("li",Fv({className:p,style:l,key:"legend-item-".concat(f)},q_(e,c,f)),v.createElement(xC,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(g," legend icon")},v.createElement(Foe,{data:c,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}var qoe=e=>{var t=Zn(e,$oe),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(Hoe,Fv({},t,{payload:n})))},jV={},LV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(LV);var zV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(zV);var CC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(CC);var UV={},G_={},VV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(VV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VV;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(G_);var BV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(BV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G_,n=BV;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(UV);var $V={},FV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$_;function n(r){return function(i){return t.get(i,r)}}e.property=n})(FV);var HV={},NC={},qV={},IC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(IC);var OC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(OC);var PC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(PC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IC,n=OC,r=PC;function i(c,f,d){return typeof d!="function"?i(c,f,()=>{}):a(c,f,function p(m,g,_,y,x,E){const S=d(m,g,_,y,x,E);return S!==void 0?!!S:a(m,g,p,E)},new Map)}function a(c,f,d,p){if(f===c)return!0;switch(typeof f){case"object":return s(c,f,d,p);case"function":return Object.keys(f).length>0?a(c,{...f},d,p):r.isEqualsSameValueZero(c,f);default:return t.isObject(c)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(c,f)}}function s(c,f,d,p){if(f==null)return!0;if(Array.isArray(f))return l(c,f,d,p);if(f instanceof Map)return o(c,f,d,p);if(f instanceof Set)return u(c,f,d,p);const m=Object.keys(f);if(c==null||n.isPrimitive(c))return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===c;p==null||p.set(f,c);try{for(let g=0;g<m.length;g++){const _=m[g];if(!n.isPrimitive(c)&&!(_ in c)||f[_]===void 0&&c[_]!==void 0||f[_]===null&&c[_]!==null||!d(c[_],f[_],_,c,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(c,f,d,p){if(f.size===0)return!0;if(!(c instanceof Map))return!1;for(const[m,g]of f.entries()){const _=c.get(m);if(d(_,g,m,c,f,p)===!1)return!1}return!0}function l(c,f,d,p){if(f.length===0)return!0;if(!Array.isArray(c))return!1;const m=new Set;for(let g=0;g<f.length;g++){const _=f[g];let y=!1;for(let x=0;x<c.length;x++){if(m.has(x))continue;const E=c[x];let S=!1;if(d(E,_,g,c,f,p)&&(S=!0),S){m.add(x),y=!0;break}}if(!y)return!1}return!0}function u(c,f,d,p){return f.size===0?!0:c instanceof Set?l([...c],[...f],d,p):!1}e.isMatchWith=i,e.isSetMatch=u})(qV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(NC);var GV={},kC={},KV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(KV);var K_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(K_);var RC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",f="[object Function]",d="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",_="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",E="[object Uint32Array]",S="[object BigUint64Array]",P="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",A="[object BigInt64Array]",C="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=d,e.arrayTag=c,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=C,e.float64ArrayTag=I,e.functionTag=f,e.int16ArrayTag=M,e.int32ArrayTag=T,e.int8ArrayTag=P,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=y})(RC);var YV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(YV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KV,n=K_,r=RC,i=OC,a=YV;function s(c,f){return o(c,void 0,c,new Map,f)}function o(c,f,d,p=new Map,m=void 0){const g=m==null?void 0:m(c,f,d,p);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const _=new Array(c.length);p.set(c,_);for(let y=0;y<c.length;y++)_[y]=o(c[y],y,d,p,m);return Object.hasOwn(c,"index")&&(_.index=c.index),Object.hasOwn(c,"input")&&(_.input=c.input),_}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const _=new RegExp(c.source,c.flags);return _.lastIndex=c.lastIndex,_}if(c instanceof Map){const _=new Map;p.set(c,_);for(const[y,x]of c)_.set(y,o(x,y,d,p,m));return _}if(c instanceof Set){const _=new Set;p.set(c,_);for(const y of c)_.add(o(y,void 0,d,p,m));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const _=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,_);for(let y=0;y<c.length;y++)_[y]=o(c[y],y,d,p,m);return _}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const _=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,_),l(_,c,d,p,m),_}if(typeof File<"u"&&c instanceof File){const _=new File([c],c.name,{type:c.type});return p.set(c,_),l(_,c,d,p,m),_}if(typeof Blob<"u"&&c instanceof Blob){const _=new Blob([c],{type:c.type});return p.set(c,_),l(_,c,d,p,m),_}if(c instanceof Error){const _=new c.constructor;return p.set(c,_),_.message=c.message,_.name=c.name,_.stack=c.stack,_.cause=c.cause,l(_,c,d,p,m),_}if(c instanceof Boolean){const _=new Boolean(c.valueOf());return p.set(c,_),l(_,c,d,p,m),_}if(c instanceof Number){const _=new Number(c.valueOf());return p.set(c,_),l(_,c,d,p,m),_}if(c instanceof String){const _=new String(c.valueOf());return p.set(c,_),l(_,c,d,p,m),_}if(typeof c=="object"&&u(c)){const _=Object.create(Object.getPrototypeOf(c));return p.set(c,_),l(_,c,d,p,m),_}return c}function l(c,f,d=c,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let _=0;_<g.length;_++){const y=g[_],x=Object.getOwnPropertyDescriptor(c,y);(x==null||x.writable)&&(c[y]=o(f[y],y,d,p,m))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(kC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(GV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NC,n=GV;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(HV);var WV={},XV={},QV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kC,n=K_,r=RC;function i(a,s){return t.cloneDeepWith(a,(o,l,u,c)=>{const f=s==null?void 0:s(o,l,u,c);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const d={};return c.set(a,d),t.copyProperties(d,a,u,c),d}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}}})}e.cloneDeepWith=i})(QV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QV;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(XV);var ZV={},MC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(MC);var JV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K_;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(JV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TC,n=MC,r=JV,i=H_;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const f=l[c];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(ZV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NC,n=F_,r=XV,i=$_,a=ZV;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(WV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CC,n=FV,r=HV,i=WV;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})($V);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LV,n=zV,r=CC,i=UV,a=$V;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(jV);var Goe=jV.uniqBy;const Hk=ya(Goe);function e9(e,t,n){return t===!0?Hk(e,n):typeof t=="function"?Hk(e,t):e}var t9={exports:{}},n9={},r9={exports:{}},i9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=v;function Koe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yoe=typeof Object.is=="function"?Object.is:Koe,Woe=Jc.useState,Xoe=Jc.useEffect,Qoe=Jc.useLayoutEffect,Zoe=Jc.useDebugValue;function Joe(e,t){var n=t(),r=Woe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return Qoe(function(){i.value=n,i.getSnapshot=t,yw(i)&&a({inst:i})},[e,n,t]),Xoe(function(){return yw(i)&&a({inst:i}),e(function(){yw(i)&&a({inst:i})})},[e]),Zoe(n),n}function yw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yoe(e,n)}catch{return!0}}function ele(e,t){return t()}var tle=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ele:Joe;i9.useSyncExternalStore=Jc.useSyncExternalStore!==void 0?Jc.useSyncExternalStore:tle;r9.exports=i9;var nle=r9.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=v,rle=nle;function ile(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ale=typeof Object.is=="function"?Object.is:ile,sle=rle.useSyncExternalStore,ole=Y_.useRef,lle=Y_.useEffect,ule=Y_.useMemo,cle=Y_.useDebugValue;n9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=ole(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=ule(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,ale(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var o=sle(e,a[0],a[1]);return lle(function(){s.hasValue=!0,s.value=o},[o]),cle(o),o};t9.exports=n9;var a9=t9.exports;const fle=ya(a9);var DC=v.createContext(null),dle=e=>e,Tt=()=>{var e=v.useContext(DC);return e?e.store.dispatch:dle},py=()=>{},hle=()=>py,ple=(e,t)=>e===t;function de(e){var t=v.useContext(DC),n=v.useMemo(()=>t?r=>{if(r!=null)return e(r)}:py,[t,e]);return a9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:hle,t?t.store.getState:py,t?t.store.getState:py,n,ple)}function mle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function gle(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function yle(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var qk=e=>Array.isArray(e)?e:[e];function vle(e){const t=Array.isArray(e[0])?e[0]:e;return yle(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _le(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ble=class{constructor(e){this.value=e}deref(){return this.value}},xle=typeof WeakRef<"u"?WeakRef:ble,wle=0,Gk=1;function mg(){return{s:wle,v:void 0,o:null,p:null}}function s9(e,t={}){let n=mg();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let d=0,p=l;d<p;d++){const m=arguments[d];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const _=g.get(m);_===void 0?(o=mg(),g.set(m,o)):o=_}else{let g=o.p;g===null&&(o.p=g=new Map);const _=g.get(m);_===void 0?(o=mg(),g.set(m,o)):o=_}}const u=o;let c;if(o.s===Gk)c=o.v;else if(c=e.apply(null,arguments),a++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,c)&&(c=d,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new xle(c):c}return u.s=Gk,u.v=c,c}return s.clearCache=()=>{n=mg(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Ele(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),mle(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:p=s9,argsMemoizeOptions:m=[]}=c,g=qk(d),_=qk(m),y=vle(i),x=f(function(){return a++,u.apply(null,arguments)},...g),E=p(function(){s++;const P=_le(y,arguments);return o=x.apply(null,P),o},..._);return Object.assign(E,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var H=Ele(s9),Sle=Object.assign((e,t=H)=>{gle(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>Sle}),o9={},l9={},u9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(u9);var c9={},jC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(jC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jC,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(c9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9,n=c9,r=H_;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,m)=>{let g=p;for(let _=0;_<m.length&&g!=null;++_)g=g[m[_]];return g},c=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(m=>c(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const _=t.compareValues(p.criteria[g],m.criteria[g],o[g]);if(_!==0)return _}return 0}).map(p=>p.original)}e.orderBy=i})(l9);var f9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(n,0),i}e.flatten=t})(f9);var LC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MC,n=G_,r=IC,i=PC;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(LC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l9,n=f9,r=LC;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(o9);var Tle=o9.sortBy;const W_=ya(Tle);var d9=e=>e.legend.settings,Ale=e=>e.legend.size,Cle=e=>e.legend.payload,Nle=H([Cle,d9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?W_(r,n):r});function Ile(){return de(Nle)}var gg=1;function h9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>gg||Math.abs(s.left-t.left)>gg||Math.abs(s.top-t.top)>gg||Math.abs(s.width-t.width)>gg)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function bn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ole=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kk=Ole,vw=()=>Math.random().toString(36).substring(7).split("").join("."),Ple={INIT:`@@redux/INIT${vw()}`,REPLACE:`@@redux/REPLACE${vw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vw()}`},Hv=Ple;function zC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function p9(e,t,n){if(typeof e!="function")throw new Error(bn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(bn(1));return n(p9)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((_,y)=>{s.set(y,_)}))}function c(){if(l)throw new Error(bn(3));return i}function f(_){if(typeof _!="function")throw new Error(bn(4));if(l)throw new Error(bn(5));let y=!0;u();const x=o++;return s.set(x,_),function(){if(y){if(l)throw new Error(bn(6));y=!1,u(),s.delete(x),a=null}}}function d(_){if(!zC(_))throw new Error(bn(7));if(typeof _.type>"u")throw new Error(bn(8));if(typeof _.type!="string")throw new Error(bn(17));if(l)throw new Error(bn(9));try{l=!0,i=r(i,_)}finally{l=!1}return(a=s).forEach(x=>{x()}),_}function p(_){if(typeof _!="function")throw new Error(bn(10));r=_,d({type:Hv.REPLACE})}function m(){const _=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(bn(11));function x(){const S=y;S.next&&S.next(c())}return x(),{unsubscribe:_(x)}},[Kk](){return this}}}return d({type:Hv.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:p,[Kk]:m}}function kle(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hv.INIT})>"u")throw new Error(bn(12));if(typeof n(void 0,{type:Hv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function m9(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{kle(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],d=n[f],p=s[f],m=d(p,o);if(typeof m>"u")throw o&&o.type,new Error(bn(14));u[f]=m,l=l||m!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function qv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Rle(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(bn(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=qv(...o)(i.dispatch),{...i,dispatch:a}}}function g9(e){return zC(e)&&"type"in e&&typeof e.type=="string"}var y9=Symbol.for("immer-nothing"),Yk=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function _i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ir=Object,ef=Ir.getPrototypeOf,Gv="constructor",X_="prototype",LE="configurable",Kv="enumerable",my="writable",rp="value",ls=e=>!!e&&!!e[Xn];function Ri(e){var t;return e?v9(e)||Z_(e)||!!e[Yk]||!!((t=e[Gv])!=null&&t[Yk])||J_(e)||eb(e):!1}var Mle=Ir[X_][Gv].toString(),Wk=new WeakMap;function v9(e){if(!e||!UC(e))return!1;const t=ef(e);if(t===null||t===Ir[X_])return!0;const n=Ir.hasOwnProperty.call(t,Gv)&&t[Gv];if(n===Object)return!0;if(!Ku(n))return!1;let r=Wk.get(n);return r===void 0&&(r=Function.toString.call(n),Wk.set(n,r)),r===Mle}function Q_(e,t,n=!0){tm(e)===0?(n?Reflect.ownKeys(e):Ir.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function tm(e){const t=e[Xn];return t?t.type_:Z_(e)?1:J_(e)?2:eb(e)?3:0}var Xk=(e,t,n=tm(e))=>n===2?e.has(t):Ir[X_].hasOwnProperty.call(e,t),zE=(e,t,n=tm(e))=>n===2?e.get(t):e[t],Yv=(e,t,n,r=tm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Dle(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Z_=Array.isArray,J_=e=>e instanceof Map,eb=e=>e instanceof Set,UC=e=>typeof e=="object",Ku=e=>typeof e=="function",_w=e=>typeof e=="boolean";function jle(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Pa=e=>e.copy_||e.base_,VC=e=>e.modified_?e.copy_:e.base_;function UE(e,t){if(J_(e))return new Map(e);if(eb(e))return new Set(e);if(Z_(e))return Array[X_].slice.call(e);const n=v9(e);if(t===!0||t==="class_only"&&!n){const r=Ir.getOwnPropertyDescriptors(e);delete r[Xn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[my]===!1&&(o[my]=!0,o[LE]=!0),(o.get||o.set)&&(r[s]={[LE]:!0,[my]:!0,[Kv]:o[Kv],[rp]:e[s]})}return Ir.create(ef(e),r)}else{const r=ef(e);if(r!==null&&n)return{...e};const i=Ir.create(r);return Ir.assign(i,e)}}function BC(e,t=!1){return tb(e)||ls(e)||!Ri(e)||(tm(e)>1&&Ir.defineProperties(e,{set:yg,add:yg,clear:yg,delete:yg}),Ir.freeze(e),t&&Q_(e,(n,r)=>{BC(r,!0)},!1)),e}function Lle(){_i(2)}var yg={[rp]:Lle};function tb(e){return e===null||!UC(e)?!0:Ir.isFrozen(e)}var Wv="MapSet",VE="Patches",Qk="ArrayMethods",_9={};function Zl(e){const t=_9[e];return t||_i(0,e),t}var Zk=e=>!!_9[e],ip,b9=()=>ip,zle=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Zk(Wv)?Zl(Wv):void 0,arrayMethodsPlugin_:Zk(Qk)?Zl(Qk):void 0});function Jk(e,t){t&&(e.patchPlugin_=Zl(VE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function BE(e){$E(e),e.drafts_.forEach(Ule),e.drafts_=null}function $E(e){e===ip&&(ip=e.parent_)}var eR=e=>ip=zle(ip,e);function Ule(e){const t=e[Xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Xn].modified_&&(BE(t),_i(4)),Ri(e)&&(e=nR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Xn].base_,e,t)}else e=nR(t,n);return Vle(t,e,!0),BE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==y9?e:void 0}function nR(e,t){if(tb(t))return t;const n=t[Xn];if(!n)return Xv(t,e.handledSet_,e);if(!nb(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);E9(n,e)}return n.copy_}function Vle(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BC(t,n)}function x9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var nb=(e,t)=>e.scope_===t,Ble=[];function w9(e,t,n,r){const i=Pa(e),a=e.type_;if(r!==void 0&&zE(i,r,a)===t){Yv(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Q_(i,(l,u)=>{if(ls(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??Ble;for(const o of s)Yv(i,o,n,a)}function $le(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!nb(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=VC(a);w9(e,a.draft_??a,s,n),E9(a,i)})}function E9(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}x9(e)}}function Fle(e,t,n){const{scope_:r}=e;if(ls(n)){const i=n[Xn];nb(i,r)&&i.callbacks_.push(function(){gy(e);const s=VC(i);w9(e,n,s,t)})}else Ri(n)&&e.callbacks_.push(function(){const a=Pa(e);e.type_===3?a.has(n)&&Xv(n,r.handledSet_,r):zE(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Xv(zE(e.copy_,t,e.type_),r.handledSet_,r)})}function Xv(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ls(e)||t.has(e)||!Ri(e)||tb(e)||(t.add(e),Q_(e,(r,i)=>{if(ls(i)){const a=i[Xn];if(nb(a,n)){const s=VC(a);Yv(e,r,s,e.type_),x9(a)}}else Ri(i)&&Xv(i,t,n)})),e}function Hle(e,t){const n=Z_(e),r={type_:n?1:0,scope_:t?t.scope_:b9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Qv;n&&(i=[r],a=ap);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Qv={get(e,t){if(t===Xn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Pa(e);if(!Xk(i,t,e.type_))return qle(e,i,t);const a=i[t];if(e.finalized_||!Ri(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&jle(t))return a;if(a===bw(e.base_,t)){gy(e);const s=e.type_===1?+t:t,o=HE(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Pa(e)},ownKeys(e){return Reflect.ownKeys(Pa(e))},set(e,t,n){const r=S9(Pa(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=bw(Pa(e),t),a=i==null?void 0:i[Xn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Dle(n,i)&&(n!==void 0||Xk(e.base_,t,e.type_)))return!0;gy(e),FE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Fle(e,t,n)),!0},deleteProperty(e,t){return gy(e),bw(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),FE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Pa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[my]:!0,[LE]:e.type_!==1||t!=="length",[Kv]:r[Kv],[rp]:n[t]}},defineProperty(){_i(11)},getPrototypeOf(e){return ef(e.base_)},setPrototypeOf(){_i(12)}},ap={};for(let e in Qv){let t=Qv[e];ap[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}ap.deleteProperty=function(e,t){return ap.set.call(this,e,t,void 0)};ap.set=function(e,t,n){return Qv.set.call(this,e[0],t,n,e[0])};function bw(e,t){const n=e[Xn];return(n?Pa(n):e)[t]}function qle(e,t,n){var i;const r=S9(t,n);return r?rp in r?r[rp]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function S9(e,t){if(!(t in e))return;let n=ef(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ef(n)}}function FE(e){e.modified_||(e.modified_=!0,e.parent_&&FE(e.parent_))}function gy(e){e.copy_||(e.assigned_=new Map,e.copy_=UE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ku(n)&&!Ku(r)){const s=r;r=n;const o=this;return function(u=s,...c){return o.produce(u,f=>r.call(this,f,...c))}}Ku(r)||_i(6),i!==void 0&&!Ku(i)&&_i(7);let a;if(Ri(n)){const s=eR(this),o=HE(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?BE(s):$E(s)}return Jk(s,i),tR(a,s)}else if(!n||!UC(n)){if(a=r(n),a===void 0&&(a=n),a===y9&&(a=void 0),this.autoFreeze_&&BC(a,!0),i){const s=[],o=[];Zl(VE).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else _i(1,n)},this.produceWithPatches=(n,r)=>{if(Ku(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},_w(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),_w(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),_w(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ri(t)||_i(8),ls(t)&&(t=Ni(t));const n=eR(this),r=HE(n,t,void 0);return r[Xn].isManual_=!0,$E(n),r}finishDraft(t,n){const r=t&&t[Xn];(!r||!r.isManual_)&&_i(9);const{scope_:i}=r;return Jk(i,n),tR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Zl(VE).applyPatches_;return ls(t)?i(t,n):this.produce(t,a=>i(a,n))}};function HE(e,t,n,r){const[i,a]=J_(t)?Zl(Wv).proxyMap_(t,n):eb(t)?Zl(Wv).proxySet_(t,n):Hle(t,n);return((n==null?void 0:n.scope_)??b9()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?$le(n,a,r):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Ni(e){return ls(e)||_i(10,e),T9(e)}function T9(e){if(!Ri(e)||tb(e))return e;const t=e[Xn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=UE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=UE(e,!0);return Q_(n,(i,a)=>{Yv(n,i,T9(a))},r),t&&(t.finalized_=!1),n}var Kle=new Gle,A9=Kle.produce;function C9(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var Yle=C9(),Wle=C9,Xle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qv:qv.apply(null,arguments)};function ai(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Mr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>g9(r)&&r.type===e,n}var N9=class Bd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bd.prototype)}static get[Symbol.species](){return Bd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bd(...t[0].concat(this)):new Bd(...t.concat(this))}};function rR(e){return Ri(e)?A9(e,()=>{}):e}function vg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Qle(e){return typeof e=="boolean"}var Zle=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new N9;return n&&(Qle(n)?s.push(Yle):s.push(Wle(n.extraArgument))),s},I9="RTK_autoBatch",_t=()=>e=>({payload:e,meta:{[I9]:!0}}),iR=e=>t=>{setTimeout(t,e)},O9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iR(10):e.type==="callback"?e.queueNotification:iR(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),d=r.subscribe(f);return o.add(c),()=>{d(),o.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[I9]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Jle=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new N9(e);return r&&i.push(O9(typeof r=="object"?r:void 0)),i};function eue(e){const t=Zle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(zC(n))o=m9(n);else throw new Error(Mr(1));let l;typeof r=="function"?l=r(t):l=t();let u=qv;i&&(u=Xle({trace:!1,...typeof i=="object"&&i}));const c=Rle(...l),f=Jle(c);let d=typeof s=="function"?s(f):f();const p=u(...d);return p9(o,a,p)}function P9(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Mr(28));if(o in t)throw new Error(Mr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function tue(e){return typeof e=="function"}function nue(e,t){let[n,r,i]=P9(t),a;if(tue(e))a=()=>rR(e());else{const o=rR(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(ls(c)){const p=f(c,l);return p===void 0?c:p}else{if(Ri(c))return A9(c,d=>f(d,l));{const d=f(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},o)}return s.getInitialState=a,s}var rue="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iue=(e=21)=>{let t="",n=e;for(;n--;)t+=rue[Math.random()*64|0];return t},aue=Symbol.for("rtk-slice-createasyncthunk");function sue(e,t){return`${e}/${t}`}function oue({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[aue];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Mr(11));const o=(typeof i.reducers=="function"?i.reducers(uue()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(S,P){const M=typeof S=="string"?S:S.type;if(!M)throw new Error(Mr(12));if(M in u.sliceCaseReducersByType)throw new Error(Mr(13));return u.sliceCaseReducersByType[M]=P,c},addMatcher(S,P){return u.sliceMatchers.push({matcher:S,reducer:P}),c},exposeAction(S,P){return u.actionCreators[S]=P,c},exposeCaseReducer(S,P){return u.sliceCaseReducersByName[S]=P,c}};l.forEach(S=>{const P=o[S],M={reducerName:S,type:sue(a,S),createNotation:typeof i.reducers=="function"};fue(P)?hue(M,P,c,t):cue(M,P,c)});function f(){const[S={},P=[],M=void 0]=typeof i.extraReducers=="function"?P9(i.extraReducers):[i.extraReducers],T={...S,...u.sliceCaseReducersByType};return nue(i.initialState,A=>{for(let C in T)A.addCase(C,T[C]);for(let C of u.sliceMatchers)A.addMatcher(C.matcher,C.reducer);for(let C of P)A.addMatcher(C.matcher,C.reducer);M&&A.addDefaultCase(M)})}const d=S=>S,p=new Map,m=new WeakMap;let g;function _(S,P){return g||(g=f()),g(S,P)}function y(){return g||(g=f()),g.getInitialState()}function x(S,P=!1){function M(A){let C=A[S];return typeof C>"u"&&P&&(C=vg(m,M,y)),C}function T(A=d){const C=vg(p,P,()=>new WeakMap);return vg(C,A,()=>{const I={};for(const[O,k]of Object.entries(i.selectors??{}))I[O]=lue(k,A,()=>vg(m,A,y),P);return I})}return{reducerPath:S,getSelectors:T,get selectors(){return T(M)},selectSlice:M}}const E={name:a,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...x(s),injectInto(S,{reducerPath:P,...M}={}){const T=P??s;return S.inject({reducerPath:T,reducer:_},M),{...E,...x(T,!0)}}};return E}}function lue(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var gr=oue();function uue(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function cue({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!due(r))throw new Error(Mr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?ai(e,s):ai(e))}function fue(e){return e._reducerDefinitionType==="asyncThunk"}function due(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hue({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Mr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=n,f=i(e,a,c);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||_g,pending:o||_g,rejected:l||_g,settled:u||_g})}function _g(){}var pue="task",k9="listener",R9="completed",$C="cancelled",mue=`task-${$C}`,gue=`task-${R9}`,qE=`${k9}-${$C}`,yue=`${k9}-${R9}`,rb=class{constructor(e){Bm(this,"name","TaskAbortError");Bm(this,"message");this.code=e,this.message=`${pue} ${$C} (reason: ${e})`}},FC=(e,t)=>{if(typeof e!="function")throw new TypeError(Mr(32))},Zv=()=>{},M9=(e,t=Zv)=>(e.catch(t),e),D9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Rl=e=>{if(e.aborted)throw new rb(e.reason)};function j9(e,t){let n=Zv;return new Promise((r,i)=>{const a=()=>i(new rb(e.reason));if(e.aborted){a();return}n=D9(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Zv})}var vue=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof rb?"cancelled":"rejected",error:n}}finally{t==null||t()}},Jv=e=>t=>M9(j9(e,t).then(n=>(Rl(e),n))),L9=e=>{const t=Jv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ac}=Object,aR={},ib="listenerMiddleware",_ue=(e,t)=>{const n=r=>D9(e,()=>r.abort(e.reason));return(r,i)=>{FC(r);const a=new AbortController;n(a);const s=vue(async()=>{Rl(e),Rl(a.signal);const o=await r({pause:Jv(a.signal),delay:L9(a.signal),signal:a.signal});return Rl(a.signal),o},()=>a.abort(gue));return i!=null&&i.autoJoin&&t.push(s.catch(Zv)),{result:Jv(e)(s),cancel(){a.abort(mue)}}}},bue=(e,t)=>{const n=async(r,i)=>{Rl(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:r,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await j9(t,Promise.race(o));return Rl(t),l}finally{a()}};return(r,i)=>M9(n(r,i))},z9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ai(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Mr(21));return FC(a),{predicate:i,type:t,effect:a}},U9=Ac(e=>{const{type:t,predicate:n,effect:r}=z9(e);return{id:iue(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Mr(22))}}},{withTypes:()=>U9}),sR=(e,t)=>{const{type:n,effect:r,predicate:i}=z9(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},GE=e=>{e.pending.forEach(t=>{t.abort(qE)})},xue=(e,t)=>()=>{for(const n of t.keys())GE(n);e.clear()},oR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},V9=Ac(ai(`${ib}/add`),{withTypes:()=>V9}),wue=ai(`${ib}/removeAll`),B9=Ac(ai(`${ib}/remove`),{withTypes:()=>B9}),Eue=(...e)=>{console.error(`${ib}/error`,...e)},nm=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},i=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:a,onError:s=Eue}=e;FC(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&GE(p)}),l=p=>{const m=sR(t,p)??U9(p);return o(m)};Ac(l,{withTypes:()=>l});const u=p=>{const m=sR(t,p);return m&&(m.unsubscribe(),p.cancelActive&&GE(m)),!!m};Ac(u,{withTypes:()=>u});const c=async(p,m,g,_)=>{const y=new AbortController,x=bue(l,y.signal),E=[];try{p.pending.add(y),r(p),await Promise.resolve(p.effect(m,Ac({},g,{getOriginalState:_,condition:(S,P)=>x(S,P).then(Boolean),take:x,delay:L9(y.signal),pause:Jv(y.signal),extra:a,signal:y.signal,fork:_ue(y.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((S,P,M)=>{S!==y&&(S.abort(qE),M.delete(S))})},cancel:()=>{y.abort(qE),p.pending.delete(y)},throwIfCancelled:()=>{Rl(y.signal)}})))}catch(S){S instanceof rb||oR(s,S,{raisedBy:"effect"})}finally{await Promise.all(E),y.abort(yue),i(p),p.pending.delete(y)}},f=xue(t,n);return{middleware:p=>m=>g=>{if(!g9(g))return m(g);if(V9.match(g))return l(g.payload);if(wue.match(g)){f();return}if(B9.match(g))return u(g.payload);let _=p.getState();const y=()=>{if(_===aR)throw new Error(Mr(23));return _};let x;try{if(x=m(g),t.size>0){const E=p.getState(),S=Array.from(t.values());for(const P of S){let M=!1;try{M=P.predicate(g,E,_)}catch(T){M=!1,oR(s,T,{raisedBy:"predicate"})}M&&c(P,g,p,y)}}}finally{_=aR}return x},startListening:l,stopListening:u,clearListeners:f}};function Mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Sue={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$9=gr({name:"chartLayout",initialState:Sue,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Tue,setLayout:Aue,setChartSize:Cue,setScale:Nue}=$9.actions,Iue=$9.reducer;function F9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ze(e){return Number.isFinite(e)}function ma(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){Oue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oue(e,t,n){return(t=Pue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pue(e){var t=kue(e,"string");return typeof t=="symbol"?t:t+""}function kue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t,n){return hn(e)||hn(t)?n:pa(t)?Zc(e,t,n):typeof t=="function"?t(e):n}var Rue=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&le(e[a]))return lc(lc({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&le(e[s]))return lc(lc({},e),{},{[s]:e[s]+(i||0)})}return e},Wo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",H9=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},q9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:d,axisType:p}=e;if(!s)return null;var m=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?or(a[0]-a[1])*2*g:g,f||d){var _=(f||d||[]).map((y,x)=>{var E=r?r.indexOf(y):y,S=s.map(E);return ze(S)?{coordinate:S+g,value:y,offset:g,index:x}:null}).filter(lr);return _}return l&&u?u.map((y,x)=>{var E=s.map(y);return ze(E)?{coordinate:E+g,value:y,index:x,offset:g}:null}).filter(lr):s.ticks&&c!=null?s.ticks(c).map((y,x)=>{var E=s.map(y);return ze(E)?{coordinate:E+g,value:y,index:x,offset:g}:null}).filter(lr):s.domain().map((y,x)=>{var E=s.map(y);return ze(E)?{coordinate:E+g,value:r?r[y]:y,index:x,offset:g}:null}).filter(lr)},Mue=(e,t)=>{if(!t||t.length!==2||!le(t[0])||!le(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(i[0]=n),(!le(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Due=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],f=u[0],d=ha(c)?f:c;d>=0?(u[0]=a,a+=d,u[1]=a):(u[0]=s,s+=d,u[1]=s)}}}},jue=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=ha(l[1])?l[0]:l[1];u>=0?(l[0]=a,a+=u,l[1]=a):(l[0]=0,l[1]=0)}}}},Lue={sign:Due,expand:moe,none:Xl,silhouette:goe,wiggle:yoe,positive:jue},zue=(e,t,n)=>{var r,i=(r=Lue[n])!==null&&r!==void 0?r:Xl,a=poe().keys(t).value((o,l)=>Number(Rn(o,l,0))).order(DE).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var f=Rn(e[c],t[l],0);Array.isArray(f)&&f.length===2&&le(f[0])&&le(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function Uue(e){return e==null?void 0:String(e)}var uR=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var o=Rn(a,t.dataKey,t.scale.domain()[s]);if(hn(o))return null;var l=t.scale.map(o);return le(l)?l-i/2+r:null},Vue=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Bue=e=>{var t=e.flat(2).filter(le);return[Math.min(...t),Math.max(...t)]},$ue=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Fue=(e,t,n)=>{if(e!=null)return $ue(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=F9(u,t,n),f=Bue(c);return!ze(f[0])||!ze(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},cR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e0=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=W_(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function dR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return lc(lc({},t),{},{dataKey:n,payload:r,value:i,name:a})}function G9(e,t){if(e)return String(e);if(typeof t=="string")return t}var Hue=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},que=(e,t)=>t==="centric"?e.angle:e.radius,ws=e=>e.layout.width,Es=e=>e.layout.height,Gue=e=>e.layout.scale,K9=e=>e.layout.margin,ab=H(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sb=H(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Kue="data-recharts-item-index",Yue="data-recharts-item-id",rm=60;function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){Wue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wue(e,t,n){return(t=Xue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xue(e){var t=Que(e,"string");return typeof t=="symbol"?t:t+""}function Que(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zue=e=>e.brush.height;function Jue(e){var t=sb(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:rm;return n+i}return n},0)}function ece(e){var t=sb(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:rm;return n+i}return n},0)}function tce(e){var t=ab(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function nce(e){var t=ab(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var pn=H([ws,Es,K9,Zue,Jue,ece,tce,nce,d9,Ale],(e,t,n,r,i,a,s,o,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},d=bg(bg({},f),c),p=d.bottom;d.bottom+=r,d=Rue(d,l,u);var m=e-d.left-d.right,g=t-d.top-d.bottom;return bg(bg({brushBottom:p},d),{},{width:Math.max(m,0),height:Math.max(g,0)})}),rce=H(pn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),HC=H(ws,Es,(e,t)=>({x:0,y:0,width:e,height:t})),ice=v.createContext(null),yr=()=>v.useContext(ice)!=null,ob=e=>e.brush,lb=H([ob,pn,K9],(e,t,n)=>({height:e.height,x:le(e.x)?e.x:t.left,y:le(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:le(e.width)?e.width:t.width})),Y9={},W9={},X9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&c(),g()};let d=null;const p=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,f()},r)},m=()=>{d!==null&&(clearTimeout(d),d=null)},g=()=>{m(),s=void 0,o=null},_=()=>{c()},y=function(...x){if(i!=null&&i.aborted)return;s=this,o=x;const E=d==null;p(),l&&E&&c()};return y.schedule=p,y.cancel=g,y.flush=_,i==null||i.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(X9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X9;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,f=null;const d=t.debounce(function(...g){c=r.apply(this,g),f=null},i,{edges:u}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(c=r.apply(this,g),f=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,g),c)},m=()=>(d.flush(),c);return p.cancel=d.cancel,p.flush=m,p}e.debounce=n})(W9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W9;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(Y9);var ace=Y9.throttle;const sce=ya(ace);var t0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},na={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},Q9=(e,t,n)=>{var{width:r=na.width,height:i=na.height,aspect:a,maxHeight:s}=n,o=Ql(r)?e:Number(r),l=Ql(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},oce={width:0,height:0,overflow:"visible"},lce={width:0,overflowX:"visible"},uce={height:0,overflowY:"visible"},cce={},fce=e=>{var{width:t,height:n}=e,r=Ql(t),i=Ql(n);return r&&i?oce:r?lce:i?uce:cce};function dce(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=na.width,a=na.height):i===void 0?i=r&&r>0?void 0:na.width:a===void 0&&(a=r&&r>0?void 0:na.height),{width:i,height:a}}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KE.apply(null,arguments)}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){hce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hce(e,t,n){return(t=pce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pce(e){var t=mce(e,"string");return typeof t=="symbol"?t:t+""}function mce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z9=v.createContext(na.initialDimension);function gce(e){return ma(e.width)&&ma(e.height)}function J9(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return gce(i)?v.createElement(Z9.Provider,{value:i},t):null}var qC=()=>v.useContext(Z9),yce=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=na.initialDimension,width:i,height:a,minWidth:s=na.minWidth,minHeight:o,maxHeight:l,children:u,debounce:c=na.debounce,id:f,className:d,onResize:p,style:m={}}=e,g=v.useRef(null),_=v.useRef();_.current=p,v.useImperativeHandle(t,()=>g.current);var[y,x]=v.useState({containerWidth:r.width,containerHeight:r.height}),E=v.useCallback((A,C)=>{x(I=>{var O=Math.round(A),k=Math.round(C);return I.containerWidth===O&&I.containerHeight===k?I:{containerWidth:O,containerHeight:k}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Rf;var A=k=>{var R,D=k[0];if(D!=null){var{width:z,height:L}=D.contentRect;E(z,L),(R=_.current)===null||R===void 0||R.call(_,z,L)}};c>0&&(A=sce(A,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(A),{width:I,height:O}=g.current.getBoundingClientRect();return E(I,O),C.observe(g.current),()=>{C.disconnect()}},[E,c]);var{containerWidth:S,containerHeight:P}=y;t0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:T}=Q9(S,P,{width:i,height:a,aspect:n,maxHeight:l});return t0(M!=null&&M>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,T,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:ut("recharts-responsive-container",d),style:mR(mR({},m),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:fce({width:i,height:a})},v.createElement(J9,{width:M,height:T},u)))}),vce=v.forwardRef((e,t)=>{var n=qC();if(ma(n.width)&&ma(n.height))return e.children;var{width:r,height:i}=dce({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=Q9(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return le(a)&&le(s)?v.createElement(J9,{width:a,height:s},e.children):v.createElement(yce,KE({},e,{width:r,height:i,ref:t}))});function GC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ub=()=>{var e,t=yr(),n=de(rce),r=de(lb),i=(e=de(ob))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_ce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eB=()=>{var e;return(e=de(pn))!==null&&e!==void 0?e:_ce},KC=()=>de(ws),YC=()=>de(Es),bce=()=>de(e=>e.layout.margin),rt=e=>e.layout.layoutType,Mf=()=>de(rt),tB=()=>{var e=Mf();if(e==="horizontal"||e==="vertical")return e},nB=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},xce=()=>{var e=Mf();return e!==void 0},im=e=>{var t=Tt(),n=yr(),{width:r,height:i}=e,a=qC(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&ma(s)&&ma(o)&&t(Cue({width:s,height:o}))},[t,n,s,o]),null},rB=Symbol.for("immer-nothing"),gR=Symbol.for("immer-draftable"),Lr=Symbol.for("immer-state");function bi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sp=Object.getPrototypeOf;function tf(e){return!!e&&!!e[Lr]}function Jl(e){var t;return e?iB(e)||Array.isArray(e)||!!e[gR]||!!((t=e.constructor)!=null&&t[gR])||am(e)||fb(e):!1}var wce=Object.prototype.constructor.toString(),yR=new WeakMap;function iB(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=yR.get(n);return r===void 0&&(r=Function.toString.call(n),yR.set(n,r)),r===wce}function n0(e,t,n=!0){cb(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function cb(e){const t=e[Lr];return t?t.type_:Array.isArray(e)?1:am(e)?2:fb(e)?3:0}function YE(e,t){return cb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aB(e,t,n){const r=cb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Ece(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function am(e){return e instanceof Map}function fb(e){return e instanceof Set}function ml(e){return e.copy_||e.base_}function WE(e,t){if(am(e))return new Map(e);if(fb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=iB(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Lr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(sp(e),r)}else{const r=sp(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function WC(e,t=!1){return db(e)||tf(e)||!Jl(e)||(cb(e)>1&&Object.defineProperties(e,{set:xg,add:xg,clear:xg,delete:xg}),Object.freeze(e),t&&Object.values(e).forEach(n=>WC(n,!0))),e}function Sce(){bi(2)}var xg={value:Sce};function db(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Tce={};function eu(e){const t=Tce[e];return t||bi(0,e),t}var op;function sB(){return op}function Ace(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vR(e,t){t&&(eu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function XE(e){QE(e),e.drafts_.forEach(Cce),e.drafts_=null}function QE(e){e===op&&(op=e.parent_)}function _R(e){return op=Ace(op,e)}function Cce(e){const t=e[Lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Lr].modified_&&(XE(t),bi(4)),Jl(e)&&(e=r0(t,e),t.parent_||i0(t,e)),t.patches_&&eu("Patches").generateReplacementPatches_(n[Lr].base_,e,t.patches_,t.inversePatches_)):e=r0(t,n,[]),XE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rB?e:void 0}function r0(e,t,n){if(db(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Lr];if(!i)return n0(t,(a,s)=>xR(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return i0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),n0(s,(l,u)=>xR(e,i,a,l,u,n,o),r),i0(e,a,!1),n&&e.patches_&&eu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function xR(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=db(i);if(!(o&&!s)){if(tf(i)){const l=a&&t&&t.type_!==3&&!YE(t.assigned_,r)?a.concat(r):void 0,u=r0(e,i,l);if(aB(n,r,u),tf(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Jl(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;r0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(am(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&i0(e,i)}}}function i0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&WC(t,n)}function Nce(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:sB(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=XC;n&&(i=[r],a=lp);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var XC={get(e,t){if(t===Lr)return e;const n=ml(e);if(!YE(n,t))return Ice(e,n,t);const r=n[t];return e.finalized_||!Jl(r)?r:r===xw(e.base_,t)?(ww(e),e.copy_[t]=JE(r,e)):r},has(e,t){return t in ml(e)},ownKeys(e){return Reflect.ownKeys(ml(e))},set(e,t,n){const r=oB(ml(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=xw(ml(e),t),a=i==null?void 0:i[Lr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Ece(n,i)&&(n!==void 0||YE(e.base_,t)))return!0;ww(e),ZE(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ww(e),ZE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ml(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){bi(11)},getPrototypeOf(e){return sp(e.base_)},setPrototypeOf(){bi(12)}},lp={};n0(XC,(e,t)=>{lp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lp.deleteProperty=function(e,t){return lp.set.call(this,e,t,void 0)};lp.set=function(e,t,n){return XC.set.call(this,e[0],t,n,e[0])};function xw(e,t){const n=e[Lr];return(n?ml(n):e)[t]}function Ice(e,t,n){var i;const r=oB(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function oB(e,t){if(!(t in e))return;let n=sp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sp(n)}}function ZE(e){e.modified_||(e.modified_=!0,e.parent_&&ZE(e.parent_))}function ww(e){e.copy_||(e.copy_=WE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Oce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&bi(6),r!==void 0&&typeof r!="function"&&bi(7);let i;if(Jl(t)){const a=_R(this),s=JE(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?XE(a):QE(a)}return vR(a,r),bR(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===rB&&(i=void 0),this.autoFreeze_&&WC(i,!0),r){const a=[],s=[];eu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else bi(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jl(e)||bi(8),tf(e)&&(e=Pce(e));const t=_R(this),n=JE(e,void 0);return n[Lr].isManual_=!0,QE(t),n}finishDraft(e,t){const n=e&&e[Lr];(!n||!n.isManual_)&&bi(9);const{scope_:r}=n;return vR(r,t),bR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=eu("Patches").applyPatches_;return tf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function JE(e,t){const n=am(e)?eu("MapSet").proxyMap_(e,t):fb(e)?eu("MapSet").proxySet_(e,t):Nce(e,t);return(t?t.scope_:sB()).drafts_.push(n),n}function Pce(e){return tf(e)||bi(10,e),lB(e)}function lB(e){if(!Jl(e)||db(e))return e;const t=e[Lr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=WE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=WE(e,!0);return n0(n,(i,a)=>{aB(n,i,lB(a))},r),t&&(t.finalized_=!1),n}var kce=new Oce;kce.produce;var Rce={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},uB=gr({name:"legend",initialState:Rce,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_t()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ni(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:_t()},removeLegendPayload:{reducer(e,t){var n=Ni(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:_t()}}}),{setLegendSize:wR,setLegendSettings:Mce,addLegendPayload:Dce,replaceLegendPayload:jce,removeLegendPayload:Lce}=uB.actions,zce=uB.reducer,Uce=["contextPayload"];function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eS.apply(null,arguments)}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){Vce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vce(e,t,n){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bce(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fce(e,t){if(e==null)return{};var n,r,i=Hce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qce(e){return e.value}function Gce(e){var{contextPayload:t}=e,n=Fce(e,Uce),r=e9(t,e.payloadUniqBy,qce),i=nf(nf({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(qoe,i)}function Kce(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),nf(nf({},u),c)}function Yce(e){var t=Tt();return v.useEffect(()=>{t(Mce(e))},[t,e]),null}function Wce(e){var t=Tt();return v.useEffect(()=>(t(wR(e)),()=>{t(wR({width:0,height:0}))}),[t,e]),null}function Xce(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var Qce={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function cB(e){var t=Zn(e,Qce),n=Ile(),r=zse(),i=bce(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=h9([n]),f=KC(),d=YC();if(f==null||d==null)return null;var p=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),m=Xce(t.layout,s,a,p),g=l?o:nf(nf({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||s||"auto"},Kce(o,t,i,f,d,u)),o),_=l??r;if(_==null||n==null)return null;var y=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},v.createElement(Yce,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(Wce,{width:u.width,height:u.height}),v.createElement(Gce,eS({},t,m,{margin:i,chartWidth:f,chartHeight:d,contextPayload:n})));return $0.createPortal(y,_)}cB.displayName="Legend";function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tS.apply(null,arguments)}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(r){Zce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zce(e,t,n){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jce(e){var t=efe(e,"string");return typeof t=="symbol"?t:t+""}function efe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tfe(e){return Array.isArray(e)&&pa(e[0])&&pa(e[1])?e.join(" ~ "):e}var Ru={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},nfe=e=>{var{separator:t=Ru.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ru.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:d=Ru.accessibilityLayer}=e,p=()=>{if(a&&a.length){var P={padding:0,margin:0},M=(o?W_(a,o):a).map((T,A)=>{if(T.type==="none")return null;var C=T.formatter||s||tfe,{value:I,name:O}=T,k=I,R=O;if(C){var D=C(I,O,T,A,a);if(Array.isArray(D))[k,R]=D;else if(D!=null)k=D;else return null}var z=vd(vd({},Ru.itemStyle),{},{color:T.color||Ru.itemStyle.color},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:z},pa(R)?v.createElement("span",{className:"recharts-tooltip-item-name"},R):null,pa(R)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},k),v.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},m=vd(vd({},Ru.contentStyle),n),g=vd({margin:0},i),_=!hn(c),y=_?c:"",x=ut("recharts-default-tooltip",l),E=ut("recharts-tooltip-label",u);_&&f&&a!==void 0&&a!==null&&(y=f(c,a));var S=d?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",tS({className:x,style:m},S),v.createElement("p",{className:E,style:g},v.isValidElement(y)?y:"".concat(y)),p())},_d="recharts-tooltip-wrapper",rfe={visibility:"hidden"};function ife(e){var{coordinate:t,translateX:n,translateY:r}=e;return ut(_d,{["".concat(_d,"-right")]:le(n)&&t&&le(t.x)&&n>=t.x,["".concat(_d,"-left")]:le(n)&&t&&le(t.x)&&n<t.x,["".concat(_d,"-bottom")]:le(r)&&t&&le(t.y)&&r>=t.y,["".concat(_d,"-top")]:le(r)&&t&&le(t.y)&&r<t.y})}function TR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&le(a[r]))return a[r];var c=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?c:f;var d=l[r];if(d==null)return 0;if(s[r]){var p=c,m=d;return p<m?Math.max(f,d):Math.max(c,d)}if(u==null)return 0;var g=f+o,_=d+u;return g>_?Math.max(c,d):Math.max(f,d)}function afe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function sfe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,c,f,d;return o.height>0&&o.width>0&&n?(f=TR({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),d=TR({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),c=afe({translateX:f,translateY:d,useTranslate3d:l})):c=rfe,{cssProperties:c,cssClasses:ife({translateX:f,translateY:d,coordinate:n})}}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){nS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nS(e,t,n){return(t=ofe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ofe(e){var t=lfe(e,"string");return typeof t=="symbol"?t:t+""}function lfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ufe extends v.PureComponent{constructor(){super(...arguments),nS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),nS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:d,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:_,hasPortalFromProps:y}=this.props,x=typeof u=="number"?u:u.x,E=typeof u=="number"?u:u.y,{cssClasses:S,cssProperties:P}=sfe({allowEscapeViewBox:n,coordinate:s,offsetLeft:x,offsetTop:E,position:c,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:d,viewBox:p}),M=y?{}:wg(wg({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=wg(wg({},M),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:T,ref:_},a)}}var fB=()=>{var e;return(e=de(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rS.apply(null,arguments)}function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){cfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cfe(e,t,n){return(t=ffe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ffe(e){var t=dfe(e,"string");return typeof t=="symbol"?t:t+""}function dfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR={curveBasisClosed:roe,curveBasisOpen:ioe,curveBasis:noe,curveBumpX:$se,curveBumpY:Fse,curveLinearClosed:aoe,curveLinear:V_,curveMonotoneX:soe,curveMonotoneY:ooe,curveNatural:loe,curveStep:uoe,curveStepAfter:foe,curveStepBefore:coe},a0=e=>ze(e.x)&&ze(e.y),OR=e=>e.base!=null&&a0(e.base)&&a0(e),bd=e=>e.x,xd=e=>e.y,hfe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(em(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=IR["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return IR[n]||V_},PR={connectNulls:!1,type:"linear"},pfe=e=>{var{type:t=PR.type,points:n=[],baseLine:r,layout:i,connectNulls:a=PR.connectNulls}=e,s=hfe(t,i),o=a?n.filter(a0):n;if(Array.isArray(r)){var l,u=n.map((m,g)=>NR(NR({},m),{},{base:r[g]}));i==="vertical"?l=pg().y(xd).x1(bd).x0(m=>m.base.x):l=pg().x(bd).y1(xd).y0(m=>m.base.y);var c=l.defined(OR).curve(s),f=a?u.filter(OR):u;return c(f)}var d;i==="vertical"&&le(r)?d=pg().y(xd).x1(bd).x0(r):le(r)?d=pg().x(bd).y1(xd).y0(r):d=bV().x(bd).y(xd);var p=d.defined(a0).curve(s);return p(o)},dB=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Mf();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?pfe(s):r;return v.createElement("path",rS({},ss(e),koe(e),{className:ut("recharts-curve",t),d:o===null?void 0:o,ref:i}))},mfe=["x","y","top","left","width","height","className"];function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iS.apply(null,arguments)}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){yfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yfe(e,t,n){return(t=vfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vfe(e){var t=_fe(e,"string");return typeof t=="symbol"?t:t+""}function _fe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bfe(e,t){if(e==null)return{};var n,r,i=xfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wfe=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Efe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=bfe(e,mfe),u=gfe({x:t,y:n,top:r,left:i,width:a,height:s},l);return!le(t)||!le(n)||!le(a)||!le(s)||!le(r)||!le(i)?null:v.createElement("path",iS({},ii(u),{className:ut("recharts-cross",o),d:wfe(t,n,a,s,r,i)}))};function Sfe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(n),!0).forEach(function(r){Tfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tfe(e,t,n){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Afe(e){var t=Cfe(e,"string");return typeof t=="symbol"?t:t+""}function Cfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nfe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hB=(e,t,n)=>e.map(r=>"".concat(Nfe(r)," ").concat(t,"ms ").concat(n)).join(","),Ife=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),up=(e,t)=>Object.keys(t).reduce((n,r)=>MR(MR({},n),{},{[r]:e(r,t[r])}),{});function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){Ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ofe(e,t,n){return(t=Pfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pfe(e){var t=kfe(e,"string");return typeof t=="symbol"?t:t+""}function kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0=(e,t,n)=>e+(t-e)*n,aS=e=>{var{from:t,to:n}=e;return t!==n},pB=(e,t,n)=>{var r=up((i,a)=>{if(aS(a)){var[s,o]=e(a.from,a.to,a.velocity);return Kt(Kt({},a),{},{from:s,velocity:o})}return a},t);return n<1?up((i,a)=>aS(a)&&r[i]!=null?Kt(Kt({},a),{},{velocity:s0(a.velocity,r[i].velocity,n),from:s0(a.from,r[i].from,n)}):a,t):pB(e,r,n-1)};function Rfe(e,t,n,r,i,a){var s,o=r.reduce((d,p)=>Kt(Kt({},d),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>up((d,p)=>p.from,o),u=()=>!Object.values(o).filter(aS).length,c=null,f=d=>{s||(s=d);var p=d-s,m=p/n.dt;o=pB(n,o,m),i(Kt(Kt(Kt({},e),t),l())),s=d,u()||(c=a.setTimeout(f))};return()=>(c=a.setTimeout(f),()=>{var d;(d=c)===null||d===void 0||d()})}function Mfe(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,d)=>{var p=e[d],m=t[d];return p==null||m==null?f:Kt(Kt({},f),{},{[d]:[p,m]})},{}),u,c=f=>{u||(u=f);var d=(f-u)/r,p=up((g,_)=>s0(..._,n(d)),l);if(a(Kt(Kt(Kt({},e),t),p)),d<1)o=s.setTimeout(c);else{var m=up((g,_)=>s0(..._,n(1)),l);a(Kt(Kt(Kt({},e),t),m))}};return()=>(o=s.setTimeout(c),()=>{var f;(f=o)===null||f===void 0||f()})}const Dfe=(e,t,n,r,i,a)=>{var s=Ife(e,t);return n==null?()=>(i(Kt(Kt({},e),t)),()=>{}):n.isStepper===!0?Rfe(e,t,n,s,i,a):Mfe(e,t,n,r,s,i,a)};var o0=1e-4,mB=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gB=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),jR=(e,t)=>n=>{var r=mB(e,t);return gB(r,n)},jfe=(e,t)=>n=>{var r=mB(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return gB(i,n)},Lfe=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},zfe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Lfe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Ufe=(e,t,n,r)=>{var i=jR(e,n),a=jR(t,r),s=jfe(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,d=0;d<8;++d){var p=i(f)-c,m=s(f);if(Math.abs(p-c)<o0||m<o0)return a(f);f=o(f-p/m)}return a(f)};return l.isStepper=!1,l},LR=function(){return Ufe(...zfe(...arguments))},Vfe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,c=l*r,f=l+(u-c)*i/1e3,d=l*i/1e3+s;return Math.abs(d-o)<o0&&Math.abs(f)<o0?[o,0]:[d,f]};return a.isStepper=!0,a.dt=i,a},Bfe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LR(e);case"spring":return Vfe();default:if(e.split("(")[0]==="cubic-bezier")return LR(e)}return typeof e=="function"?e:null};function $fe(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Ffe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Hfe(){return $fe(new Ffe)}var qfe=v.createContext(Hfe);function Gfe(e,t){var n=v.useContext(qfe);return v.useMemo(()=>t??n(e),[e,t,n])}var Kfe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hb={isSsr:Kfe()},Yfe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},zR={t:0},Ew={t:1};function QC(e){var t=Zn(e,Yfe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=n==="auto"?!hb.isSsr:n,f=Gfe(t.animationId,t.animationManager),[d,p]=v.useState(c?zR:Ew),m=v.useRef(null);return v.useEffect(()=>{c||p(Ew)},[c]),v.useEffect(()=>{if(!c||!r)return Rf;var g=Dfe(zR,Ew,Bfe(a),i,p,f.getTimeoutController()),_=()=>{m.current=g()};return f.start([l,s,_,i,o]),()=>{f.stop(),m.current&&m.current(),o()}},[c,r,i,a,s,l,o,f]),u(d.t)}function ZC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(np(t)),r=v.useRef(e);return r.current!==e&&(n.current=np(t),r.current=e),n.current}var Wfe=["radius"],Xfe=["radius"],UR,VR,BR,$R,FR,HR,qR,GR,KR,YR;function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){Qfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qfe(e,t,n){return(t=Zfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zfe(e){var t=Jfe(e,"string");return typeof t=="symbol"?t:t+""}function Jfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(null,arguments)}function QR(e,t){if(e==null)return{};var n,r,i=ede(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ede(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZR=(e,t,n,r,i)=>{var a=uo(n),s=uo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&Array.isArray(i)){for(var d=[0,0,0,0],p=0,m=4;p<m;p++){var g,_=(g=i[p])!==null&&g!==void 0?g:0;d[p]=_>o?o:_}f=It(UR||(UR=Gi(["M",",",""])),e,t+l*d[0]),d[0]>0&&(f+=It(VR||(VR=Gi(["A ",",",",0,0,",",",",",""])),d[0],d[0],c,e+u*d[0],t)),f+=It(BR||(BR=Gi(["L ",",",""])),e+n-u*d[1],t),d[1]>0&&(f+=It($R||($R=Gi(["A ",",",",0,0,",`,
        `,",",""])),d[1],d[1],c,e+n,t+l*d[1])),f+=It(FR||(FR=Gi(["L ",",",""])),e+n,t+r-l*d[2]),d[2]>0&&(f+=It(HR||(HR=Gi(["A ",",",",0,0,",`,
        `,",",""])),d[2],d[2],c,e+n-u*d[2],t+r)),f+=It(qR||(qR=Gi(["L ",",",""])),e+u*d[3],t+r),d[3]>0&&(f+=It(GR||(GR=Gi(["A ",",",",0,0,",`,
        `,",",""])),d[3],d[3],c,e,t+r-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);f=It(KR||(KR=Gi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,c,e+u*y,t,e+n-u*y,t,y,y,c,e+n,t+l*y,e+n,t+r-l*y,y,y,c,e+n-u*y,t+r,e+u*y,t+r,y,y,c,e,t+r-l*y)}else f=It(YR||(YR=Gi(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},JR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yB=e=>{var t=Zn(e,JR),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:f,animationDuration:d,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,_=v.useRef(o),y=v.useRef(l),x=v.useRef(a),E=v.useRef(s),S=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),P=ZC(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var M=ut("recharts-rectangle",c);if(!g){var T=ii(t),{radius:A}=T,C=QR(T,Wfe);return v.createElement("path",l0({},C,{x:uo(a),y:uo(s),width:uo(o),height:uo(l),radius:typeof u=="number"?u:void 0,className:M,d:ZR(a,s,o,l,u)}))}var I=_.current,O=y.current,k=x.current,R=E.current,D="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),L=hB(["strokeDasharray"],d,typeof f=="string"?f:JR.animationEasing);return v.createElement(QC,{animationId:P,key:P,canBegin:r>0,duration:d,easing:f,isActive:g,begin:p},V=>{var B=Tn(I,o,V),U=Tn(O,l,V),F=Tn(k,a,V),Y=Tn(R,s,V);n.current&&(_.current=B,y.current=U,x.current=F,E.current=Y);var X;m?V>0?X={transition:L,strokeDasharray:z}:X={strokeDasharray:D}:X={strokeDasharray:z};var re=ii(t),{radius:ee}=re,se=QR(re,Xfe);return v.createElement("path",l0({},se,{radius:typeof u=="number"?u:void 0,className:M,d:ZR(F,Y,B,U,u),ref:n,style:XR(XR({},X),t.style)}))})};function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(r){tde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tde(e,t,n){return(t=nde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nde(e){var t=rde(e,"string");return typeof t=="symbol"?t:t+""}function rde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u0=Math.PI/180,ide=e=>e*180/Math.PI,On=(e,t,n,r)=>({x:e+Math.cos(-u0*r)*n,y:t+Math.sin(-u0*r)*n}),ade=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},sde=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},ode=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=sde({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:ide(l),angleInRadian:l}},lde=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},ude=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},cde=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=ode({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=lde(t),c=a,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?tM(tM({},t),{},{radius:i,angle:ude(c,t)}):null};function vB(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=On(t,n,r,i),o=On(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var nM,rM,iM,aM,sM,oM,lM;function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sS.apply(null,arguments)}function xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fde=(e,t)=>{var n=or(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Eg=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,c=Math.asin(o/u)/u0,f=l?i:i+a*c,d=On(t,n,u,f),p=On(t,n,r,f),m=l?i-a*c:i,g=On(t,n,u*Math.cos(c*u0),m);return{center:d,circleTangency:p,lineTangency:g,theta:c}},_B=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=fde(a,s),l=a+o,u=On(t,n,i,a),c=On(t,n,i,l),f=It(nM||(nM=xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(r>0){var d=On(t,n,r,a),p=On(t,n,r,l);f+=It(rM||(rM=xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(o)>180),+(a<=l),d.x,d.y)}else f+=It(iM||(iM=xl(["L ",","," Z"])),t,n);return f},dde=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=or(u-l),{circleTangency:f,lineTangency:d,theta:p}=Eg({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:_}=Eg({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),y=o?Math.abs(l-u):Math.abs(l-u)-p-_;if(y<0)return s?It(aM||(aM=xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),d.x,d.y,a,a,a*2,a,a,-a*2):_B({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x=It(sM||(sM=xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),d.x,d.y,a,a,+(c<0),f.x,f.y,i,i,+(y>180),+(c<0),m.x,m.y,a,a,+(c<0),g.x,g.y);if(r>0){var{circleTangency:E,lineTangency:S,theta:P}=Eg({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:M,lineTangency:T,theta:A}=Eg({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(l-u):Math.abs(l-u)-P-A;if(C<0&&a===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=It(oM||(oM=xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,a,a,+(c<0),M.x,M.y,r,r,+(C>180),+(c>0),E.x,E.y,a,a,+(c<0),S.x,S.y)}else x+=It(lM||(lM=xl(["L",",","Z"])),t,n);return x},hde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bB=e=>{var t=Zn(e,hde),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=t;if(a<i||u===c)return null;var d=ut("recharts-sector",f),p=a-i,m=ki(s,p,0,!0),g;return m>0&&Math.abs(u-c)<360?g=dde({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):g=_B({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),v.createElement("path",sS({},ii(t),{className:d,d:g}))};function pde(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(DV(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=On(r,i,a,o),u=On(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return vB(t)}}var xB={},wB={},EB={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jC;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(EB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EB;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(wB);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC,n=wB;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(xB);var mde=xB.range;const SB=ya(mde);function To(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gde(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JC(e){let t,n,r;e.length!==2?(t=To,n=(o,l)=>To(e(o),l),r=(o,l)=>e(o)-l):(t=e===To||e===gde?e:yde,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function yde(){return 0}function TB(e){return e===null?NaN:+e}function*vde(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const _de=JC(To),sm=_de.right;JC(TB).center;class uM extends Map{constructor(t,n=wde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(cM(this,t))}has(t){return super.has(cM(this,t))}set(t,n){return super.set(bde(this,t),n)}delete(t){return super.delete(xde(this,t))}}function cM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function bde({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function xde({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function wde(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ede(e=To){if(e===To)return AB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function AB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Sde=Math.sqrt(50),Tde=Math.sqrt(10),Ade=Math.sqrt(2);function c0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Sde?10:a>=Tde?5:a>=Ade?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?c0(e,t,n*2):[o,l,u]}function oS(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?c0(t,e,n):c0(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function lS(e,t,n){return t=+t,e=+e,n=+n,c0(e,t,n)[2]}function uS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?lS(t,e,n):lS(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function fM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function dM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function CB(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?AB:Ede(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+d)),m=Math.min(r,Math.floor(t+(l-u)*f/l+d));CB(e,t,p,m,i)}const a=e[t];let s=n,o=r;for(wd(e,n,t),i(e[r],a)>0&&wd(e,n,r);s<o;){for(wd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?wd(e,n,o):(++o,wd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function wd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Cde(e,t,n){if(e=Float64Array.from(vde(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return dM(e);if(t>=1)return fM(e);var r,i=(r-1)*t,a=Math.floor(i),s=fM(CB(e,a).subarray(0,a+1)),o=dM(e.subarray(a+1));return s+(o-s)*(i-a)}}function Nde(e,t,n=TB){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Ide(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function oi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ss(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cS=Symbol("implicit");function eN(){var e=new uM,t=[],n=[],r=cS;function i(a){let s=e.get(a);if(s===void 0){if(r!==cS)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new uM;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eN(t,n).unknown(r)},oi.apply(i,arguments),i}function tN(){var e=eN().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,d-l+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(d-l))*c,s=a*(1-l),o&&(m=Math.round(m),s=Math.round(s));var _=Ide(d).map(function(y){return m+a*y});return n(p?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(d){return arguments.length?(o=!!d,f()):o},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return tN(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},oi.apply(f(),arguments)}function NB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return NB(t())},e}function Ode(){return NB(tN.apply(null,arguments).paddingInner(1))}function nN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function IB(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function om(){}var cp=.7,f0=1/cp,Cc="\\s*([+-]?\\d+)\\s*",fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pde=/^#([0-9a-f]{3,8})$/,kde=new RegExp(`^rgb\\(${Cc},${Cc},${Cc}\\)$`),Rde=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),Mde=new RegExp(`^rgba\\(${Cc},${Cc},${Cc},${fp}\\)$`),Dde=new RegExp(`^rgba\\(${ua},${ua},${ua},${fp}\\)$`),jde=new RegExp(`^hsl\\(${fp},${ua},${ua}\\)$`),Lde=new RegExp(`^hsla\\(${fp},${ua},${ua},${fp}\\)$`),hM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nN(om,tu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pM,formatHex:pM,formatHex8:zde,formatHsl:Ude,formatRgb:mM,toString:mM});function pM(){return this.rgb().formatHex()}function zde(){return this.rgb().formatHex8()}function Ude(){return OB(this).formatHsl()}function mM(){return this.rgb().formatRgb()}function tu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pde.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gM(t):n===3?new ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kde.exec(e))?new ur(t[1],t[2],t[3],1):(t=Rde.exec(e))?new ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mde.exec(e))?Sg(t[1],t[2],t[3],t[4]):(t=Dde.exec(e))?Sg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jde.exec(e))?_M(t[1],t[2]/100,t[3]/100,1):(t=Lde.exec(e))?_M(t[1],t[2]/100,t[3]/100,t[4]):hM.hasOwnProperty(e)?gM(hM[e]):e==="transparent"?new ur(NaN,NaN,NaN,0):null}function gM(e){return new ur(e>>16&255,e>>8&255,e&255,1)}function Sg(e,t,n,r){return r<=0&&(e=t=n=NaN),new ur(e,t,n,r)}function Vde(e){return e instanceof om||(e=tu(e)),e?(e=e.rgb(),new ur(e.r,e.g,e.b,e.opacity)):new ur}function fS(e,t,n,r){return arguments.length===1?Vde(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nN(ur,fS,IB(om,{brighter(e){return e=e==null?f0:Math.pow(f0,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cp:Math.pow(cp,e),new ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ur(Ml(this.r),Ml(this.g),Ml(this.b),d0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yM,formatHex:yM,formatHex8:Bde,formatRgb:vM,toString:vM}));function yM(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function Bde(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function vM(){const e=d0(this.opacity);return`${e===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${e===1?")":`, ${e})`}`}function d0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wl(e){return e=Ml(e),(e<16?"0":"")+e.toString(16)}function _M(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xi(e,t,n,r)}function OB(e){if(e instanceof xi)return new xi(e.h,e.s,e.l,e.opacity);if(e instanceof om||(e=tu(e)),!e)return new xi;if(e instanceof xi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new xi(s,o,l,e.opacity)}function $de(e,t,n,r){return arguments.length===1?OB(e):new xi(e,t,n,r??1)}function xi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nN(xi,$de,IB(om,{brighter(e){return e=e==null?f0:Math.pow(f0,e),new xi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cp:Math.pow(cp,e),new xi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ur(Sw(e>=240?e-240:e+120,i,r),Sw(e,i,r),Sw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xi(bM(this.h),Tg(this.s),Tg(this.l),d0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=d0(this.opacity);return`${e===1?"hsl(":"hsla("}${bM(this.h)}, ${Tg(this.s)*100}%, ${Tg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bM(e){return e=(e||0)%360,e<0?e+360:e}function Tg(e){return Math.max(0,Math.min(1,e||0))}function Sw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rN=e=>()=>e;function Fde(e,t){return function(n){return e+n*t}}function Hde(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qde(e){return(e=+e)==1?PB:function(t,n){return n-t?Hde(t,n,e):rN(isNaN(t)?n:t)}}function PB(e,t){var n=t-e;return n?Fde(e,n):rN(isNaN(e)?t:e)}const h0=function e(t){var n=qde(t);function r(i,a){var s=n((i=fS(i)).r,(a=fS(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=PB(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Gde(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Kde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yde(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Df(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Wde(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xde(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Df(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var dS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tw=new RegExp(dS.source,"g");function Qde(e){return function(){return e}}function Zde(e){return function(t){return e(t)+""}}function kB(e,t){var n=dS.lastIndex=Tw.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=dS.exec(e))&&(i=Tw.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:gi(r,i)})),n=Tw.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?Zde(l[0].x):Qde(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Df(e,t){var n=typeof t,r;return t==null||n==="boolean"?rN(t):(n==="number"?gi:n==="string"?(r=tu(t))?(t=r,h0):kB:t instanceof tu?h0:t instanceof Date?Wde:Kde(t)?Gde:Array.isArray(t)?Yde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xde:gi)(e,t)}function iN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var xM=180/Math.PI,hS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RB(e,t,n,r,i,a){var s,o,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*xM,skewX:Math.atan(l)*xM,scaleX:s,scaleY:o}}var Ag;function Jde(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hS:RB(t.a,t.b,t.c,t.d,t.e,t.f)}function ehe(e){return e==null||(Ag||(Ag=document.createElementNS("http://www.w3.org/2000/svg","g")),Ag.setAttribute("transform",e),!(e=Ag.transform.baseVal.consolidate()))?hS:(e=e.matrix,RB(e.a,e.b,e.c,e.d,e.e,e.f))}function MB(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push("translate(",null,t,null,n);m.push({i:g-4,x:gi(u,f)},{i:g-2,x:gi(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function s(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:gi(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:gi(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,p,m){if(u!==f||c!==d){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:gi(u,f)},{i:g-2,x:gi(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,d),s(u.rotate,c.rotate,f,d),o(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var m=-1,g=d.length,_;++m<g;)f[(_=d[m]).i]=_.x(p);return f.join("")}}}var the=MB(Jde,"px, ","px)","deg)"),nhe=MB(ehe,", ",")",")"),rhe=1e-12;function wM(e){return((e=Math.exp(e))+1/e)/2}function ihe(e){return((e=Math.exp(e))-1/e)/2}function ahe(e){return((e=Math.exp(2*e))-1)/(e+1)}const she=function e(t,n,r){function i(a,s){var o=a[0],l=a[1],u=a[2],c=s[0],f=s[1],d=s[2],p=c-o,m=f-l,g=p*p+m*m,_,y;if(g<rhe)y=Math.log(d/u)/t,_=function(T){return[o+T*p,l+T*m,u*Math.exp(t*T*y)]};else{var x=Math.sqrt(g),E=(d*d-u*u+r*g)/(2*u*n*x),S=(d*d-u*u-r*g)/(2*d*n*x),P=Math.log(Math.sqrt(E*E+1)-E),M=Math.log(Math.sqrt(S*S+1)-S);y=(M-P)/t,_=function(T){var A=T*y,C=wM(P),I=u/(n*x)*(C*ahe(t*A+P)-ihe(P));return[o+I*p,l+I*m,u*C/wM(t*A+P)]}}return _.duration=y*1e3*t/Math.SQRT2,_}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,l=o*o;return e(s,o,l)},i}(Math.SQRT2,2,4);function ohe(e,t){t===void 0&&(t=e,e=Df);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function lhe(e){return function(){return e}}function p0(e){return+e}var EM=[0,1];function Yn(e){return e}function pS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lhe(isNaN(t)?NaN:.5)}function uhe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function che(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=pS(i,r),a=n(s,a)):(r=pS(r,i),a=n(a,s)),function(o){return a(r(o))}}function fhe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=pS(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=sm(e,o,1,r)-1;return a[l](i[l](o))}}function lm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pb(){var e=EM,t=EM,n=Df,r,i,a,s=Yn,o,l,u;function c(){var d=Math.min(e.length,t.length);return s!==Yn&&(s=uhe(e[0],e[d-1])),o=d>2?fhe:che,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=o(t,e.map(r),gi)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,p0),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=iN,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Yn,c()):s!==Yn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,p){return r=d,i=p,c()}}function aN(){return pb()(Yn,Yn)}function dhe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function m0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rf(e){return e=m0(Math.abs(e)),e?e[1]:NaN}function hhe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function phe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dp(e){if(!(t=mhe.exec(e)))throw new Error("invalid format: "+e);var t;return new sN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dp.prototype=sN.prototype;function sN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ghe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var g0;function yhe(e,t){var n=m0(e,t);if(!n)return g0=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(g0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+m0(e,Math.max(0,t+a-1))[0]}function SM(e,t){var n=m0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dhe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SM(e*100,t),r:SM,s:yhe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AM(e){return e}var CM=Array.prototype.map,NM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vhe(e){var t=e.grouping===void 0||e.thousands===void 0?AM:hhe(CM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?AM:phe(CM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,d){f=dp(f);var p=f.fill,m=f.align,g=f.sign,_=f.symbol,y=f.zero,x=f.width,E=f.comma,S=f.precision,P=f.trim,M=f.type;M==="n"?(E=!0,M="g"):TM[M]||(S===void 0&&(S=12),P=!0,M="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var T=(d&&d.prefix!==void 0?d.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),A=(_==="$"?r:/[%p]/.test(M)?s:"")+(d&&d.suffix!==void 0?d.suffix:""),C=TM[M],I=/[defgprs%]/.test(M);S=S===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(k){var R=T,D=A,z,L,V;if(M==="c")D=C(k)+D,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?l:C(Math.abs(k),S),P&&(k=ghe(k)),B&&+k==0&&g!=="+"&&(B=!1),R=(B?g==="("?g:o:g==="-"||g==="("?"":g)+R,D=(M==="s"&&!isNaN(k)&&g0!==void 0?NM[8+g0/3]:"")+D+(B&&g==="("?")":""),I){for(z=-1,L=k.length;++z<L;)if(V=k.charCodeAt(z),48>V||V>57){D=(V===46?i+k.slice(z+1):k.slice(z))+D,k=k.slice(0,z);break}}}E&&!y&&(k=t(k,1/0));var U=R.length+k.length+D.length,F=U<x?new Array(x-U+1).join(p):"";switch(E&&y&&(k=t(F+k,F.length?x-D.length:1/0),F=""),m){case"<":k=R+k+D+F;break;case"=":k=R+F+k+D;break;case"^":k=F.slice(0,U=F.length>>1)+R+k+D+F.slice(U);break;default:k=F+R+k+D;break}return a(k)}return O.toString=function(){return f+""},O}function c(f,d){var p=Math.max(-8,Math.min(8,Math.floor(rf(d)/3)))*3,m=Math.pow(10,-p),g=u((f=dp(f),f.type="f",f),{suffix:NM[8+p/3]});return function(_){return g(m*_)}}return{format:u,formatPrefix:c}}var Cg,oN,DB;_he({thousands:",",grouping:[3],currency:["$",""]});function _he(e){return Cg=vhe(e),oN=Cg.format,DB=Cg.formatPrefix,Cg}function bhe(e){return Math.max(0,-rf(Math.abs(e)))}function xhe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rf(t)/3)))*3-rf(Math.abs(e)))}function whe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rf(t)-rf(e))+1}function jB(e,t,n,r){var i=uS(e,t,n),a;switch(r=dp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=xhe(i,s))&&(r.precision=a),DB(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=whe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=bhe(i))&&(r.precision=a-(r.type==="%")*2);break}}return oN(r)}function Xo(e){var t=e.domain;return e.ticks=function(n){var r=t();return oS(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jB(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=lS(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function LB(){var e=aN();return e.copy=function(){return lm(e,LB())},oi.apply(e,arguments),Xo(e)}function zB(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,p0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return zB(e).unknown(t)},e=arguments.length?Array.from(e,p0):[0,1],Xo(n)}function UB(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function IM(e){return Math.log(e)}function OM(e){return Math.exp(e)}function Ehe(e){return-Math.log(-e)}function She(e){return-Math.exp(-e)}function The(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ahe(e){return e===10?The:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Che(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PM(e){return(t,n)=>-e(-t,n)}function lN(e){const t=e(IM,OM),n=t.domain;let r=10,i,a;function s(){return i=Che(r),a=Ahe(r),n()[0]<0?(i=PM(i),a=PM(a),e(Ehe,She)):e(IM,OM),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const _=o==null?10:+o;let y=[];if(!(r%1)&&p-d<_){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/a(-d):m*a(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/a(-d):m*a(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<_&&(y=oS(u,c,_))}else y=oS(d,p,Math.min(p-d,_)).map(a);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=dp(l)).precision==null&&(l.trim=!0),l=oN(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(UB(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function VB(){const e=lN(pb()).domain([1,10]);return e.copy=()=>lm(e,VB()).base(e.base()),oi.apply(e,arguments),e}function kM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uN(e){var t=1,n=e(kM(t),RM(t));return n.constant=function(r){return arguments.length?e(kM(t=+r),RM(t)):t},Xo(n)}function BB(){var e=uN(pb());return e.copy=function(){return lm(e,BB()).constant(e.constant())},oi.apply(e,arguments)}function MM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ihe(e){return e<0?-e*e:e*e}function cN(e){var t=e(Yn,Yn),n=1;function r(){return n===1?e(Yn,Yn):n===.5?e(Nhe,Ihe):e(MM(n),MM(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Xo(t)}function fN(){var e=cN(pb());return e.copy=function(){return lm(e,fN()).exponent(e.exponent())},oi.apply(e,arguments),e}function Ohe(){return fN.apply(null,arguments).exponent(.5)}function DM(e){return Math.sign(e)*e*e}function Phe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $B(){var e=aN(),t=[0,1],n=!1,r;function i(a){var s=Phe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(DM(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,p0)).map(DM)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $B(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},oi.apply(i,arguments),Xo(i)}function FB(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Nde(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[sm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(To),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FB().domain(e).range(t).unknown(r)},oi.apply(a,arguments)}function HB(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[sm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return HB().domain([e,t]).range(i).unknown(a)},oi.apply(Xo(s),arguments)}function qB(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[sm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return qB().domain(e).range(t).unknown(n)},oi.apply(i,arguments)}const Aw=new Date,Cw=new Date;function Zt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Zt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Aw.setTime(+a),Cw.setTime(+s),e(Aw),e(Cw),Math.floor(n(Aw,Cw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const y0=Zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);y0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):y0);y0.range;const Va=1e3,Jr=Va*60,Ba=Jr*60,us=Ba*24,dN=us*7,jM=us*30,Nw=us*365,El=Zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCSeconds());El.range;const hN=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());hN.range;const pN=Zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());pN.range;const mN=Zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getHours());mN.range;const gN=Zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCHours());gN.range;const um=Zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/us,e=>e.getDate()-1);um.range;const mb=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/us,e=>e.getUTCDate()-1);mb.range;const GB=Zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/us,e=>Math.floor(e/us));GB.range;function yu(e){return Zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/dN)}const gb=yu(0),v0=yu(1),khe=yu(2),Rhe=yu(3),af=yu(4),Mhe=yu(5),Dhe=yu(6);gb.range;v0.range;khe.range;Rhe.range;af.range;Mhe.range;Dhe.range;function vu(e){return Zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/dN)}const yb=vu(0),_0=vu(1),jhe=vu(2),Lhe=vu(3),sf=vu(4),zhe=vu(5),Uhe=vu(6);yb.range;_0.range;jhe.range;Lhe.range;sf.range;zhe.range;Uhe.range;const yN=Zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yN.range;const vN=Zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vN.range;const cs=Zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());cs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});cs.range;const fs=Zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});fs.range;function KB(e,t,n,r,i,a){const s=[[El,1,Va],[El,5,5*Va],[El,15,15*Va],[El,30,30*Va],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[i,1,Ba],[i,3,3*Ba],[i,6,6*Ba],[i,12,12*Ba],[r,1,us],[r,2,2*us],[n,1,dN],[t,1,jM],[t,3,3*jM],[e,1,Nw]];function o(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=JC(([,,_])=>_).right(s,d);if(p===s.length)return e.every(uS(u/Nw,c/Nw,f));if(p===0)return y0.every(Math.max(uS(u,c,f),1));const[m,g]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return m.every(g)}return[o,l]}const[Vhe,Bhe]=KB(fs,vN,yb,GB,gN,pN),[$he,Fhe]=KB(cs,yN,gb,um,mN,hN);function Iw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ow(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Hhe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=Sd(i),c=Td(i),f=Sd(a),d=Td(a),p=Sd(s),m=Td(s),g=Sd(o),_=Td(o),y=Sd(l),x=Td(l),E={a:V,A:B,b:U,B:F,c:null,d:$M,e:$M,f:hpe,g:Epe,G:Tpe,H:cpe,I:fpe,j:dpe,L:YB,m:ppe,M:mpe,p:Y,q:X,Q:qM,s:GM,S:gpe,u:ype,U:vpe,V:_pe,w:bpe,W:xpe,x:null,X:null,y:wpe,Y:Spe,Z:Ape,"%":HM},S={a:re,A:ee,b:se,B:_e,c:null,d:FM,e:FM,f:Ope,g:Vpe,G:$pe,H:Cpe,I:Npe,j:Ipe,L:XB,m:Ppe,M:kpe,p:he,q:De,Q:qM,s:GM,S:Rpe,u:Mpe,U:Dpe,V:jpe,w:Lpe,W:zpe,x:null,X:null,y:Upe,Y:Bpe,Z:Fpe,"%":HM},P={a:I,A:O,b:k,B:R,c:D,d:VM,e:VM,f:spe,g:UM,G:zM,H:BM,I:BM,j:npe,L:ape,m:tpe,M:rpe,p:C,q:epe,Q:lpe,s:upe,S:ipe,u:Whe,U:Xhe,V:Qhe,w:Yhe,W:Zhe,x:z,X:L,y:UM,Y:zM,Z:Jhe,"%":ope};E.x=M(n,E),E.X=M(r,E),E.c=M(t,E),S.x=M(n,S),S.X=M(r,S),S.c=M(t,S);function M(G,ae){return function(ve){var Z=[],He=-1,xe=0,je=G.length,Xe,Ie,ue;for(ve instanceof Date||(ve=new Date(+ve));++He<je;)G.charCodeAt(He)===37&&(Z.push(G.slice(xe,He)),(Ie=LM[Xe=G.charAt(++He)])!=null?Xe=G.charAt(++He):Ie=Xe==="e"?" ":"0",(ue=ae[Xe])&&(Xe=ue(ve,Ie)),Z.push(Xe),xe=He+1);return Z.push(G.slice(xe,He)),Z.join("")}}function T(G,ae){return function(ve){var Z=Ed(1900,void 0,1),He=A(Z,G,ve+="",0),xe,je;if(He!=ve.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ae&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(xe=Ow(Ed(Z.y,0,1)),je=xe.getUTCDay(),xe=je>4||je===0?_0.ceil(xe):_0(xe),xe=mb.offset(xe,(Z.V-1)*7),Z.y=xe.getUTCFullYear(),Z.m=xe.getUTCMonth(),Z.d=xe.getUTCDate()+(Z.w+6)%7):(xe=Iw(Ed(Z.y,0,1)),je=xe.getDay(),xe=je>4||je===0?v0.ceil(xe):v0(xe),xe=um.offset(xe,(Z.V-1)*7),Z.y=xe.getFullYear(),Z.m=xe.getMonth(),Z.d=xe.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),je="Z"in Z?Ow(Ed(Z.y,0,1)).getUTCDay():Iw(Ed(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(je+5)%7:Z.w+Z.U*7-(je+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Ow(Z)):Iw(Z)}}function A(G,ae,ve,Z){for(var He=0,xe=ae.length,je=ve.length,Xe,Ie;He<xe;){if(Z>=je)return-1;if(Xe=ae.charCodeAt(He++),Xe===37){if(Xe=ae.charAt(He++),Ie=P[Xe in LM?ae.charAt(He++):Xe],!Ie||(Z=Ie(G,ve,Z))<0)return-1}else if(Xe!=ve.charCodeAt(Z++))return-1}return Z}function C(G,ae,ve){var Z=u.exec(ae.slice(ve));return Z?(G.p=c.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function I(G,ae,ve){var Z=p.exec(ae.slice(ve));return Z?(G.w=m.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function O(G,ae,ve){var Z=f.exec(ae.slice(ve));return Z?(G.w=d.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function k(G,ae,ve){var Z=y.exec(ae.slice(ve));return Z?(G.m=x.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function R(G,ae,ve){var Z=g.exec(ae.slice(ve));return Z?(G.m=_.get(Z[0].toLowerCase()),ve+Z[0].length):-1}function D(G,ae,ve){return A(G,t,ae,ve)}function z(G,ae,ve){return A(G,n,ae,ve)}function L(G,ae,ve){return A(G,r,ae,ve)}function V(G){return s[G.getDay()]}function B(G){return a[G.getDay()]}function U(G){return l[G.getMonth()]}function F(G){return o[G.getMonth()]}function Y(G){return i[+(G.getHours()>=12)]}function X(G){return 1+~~(G.getMonth()/3)}function re(G){return s[G.getUTCDay()]}function ee(G){return a[G.getUTCDay()]}function se(G){return l[G.getUTCMonth()]}function _e(G){return o[G.getUTCMonth()]}function he(G){return i[+(G.getUTCHours()>=12)]}function De(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ae=M(G+="",E);return ae.toString=function(){return G},ae},parse:function(G){var ae=T(G+="",!1);return ae.toString=function(){return G},ae},utcFormat:function(G){var ae=M(G+="",S);return ae.toString=function(){return G},ae},utcParse:function(G){var ae=T(G+="",!0);return ae.toString=function(){return G},ae}}}var LM={"-":"",_:" ",0:"0"},mn=/^\s*\d+/,qhe=/^%/,Ghe=/[\\^$*+?|[\]().{}]/g;function Be(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Khe(e){return e.replace(Ghe,"\\$&")}function Sd(e){return new RegExp("^(?:"+e.map(Khe).join("|")+")","i")}function Td(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Yhe(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Whe(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Xhe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Qhe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Zhe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zM(e,t,n){var r=mn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function UM(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Jhe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function epe(e,t,n){var r=mn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function tpe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VM(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function npe(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function BM(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rpe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ipe(e,t,n){var r=mn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ape(e,t,n){var r=mn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function spe(e,t,n){var r=mn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ope(e,t,n){var r=qhe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lpe(e,t,n){var r=mn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function upe(e,t,n){var r=mn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function $M(e,t){return Be(e.getDate(),t,2)}function cpe(e,t){return Be(e.getHours(),t,2)}function fpe(e,t){return Be(e.getHours()%12||12,t,2)}function dpe(e,t){return Be(1+um.count(cs(e),e),t,3)}function YB(e,t){return Be(e.getMilliseconds(),t,3)}function hpe(e,t){return YB(e,t)+"000"}function ppe(e,t){return Be(e.getMonth()+1,t,2)}function mpe(e,t){return Be(e.getMinutes(),t,2)}function gpe(e,t){return Be(e.getSeconds(),t,2)}function ype(e){var t=e.getDay();return t===0?7:t}function vpe(e,t){return Be(gb.count(cs(e)-1,e),t,2)}function WB(e){var t=e.getDay();return t>=4||t===0?af(e):af.ceil(e)}function _pe(e,t){return e=WB(e),Be(af.count(cs(e),e)+(cs(e).getDay()===4),t,2)}function bpe(e){return e.getDay()}function xpe(e,t){return Be(v0.count(cs(e)-1,e),t,2)}function wpe(e,t){return Be(e.getFullYear()%100,t,2)}function Epe(e,t){return e=WB(e),Be(e.getFullYear()%100,t,2)}function Spe(e,t){return Be(e.getFullYear()%1e4,t,4)}function Tpe(e,t){var n=e.getDay();return e=n>=4||n===0?af(e):af.ceil(e),Be(e.getFullYear()%1e4,t,4)}function Ape(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function FM(e,t){return Be(e.getUTCDate(),t,2)}function Cpe(e,t){return Be(e.getUTCHours(),t,2)}function Npe(e,t){return Be(e.getUTCHours()%12||12,t,2)}function Ipe(e,t){return Be(1+mb.count(fs(e),e),t,3)}function XB(e,t){return Be(e.getUTCMilliseconds(),t,3)}function Ope(e,t){return XB(e,t)+"000"}function Ppe(e,t){return Be(e.getUTCMonth()+1,t,2)}function kpe(e,t){return Be(e.getUTCMinutes(),t,2)}function Rpe(e,t){return Be(e.getUTCSeconds(),t,2)}function Mpe(e){var t=e.getUTCDay();return t===0?7:t}function Dpe(e,t){return Be(yb.count(fs(e)-1,e),t,2)}function QB(e){var t=e.getUTCDay();return t>=4||t===0?sf(e):sf.ceil(e)}function jpe(e,t){return e=QB(e),Be(sf.count(fs(e),e)+(fs(e).getUTCDay()===4),t,2)}function Lpe(e){return e.getUTCDay()}function zpe(e,t){return Be(_0.count(fs(e)-1,e),t,2)}function Upe(e,t){return Be(e.getUTCFullYear()%100,t,2)}function Vpe(e,t){return e=QB(e),Be(e.getUTCFullYear()%100,t,2)}function Bpe(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function $pe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?sf(e):sf.ceil(e),Be(e.getUTCFullYear()%1e4,t,4)}function Fpe(){return"+0000"}function HM(){return"%"}function qM(e){return+e}function GM(e){return Math.floor(+e/1e3)}var Mu,ZB,JB;Hpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hpe(e){return Mu=Hhe(e),ZB=Mu.format,Mu.parse,JB=Mu.utcFormat,Mu.utcParse,Mu}function qpe(e){return new Date(e)}function Gpe(e){return e instanceof Date?+e:+new Date(+e)}function _N(e,t,n,r,i,a,s,o,l,u){var c=aN(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),_=u("%I %p"),y=u("%a %d"),x=u("%b %d"),E=u("%B"),S=u("%Y");function P(M){return(l(M)<M?p:o(M)<M?m:s(M)<M?g:a(M)<M?_:r(M)<M?i(M)<M?y:x:n(M)<M?E:S)(M)}return c.invert=function(M){return new Date(f(M))},c.domain=function(M){return arguments.length?d(Array.from(M,Gpe)):d().map(qpe)},c.ticks=function(M){var T=d();return e(T[0],T[T.length-1],M??10)},c.tickFormat=function(M,T){return T==null?P:u(T)},c.nice=function(M){var T=d();return(!M||typeof M.range!="function")&&(M=t(T[0],T[T.length-1],M??10)),M?d(UB(T,M)):c},c.copy=function(){return lm(c,_N(e,t,n,r,i,a,s,o,l,u))},c}function Kpe(){return oi.apply(_N($he,Fhe,cs,yN,gb,um,mN,hN,El,ZB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ype(){return oi.apply(_N(Vhe,Bhe,fs,vN,yb,mb,gN,pN,El,JB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vb(){var e=0,t=1,n,r,i,a,s=Yn,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,s=f(p,m),u):[s(0),s(1)]}}return u.range=c(Df),u.rangeRound=c(iN),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Qo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function e$(){var e=Xo(vb()(Yn));return e.copy=function(){return Qo(e,e$())},Ss.apply(e,arguments)}function t$(){var e=lN(vb()).domain([1,10]);return e.copy=function(){return Qo(e,t$()).base(e.base())},Ss.apply(e,arguments)}function n$(){var e=uN(vb());return e.copy=function(){return Qo(e,n$()).constant(e.constant())},Ss.apply(e,arguments)}function bN(){var e=cN(vb());return e.copy=function(){return Qo(e,bN()).exponent(e.exponent())},Ss.apply(e,arguments)}function Wpe(){return bN.apply(null,arguments).exponent(.5)}function r$(){var e=[],t=Yn;function n(r){if(r!=null&&!isNaN(r=+r))return t((sm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(To),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Cde(e,a/r))},n.copy=function(){return r$(t).domain(e)},Ss.apply(n,arguments)}function _b(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Yn,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(r*g<r*a?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),s=c(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(_){var y,x,E;return arguments.length?([y,x,E]=_,u=ohe(g,[y,x,E]),p):[u(0),u(.5),u(1)]}}return p.range=m(Df),p.rangeRound=m(iN),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function i$(){var e=Xo(_b()(Yn));return e.copy=function(){return Qo(e,i$())},Ss.apply(e,arguments)}function a$(){var e=lN(_b()).domain([.1,1,10]);return e.copy=function(){return Qo(e,a$()).base(e.base())},Ss.apply(e,arguments)}function s$(){var e=uN(_b());return e.copy=function(){return Qo(e,s$()).constant(e.constant())},Ss.apply(e,arguments)}function xN(){var e=cN(_b());return e.copy=function(){return Qo(e,xN()).exponent(e.exponent())},Ss.apply(e,arguments)}function Xpe(){return xN.apply(null,arguments).exponent(.5)}const $d=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tN,scaleDiverging:i$,scaleDivergingLog:a$,scaleDivergingPow:xN,scaleDivergingSqrt:Xpe,scaleDivergingSymlog:s$,scaleIdentity:zB,scaleImplicit:cS,scaleLinear:LB,scaleLog:VB,scaleOrdinal:eN,scalePoint:Ode,scalePow:fN,scaleQuantile:FB,scaleQuantize:HB,scaleRadial:$B,scaleSequential:e$,scaleSequentialLog:t$,scaleSequentialPow:bN,scaleSequentialQuantile:r$,scaleSequentialSqrt:Wpe,scaleSequentialSymlog:n$,scaleSqrt:Ohe,scaleSymlog:BB,scaleThreshold:qB,scaleTime:Kpe,scaleUtc:Ype,tickFormat:jB},Symbol.toStringTag,{value:"Module"}));var Ts=e=>e.chartData,o$=H([Ts],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),l$=(e,t,n,r)=>r?o$(e):Ts(e),Qpe=(e,t,n)=>n?o$(e):Ts(e);function ds(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ze(t)&&ze(n))return!0}return!1}function KM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function u$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(ze(n))i=n;else if(typeof n=="function")return;if(ze(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ds(s))return s}}function Zpe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ds(r))return KM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(le(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&cR.test(i)){var l=cR.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(le(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&fR.test(a)){var c=fR.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var f=+c[1];o=t[1]+f}}else o=t==null?void 0:t[1];var d=[s,o];if(ds(d))return t==null?d:KM(d,t,n)}}}var jf=1e9,Jpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EN,xt=!0,si="[DecimalError] ",Dl=si+"Invalid argument: ",wN=si+"Exponent out of range: ",Lf=Math.floor,gl=Math.pow,eme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ar,on=1e7,ht=7,c$=9007199254740991,b0=Lf(c$/ht),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(e){return Wa(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,n=t.constructor;return et(Wa(t,new n(e),0,1),n.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return Ht(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ar))throw Error(si+"NaN");if(n.s<1)throw Error(si+(n.s?"NaN":"-Infinity"));return n.eq(Ar)?new r(0):(xt=!1,t=Wa(hp(n,a),hp(e,a),a),xt=!0,et(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h$(t,e):f$(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(si+"NaN");return n.s?(xt=!1,t=Wa(n,e,0,1).times(e),xt=!0,n.minus(t)):et(new r(n),i)};ie.naturalExponential=ie.exp=function(){return d$(this)};ie.naturalLogarithm=ie.ln=function(){return hp(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?f$(t,e):h$(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dl+e);if(t=Ht(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ie.squareRoot=ie.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(si+"NaN")}for(e=Ht(o),xt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=ra(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Lf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(Wa(o,a,s+2)).times(.5),ra(a.d).slice(0,s)===(t=ra(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(et(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return xt=!0,et(r,n)};ie.times=ie.mul=function(e){var t,n,r,i,a,s,o,l,u,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+p[r]*d[i-r-1]+t,a[i--]=o%on|0,t=o/on|0;a[i]=(a[i]+t)%on|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,xt?et(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ga(e,0,jf),t===void 0?t=r.rounding:ga(t,0,8),et(n,e+Ht(n)+1,t))};ie.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=nu(r,!0):(ga(e,0,jf),t===void 0?t=i.rounding:ga(t,0,8),r=et(new i(r),e+1,t),n=nu(r,!0,e+1)),n};ie.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?nu(i):(ga(e,0,jf),t===void 0?t=a.rounding:ga(t,0,8),r=et(new a(i),e+Ht(i)+1,t),n=nu(r.abs(),!1,e+Ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return et(new t(e),Ht(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Ar);if(o=new l(o),!o.s){if(e.s<1)throw Error(si+"Infinity");return o}if(o.eq(Ar))return o;if(r=l.precision,e.eq(Ar))return et(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=c<0?-c:c)<=c$){for(i=new l(Ar),t=Math.ceil(r/ht+4),xt=!1;n%2&&(i=i.times(o),WM(i.d,t)),n=Lf(n/2),n!==0;)o=o.times(o),WM(o.d,t);return xt=!0,e.s<0?new l(Ar).div(i):et(i,r)}}else if(a<0)throw Error(si+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,xt=!1,i=e.times(hp(o,r+u)),xt=!0,i=d$(i),i.s=a,i};ie.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ht(i),r=nu(i,n<=a.toExpNeg||n>=a.toExpPos)):(ga(e,1,jf),t===void 0?t=a.rounding:ga(t,0,8),i=et(new a(i),e,t),n=Ht(i),r=nu(i,e<=n||n<=a.toExpNeg,e)),r};ie.toSignificantDigits=ie.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ga(e,1,jf),t===void 0?t=r.rounding:ga(t,0,8)),et(new r(n),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ht(e),n=e.constructor;return nu(e,t<=n.toExpNeg||t>=n.toExpPos)};function f$(e,t){var n,r,i,a,s,o,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),xt?et(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/ht),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/on|0,l[a]%=on;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,xt?et(t,f):t}function ga(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Dl+e)}function ra(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=ht-r.length,n&&(a+=Hs(n)),a+=r;s=e[t],r=s+"",n=ht-r.length,n&&(a+=Hs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Wa=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%on|0,s=a/on|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*on+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,c,f,d,p,m,g,_,y,x,E,S,P,M,T,A,C=r.constructor,I=r.s==i.s?1:-1,O=r.d,k=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(si+"Division by zero");for(l=r.e-i.e,T=k.length,P=O.length,p=new C(I),m=p.d=[],u=0;k[u]==(O[u]||0);)++u;if(k[u]>(O[u]||0)&&--l,a==null?x=a=C.precision:s?x=a+(Ht(r)-Ht(i))+1:x=a,x<0)return new C(0);if(x=x/ht+2|0,u=0,T==1)for(c=0,k=k[0],x++;(u<P||c)&&x--;u++)E=c*on+(O[u]||0),m[u]=E/k|0,c=E%k|0;else{for(c=on/(k[0]+1)|0,c>1&&(k=e(k,c),O=e(O,c),T=k.length,P=O.length),S=T,g=O.slice(0,T),_=g.length;_<T;)g[_++]=0;A=k.slice(),A.unshift(0),M=k[0],k[1]>=on/2&&++M;do c=0,o=t(k,g,T,_),o<0?(y=g[0],T!=_&&(y=y*on+(g[1]||0)),c=y/M|0,c>1?(c>=on&&(c=on-1),f=e(k,c),d=f.length,_=g.length,o=t(f,g,d,_),o==1&&(c--,n(f,T<d?A:k,d))):(c==0&&(o=c=1),f=k.slice()),d=f.length,d<_&&f.unshift(0),n(g,f,_),o==-1&&(_=g.length,o=t(k,g,T,_),o<1&&(c++,n(g,T<_?A:k,_))),_=g.length):o===0&&(c++,g=[0]),m[u++]=c,o&&g[0]?g[_++]=O[S]||0:(g=[O[S]],_=1);while((S++<P||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,et(p,s?a+Ht(p)+1:a)}}();function d$(e,t){var n,r,i,a,s,o,l=0,u=0,c=e.constructor,f=c.precision;if(Ht(e)>16)throw Error(wN+Ht(e));if(!e.s)return new c(Ar);for(xt=!1,o=f,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(gl(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new c(Ar),c.precision=o;;){if(i=et(i.times(e),o),n=n.times(++l),s=a.plus(Wa(i,n,o)),ra(s.d).slice(0,o)===ra(a.d).slice(0,o)){for(;u--;)a=et(a.times(a),o);return c.precision=f,t==null?(xt=!0,et(a,f)):a}a=s}}function Ht(e){for(var t=e.e*ht,n=e.d[0];n>=10;n/=10)t++;return t}function Pw(e,t,n){if(t>e.LN10.sd())throw xt=!0,n&&(e.precision=n),Error(si+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function Hs(e){for(var t="";e--;)t+="0";return t}function hp(e,t){var n,r,i,a,s,o,l,u,c,f=1,d=10,p=e,m=p.d,g=p.constructor,_=g.precision;if(p.s<1)throw Error(si+(p.s?"NaN":"-Infinity"));if(p.eq(Ar))return new g(0);if(t==null?(xt=!1,u=_):u=t,p.eq(10))return t==null&&(xt=!0),Pw(g,u);if(u+=d,g.precision=u,n=ra(m),r=n.charAt(0),a=Ht(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=ra(p.d),r=n.charAt(0),f++;a=Ht(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Pw(g,u+2,_).times(a+""),p=hp(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=_,t==null?(xt=!0,et(p,_)):p;for(o=s=p=Wa(p.minus(Ar),p.plus(Ar),u),c=et(p.times(p),u),i=3;;){if(s=et(s.times(c),u),l=o.plus(Wa(s,new g(i),u)),ra(l.d).slice(0,u)===ra(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Pw(g,u+2,_).times(a+""))),o=Wa(o,new g(f),u),g.precision=_,t==null?(xt=!0,et(o,_)):o;o=l,i+=2}}function YM(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Lf(n/ht),e.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ht;r<i;)e.d.push(+t.slice(r,r+=ht));t=t.slice(r),r=ht-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),xt&&(e.e>b0||e.e<-b0))throw Error(wN+n)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,n){var r,i,a,s,o,l,u,c,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=ht,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/ht),a=f.length,c>=a)return e;for(u=a=f[c],s=1;a>=10;a/=10)s++;r%=ht,i=r-ht+s}if(n!==void 0&&(a=gl(10,s-i-1),o=u/a%10|0,l=t<0||f[c+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/gl(10,s-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Ht(e),f.length=1,t=t-a-1,f[0]=gl(10,(ht-t%ht)%ht),e.e=Lf(-t/ht)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=gl(10,ht-r),f[c]=i>0?(u/gl(10,s-i)%gl(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==on&&(f[0]=1,++e.e);break}else{if(f[c]+=a,f[c]!=on)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(xt&&(e.e>b0||e.e<-b0))throw Error(wN+Ht(e));return e}function h$(e,t){var n,r,i,a,s,o,l,u,c,f,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),xt?et(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/ht),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=on-1;--l[a],l[i]+=on}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,xt?et(t,p):t):new d(0)}function nu(e,t,n){var r,i=Ht(e),a=ra(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Hs(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hs(-i-1)+a,n&&(r=n-s)>0&&(a+=Hs(r))):i>=s?(a+=Hs(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Hs(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Hs(r))),e.s<0?"-"+a:a}function WM(e,t){if(e.length>t)return e.length=t,!0}function p$(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Dl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return YM(s,a.toString())}else if(typeof a!="string")throw Error(Dl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,eme.test(a))YM(s,a);else throw Error(Dl+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=p$,i.config=i.set=tme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function tme(e){if(!e||typeof e!="object")throw Error(si+"Object expected");var t,n,r,i=["precision",1,jf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Lf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Dl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Dl+n+": "+r);return this}var EN=p$(Jpe);Ar=new EN(1);const Ye=EN;function m$(e){var t;return e===0?t=1:t=Math.floor(new Ye(e).abs().log(10).toNumber())+1,t}function g$(e,t,n){for(var r=new Ye(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var y$=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},v$=(e,t,n)=>{if(e.lte(0))return new Ye(0);var r=m$(e.toNumber()),i=new Ye(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Ye(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Ye(l.toNumber()):new Ye(Math.ceil(l.toNumber()))},nme=(e,t,n)=>{var r=new Ye(1),i=new Ye(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ye(10).pow(m$(e)-1),i=new Ye(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ye(Math.floor(e)))}else e===0?i=new Ye(Math.floor((t-1)/2)):n||(i=new Ye(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new Ye(l-s).mul(r)).toNumber());return o},_$=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var s=v$(new Ye(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Ye(0):(o=new Ye(t).add(n).div(2),o=o.sub(new Ye(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Ye(n).sub(o).div(s).toNumber()),c=l+u+1;return c>r?_$(t,n,r,i,a+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:o.sub(new Ye(l).mul(s)),tickMax:o.add(new Ye(u).mul(s))})},rme=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=y$([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(o===l)return nme(o,i,a);var{step:c,tickMin:f,tickMax:d}=_$(o,l,s,a,0),p=g$(f,d.add(new Ye(.1).mul(c)),c);return n>r?p.reverse():p},ime=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=y$([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=v$(new Ye(o).sub(s).div(l-1),a,0),c=[...g$(new Ye(s),new Ye(o),u),o];return a===!1&&(c=c.map(f=>Math.round(f))),r>i?c.reverse():c},b$=e=>e.rootProps.maxBarSize,ame=e=>e.rootProps.barGap,x$=e=>e.rootProps.barCategoryGap,sme=e=>e.rootProps.barSize,bb=e=>e.rootProps.stackOffset,w$=e=>e.rootProps.reverseStackOrder,SN=e=>e.options.chartName,TN=e=>e.rootProps.syncId,E$=e=>e.rootProps.syncMethod,AN=e=>e.options.eventEmitter,Wn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ol={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ki={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},xb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function wb(e,t,n){if(n!=="auto")return n;if(e!=null)return Wo(e,t)?"category":"number"}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(r){ome(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ome(e,t,n){return(t=lme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lme(e){var t=ume(e,"string");return typeof t=="symbol"?t:t+""}function ume(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QM={allowDataOverflow:ol.allowDataOverflow,allowDecimals:ol.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ol.angleAxisId,includeHidden:!1,name:void 0,reversed:ol.reversed,scale:ol.scale,tick:ol.tick,tickCount:void 0,ticks:void 0,type:ol.type,unit:void 0},ZM={allowDataOverflow:Ki.allowDataOverflow,allowDecimals:Ki.allowDecimals,allowDuplicatedCategory:Ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ki.radiusAxisId,includeHidden:Ki.includeHidden,name:void 0,reversed:Ki.reversed,scale:Ki.scale,tick:Ki.tick,tickCount:Ki.tickCount,ticks:void 0,type:Ki.type,unit:void 0},cme=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},CN=H([cme,nB],(e,t)=>{var n;if(e!=null)return e;var r=(n=wb(t,"angleAxis",QM.type))!==null&&n!==void 0?n:"category";return x0(x0({},QM),{},{type:r})}),fme=(e,t)=>e.polarAxis.radiusAxis[t],NN=H([fme,nB],(e,t)=>{var n;if(e!=null)return e;var r=(n=wb(t,"radiusAxis",ZM.type))!==null&&n!==void 0?n:"category";return x0(x0({},ZM),{},{type:r})}),Eb=e=>e.polarOptions,IN=H([ws,Es,pn],ade),S$=H([Eb,IN],(e,t)=>{if(e!=null)return ki(e.innerRadius,t,0)}),T$=H([Eb,IN],(e,t)=>{if(e!=null)return ki(e.outerRadius,t,t*.8)}),dme=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},A$=H([Eb],dme);H([CN,A$],xb);var C$=H([IN,S$,T$],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});H([NN,C$],xb);var N$=H([rt,Eb,S$,T$,ws,Es],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:ki(s,i,i/2),cy:ki(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),gn=(e,t)=>t,Sb=(e,t,n)=>n;function ON(e){return e==null?void 0:e.id}function I$(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=ON(o);u.forEach((f,d)=>{var p=a==null||i?d:String(Rn(f,a,null)),m=Rn(f,o.dataKey,0),g;s.has(p)?g=s.get(p):g={},Object.assign(g,{[c]:m}),s.set(p,g)})}}),Array.from(s.values())}function Tb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ab=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Cb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hme(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var yn=e=>{var t=rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zf=e=>e.tooltip.settings.axisId;function pme(e){if(e in $d)return $d[e]();var t="scale".concat(em(e));if(t in $d)return $d[t]()}function JM(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var l=e.bandwidth();switch(s.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function eD(e,t,n){if(typeof e=="function")return JM(e.copy().domain(t).range(n));if(e!=null){var r=pme(e);if(r!=null)return r.domain(t).range(n),JM(r)}}var mme=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ds(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];ze(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gme(e,t,n){return(t=yme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yme(e){var t=vme(e,"string");return typeof t=="symbol"?t:t+""}function vme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mS=[0,"auto"],nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},O$=(e,t)=>e.cartesianAxis.xAxis[t],As=(e,t)=>{var n=O$(e,t);return n??nn},rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rm},P$=(e,t)=>e.cartesianAxis.yAxis[t],Cs=(e,t)=>{var n=P$(e,t);return n??rn},_me={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},PN=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??_me},Jn=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Cs(e,n);case"zAxis":return PN(e,n);case"angleAxis":return CN(e,n);case"radiusAxis":return NN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bme=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},cm=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Cs(e,n);case"angleAxis":return CN(e,n);case"radiusAxis":return NN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},k$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function R$(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var kN=e=>e.graphicalItems.cartesianItems,xme=H([gn,Sb],R$),M$=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),fm=H([kN,Jn,xme],M$,{memoizeOptions:{resultEqualityCheck:Cb}}),D$=H([fm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tb)),j$=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wme=H([fm],j$),L$=e=>e.map(t=>t.data).filter(Boolean).flat(1),Eme=H([fm],L$,{memoizeOptions:{resultEqualityCheck:Cb}}),z$=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},RN=H([Eme,l$],z$),U$=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Rn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Rn(i,r)}))):e.map(r=>({value:r})),Nb=H([RN,Jn,fm],U$);function V$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yy(e){if(pa(e)||e instanceof Date){var t=Number(e);if(ze(t))return t}}function nD(e){if(Array.isArray(e)){var t=[yy(e[0]),yy(e[1])];return ds(t)?t:void 0}var n=yy(e);if(n!=null)return[n,n]}function hs(e){return e.map(yy).filter(lr)}function Sme(e,t,n){return!n||typeof t!="number"||ha(t)?[]:n.length?hs(n.flatMap(r=>{var i=Rn(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!ze(a)||!ze(s)))return[t-a,t+s]})):[]}var Jt=e=>{var t=yn(e),n=zf(e);return cm(e,t,n)},dm=H([Jt],e=>e==null?void 0:e.dataKey),Tme=H([D$,l$,Jt],I$),B$=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,c=u.map(ON);return[o,{stackedData:zue(e,c,n),graphicalItems:u}]}))},gS=H([Tme,D$,bb,w$],B$),$$=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=Fue(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Ame=H([Jn],e=>e.allowDataOverflow),MN=e=>{var t;if(e==null||!("domain"in e))return mS;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=hs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:mS},F$=H([Jn],MN),H$=H([F$,Ame],u$),Cme=H([gS,Ts,gn,H$],$$,{memoizeOptions:{resultEqualityCheck:Ab}}),DN=e=>e.errorBars,Nme=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>V$(n,r)),E0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},q$=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(y=>V$(i,y)),d=Rn(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=Sme(o,d,f);if(p.length>=2){var m=Math.min(...p),g=Math.max(...p);(a==null||m<a)&&(a=m),(s==null||g>s)&&(s=g)}var _=nD(d);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),s=s==null?_[1]:Math.max(s,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=nD(Rn(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),ze(a)&&ze(s))return[a,s]},Ime=H([RN,Jn,wme,DN,gn],q$,{memoizeOptions:{resultEqualityCheck:Ab}});function Ome(e){var{value:t}=e;if(pa(t)||t instanceof Date)return t}var Pme=(e,t,n)=>{var r=e.map(Ome).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&RV(r))?SB(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},G$=e=>e.referenceElements.dots,Uf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),kme=H([G$,gn,Sb],Uf),K$=e=>e.referenceElements.areas,Rme=H([K$,gn,Sb],Uf),Y$=e=>e.referenceElements.lines,Mme=H([Y$,gn,Sb],Uf),W$=(e,t)=>{if(e!=null){var n=hs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Dme=H(kme,gn,W$),X$=(e,t)=>{if(e!=null){var n=hs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jme=H([Rme,gn],X$);function Lme(e){var t;if(e.x!=null)return hs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:hs(n)}function zme(e){var t;if(e.y!=null)return hs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:hs(n)}var Q$=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Lme(r):zme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ume=H([Mme,gn],Q$),Vme=H(Dme,Ume,jme,(e,t,n)=>E0(e,n,t)),Z$=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?E0(r,a,i):E0(a,i);return Zpe(t,u,e.allowDataOverflow)},Bme=H([Jn,F$,H$,Cme,Ime,Vme,rt,gn],Z$,{memoizeOptions:{resultEqualityCheck:Ab}}),$me=[0,1],J$=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Wo(t,a);if(u&&o==null){var c;return SB(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?Pme(r,e,u):i==="expand"?$me:s}},jN=H([Jn,rt,RN,Nb,bb,gn,Bme],J$);function Fme(e){return e in $d}var e8=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(em(r));return Fme(a)?a:"point"}}},Vf=H([Jn,k$,SN],e8);function LN(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?eD(e.scale,n,r):eD(t,n,r)}var t8=(e,t,n)=>{var r=MN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ds(e))return rme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ds(e))return ime(e,t.tickCount,t.allowDecimals)}},zN=H([jN,cm,Vf],t8),n8=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ds(t)&&Array.isArray(n)&&n.length>0){var i,a,s=t[0],o=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(l,u)]}return t},Hme=H([Jn,jN,zN,gn],n8),qme=H(Nb,Jn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(hs(e.map(f=>f.value))).sort((f,d)=>f-d),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/s}}),r8=H(qme,rt,x$,pn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!ze(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ki(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),Gme=(e,t,n)=>{var r=As(e,t);return r==null||typeof r.padding!="string"?0:r8(e,"xAxis",t,n,r.padding)},Kme=(e,t,n)=>{var r=Cs(e,t);return r==null||typeof r.padding!="string"?0:r8(e,"yAxis",t,n,r.padding)},Yme=H(As,Gme,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Wme=H(Cs,Kme,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Xme=H([pn,Yme,lb,ob,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Qme=H([pn,rt,Wme,lb,ob,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),hm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Xme(e,n,r);case"yAxis":return Qme(e,n,r);case"zAxis":return(i=PN(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return A$(e);case"radiusAxis":return C$(e,n);default:return}},i8=H([Jn,hm],xb),Zme=H([Vf,Hme],mme),Ib=H([Jn,Vf,Zme,i8],LN);H([fm,DN,gn],Nme);function a8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ob=(e,t)=>t,Pb=(e,t,n)=>n,Jme=H(ab,Ob,Pb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(a8)),ege=H(sb,Ob,Pb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(a8)),s8=(e,t)=>({width:e.width,height:t.height}),tge=(e,t)=>{var n=typeof t.width=="number"?t.width:rm;return{width:n,height:e.height}},o8=H(pn,As,s8),nge=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},rge=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ige=H(Es,pn,Jme,Ob,Pb,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=s8(t,o);s==null&&(s=nge(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),age=H(ws,pn,ege,Ob,Pb,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=tge(t,o);s==null&&(s=rge(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),sge=(e,t)=>{var n=As(e,t);if(n!=null)return ige(e,n.orientation,n.mirror)},oge=H([pn,As,sge,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),lge=(e,t)=>{var n=Cs(e,t);if(n!=null)return age(e,n.orientation,n.mirror)},uge=H([pn,Cs,lge,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),l8=H(pn,Cs,(e,t)=>{var n=typeof t.width=="number"?t.width:rm;return{width:n,height:e.height}}),rD=(e,t,n)=>{switch(t){case"xAxis":return o8(e,n).width;case"yAxis":return l8(e,n).height;default:return}},u8=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Wo(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&RV(l))return l}},UN=H([rt,Nb,Jn,gn],u8),c8=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Wo(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},VN=H([rt,Nb,cm,gn],c8),iD=H([rt,bme,Vf,Ib,UN,VN,hm,zN,gn],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=Wo(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),cge=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=Wo(e,l),{type:c,ticks:f,tickCount:d}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?or(a[0]-a[1])*2*m:m;var g=f||i;return g?g.map((_,y)=>{var x=s?s.indexOf(_):_,E=r.map(x);return ze(E)?{index:y,coordinate:E+m,value:_,offset:m}:null}).filter(lr):u&&o?o.map((_,y)=>{var x=r.map(_);return ze(x)?{coordinate:x+m,value:_,index:y,offset:m}:null}).filter(lr):r.ticks?r.ticks(d).map((_,y)=>{var x=r.map(_);return ze(x)?{coordinate:x+m,value:_,index:y,offset:m}:null}).filter(lr):r.domain().map((_,y)=>{var x=r.map(_);return ze(x)?{coordinate:x+m,value:s?s[_]:_,index:y,offset:m}:null}).filter(lr)}},f8=H([rt,cm,Vf,Ib,zN,hm,UN,VN,gn],cge),fge=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Wo(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?or(r[0]-r[1])*2*u:u,o&&a?a.map((c,f)=>{var d=n.map(c);return ze(d)?{coordinate:d+u,value:c,index:f,offset:u}:null}).filter(lr):n.ticks?n.ticks(l).map((c,f)=>{var d=n.map(c);return ze(d)?{coordinate:d+u,value:c,index:f,offset:u}:null}).filter(lr):n.domain().map((c,f)=>{var d=n.map(c);return ze(d)?{coordinate:d+u,value:i?i[c]:c,index:f,offset:u}:null}).filter(lr)}},of=H([rt,cm,Ib,hm,UN,VN,gn],fge),lf=H(Jn,Ib,(e,t)=>{if(!(e==null||t==null))return w0(w0({},e),{},{scale:t})}),dge=H([Jn,Vf,jN,i8],LN);H((e,t,n)=>PN(e,n),dge,(e,t)=>{if(!(e==null||t==null))return w0(w0({},e),{},{scale:t})});var hge=H([rt,ab,sb],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d8=e=>e.options.defaultTooltipEventType,h8=e=>e.options.validateTooltipEventTypes;function p8(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function BN(e,t){var n=d8(e),r=h8(e);return p8(t,n,r)}function pge(e){return de(t=>BN(t,e))}var m8=(e,t)=>{var n,r=Number(t);if(!(ha(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},mge=e=>e.tooltip.settings,no={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gge={itemInteraction:{click:no,hover:no},axisInteraction:{click:no,hover:no},keyboardInteraction:no,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},g8=gr({name:"tooltip",initialState:gge,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_t()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ni(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:_t()},removeTooltipEntrySettings:{reducer(e,t){var n=Ni(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:_t()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:yge,replaceTooltipEntrySettings:vge,removeTooltipEntrySettings:_ge,setTooltipSettingsState:bge,setActiveMouseOverItemIndex:y8,mouseLeaveItem:xge,mouseLeaveChart:v8,setActiveClickItemIndex:wge,setMouseOverAxisIndex:_8,setMouseClickAxisIndex:Ege,setSyncInteraction:yS,setKeyboardInteraction:vS}=g8.actions,Sge=g8.reducer;function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){Tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tge(e,t,n){return(t=Age(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Age(e){var t=Cge(e,"string");return typeof t=="symbol"?t:t+""}function Cge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nge(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ige(e){return e.index!=null}var b8=(e,t,n,r)=>{if(t==null)return no;var i=Nge(e,t,n);if(i==null)return no;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Ige(i)){if(a)return Ng(Ng({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ng(Ng({},no),{},{coordinate:i.coordinate})};function Oge(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Pge(e,t){var n=Oge(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function kge(e,t,n){if(n==null||t==null)return!0;var r=Rn(e,t);return r==null||!ds(n)?!0:Pge(r,n)}var $N=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ze(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||kge(u,n,r)?String(l):null},x8=(e,t,n,r,i,a,s)=>{if(a!=null){var o=s[0],l=o==null?void 0:o.getPosition(a);if(l!=null)return l;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},w8=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},E8=e=>e.options.tooltipPayloadSearcher,Bf=e=>e.tooltip;function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(r){Rge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rge(e,t,n){return(t=Mge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mge(e){var t=Dge(e,"string");return typeof t=="symbol"?t:t+""}function Dge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jge(e,t){return e??t}var S8=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return e.reduce((d,p)=>{var m,{dataDefinedOnItem:g,settings:_}=p,y=jge(g,o),x=Array.isArray(y)?F9(y,u,c):y,E=(m=_==null?void 0:_.dataKey)!==null&&m!==void 0?m:r,S=_==null?void 0:_.nameKey,P;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?P=xoe(x,r,i):P=a(x,t,l,S),Array.isArray(P))P.forEach(T=>{var A=oD(oD({},_),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});d.push(dR({tooltipEntrySettings:A,dataKey:T.dataKey,payload:T.payload,value:Rn(T.payload,T.dataKey),name:T.name}))});else{var M;d.push(dR({tooltipEntrySettings:_,dataKey:E,payload:P,value:Rn(P,E),name:(M=Rn(P,S))!==null&&M!==void 0?M:_==null?void 0:_.name}))}return d},f)}},FN=H([Jt,k$,SN],e8),Lge=H([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),zge=H([yn,zf],R$),$f=H([Lge,Jt,zge],M$,{memoizeOptions:{resultEqualityCheck:Cb}}),Uge=H([$f],e=>e.filter(Tb)),Vge=H([$f],L$,{memoizeOptions:{resultEqualityCheck:Cb}}),Ff=H([Vge,Ts],z$),Bge=H([Uge,Ts,Jt],I$),HN=H([Ff,Jt,$f],U$),T8=H([Jt],MN),$ge=H([Jt],e=>e.allowDataOverflow),A8=H([T8,$ge],u$),Fge=H([$f],e=>e.filter(Tb)),Hge=H([Bge,Fge,bb,w$],B$),qge=H([Hge,Ts,yn,A8],$$),Gge=H([$f],j$),Kge=H([Ff,Jt,Gge,DN,yn],q$,{memoizeOptions:{resultEqualityCheck:Ab}}),Yge=H([G$,yn,zf],Uf),Wge=H([Yge,yn],W$),Xge=H([K$,yn,zf],Uf),Qge=H([Xge,yn],X$),Zge=H([Y$,yn,zf],Uf),Jge=H([Zge,yn],Q$),eye=H([Wge,Jge,Qge],E0),tye=H([Jt,T8,A8,qge,Kge,eye,rt,yn],Z$),pm=H([Jt,rt,Ff,HN,bb,yn,tye],J$),nye=H([pm,Jt,FN],t8),rye=H([Jt,pm,nye,yn],n8),C8=e=>{var t=yn(e),n=zf(e),r=!1;return hm(e,t,n,r)},N8=H([Jt,C8],xb),I8=H([Jt,FN,rye,N8],LN),iye=H([rt,HN,Jt,yn],u8),aye=H([rt,HN,Jt,yn],c8),sye=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=Wo(e,o);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?or(i[0]-i[1])*2*f:f,u&&s?s.map((d,p)=>{var m=r.map(d);return ze(m)?{coordinate:m+f,value:d,index:p,offset:f}:null}).filter(lr):r.domain().map((d,p)=>{var m=r.map(d);return ze(m)?{coordinate:m+f,value:a?a[d]:d,index:p,offset:f}:null}).filter(lr)}}},Ns=H([rt,Jt,FN,I8,C8,iye,aye,yn],sye),qN=H([d8,h8,mge],(e,t,n)=>p8(n.shared,e,t)),O8=e=>e.tooltip.settings.trigger,GN=e=>e.tooltip.settings.defaultIndex,mm=H([Bf,qN,O8,GN],b8),uf=H([mm,Ff,dm,pm],$N),P8=H([Ns,uf],m8),k8=H([mm],e=>{if(e)return e.dataKey});H([mm],e=>{if(e)return e.graphicalItemId});var R8=H([Bf,qN,O8,GN],w8),oye=H([ws,Es,rt,pn,Ns,GN,R8],x8),lye=H([mm,oye],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),uye=H([mm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),cye=H([R8,uf,Ts,dm,P8,E8,qN],S8);H([cye],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(r){fye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fye(e,t,n){return(t=dye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dye(e){var t=hye(e,"string");return typeof t=="symbol"?t:t+""}function hye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pye=()=>de(Jt),mye=()=>{var e=pye(),t=de(Ns),n=de(I8);return e0(!e||!n?void 0:uD(uD({},e),{},{scale:n}),t)};function cD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(n),!0).forEach(function(r){gye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gye(e,t,n){return(t=yye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yye(e){var t=vye(e,"string");return typeof t=="symbol"?t:t+""}function vye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ye=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},bye=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Du(Du(Du({},r),On(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Du(Du(Du({},r),On(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xye(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var M8=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,f,d,p=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,m=(c=n[o])===null||c===void 0?void 0:c.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(d=n[o+1])===null||d===void 0?void 0:d.coordinate,_=void 0;if(!(p==null||m==null||g==null))if(or(m-p)!==or(g-m)){var y=[];if(or(g-m)===or(i[1]-i[0])){_=g;var x=m+i[1]-i[0];y[0]=Math.min(x,(x+p)/2),y[1]=Math.max(x,(x+p)/2)}else{_=p;var E=g+i[1]-i[0];y[0]=Math.min(m,(E+m)/2),y[1]=Math.max(m,(E+m)/2)}var S=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var M=Math.min(p,g),T=Math.max(p,g);if(e>(M+m)/2&&e<=(T+m)/2){var A;return(A=n[o])===null||A===void 0?void 0:A.index}}}else if(t)for(var C=0;C<s;C++){var I=t[C];if(I!=null){var O=t[C+1],k=t[C-1];if(C===0&&O!=null&&e<=(I.coordinate+O.coordinate)/2||C===s-1&&k!=null&&e>(I.coordinate+k.coordinate)/2||C>0&&C<s-1&&k!=null&&O!=null&&e>(I.coordinate+k.coordinate)/2&&e<=(I.coordinate+O.coordinate)/2)return I.index}}return-1},wye=()=>de(SN),KN=(e,t)=>t,D8=(e,t,n)=>n,YN=(e,t,n,r)=>r,Eye=H(Ns,e=>W_(e,t=>t.coordinate)),WN=H([Bf,KN,D8,YN],b8),XN=H([WN,Ff,dm,pm],$N),Sye=(e,t,n)=>{if(t!=null){var r=Bf(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},j8=H([Bf,KN,D8,YN],w8),S0=H([ws,Es,rt,pn,Ns,YN,j8],x8),Tye=H([WN,S0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),L8=H([Ns,XN],m8),Aye=H([j8,XN,Ts,dm,L8,E8,KN],S8),Cye=H([WN,XN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Nye=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&xye(e,s)){var o=Hue(e,t),l=M8(o,a,i,n,r),u=_ye(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},Iye=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=cde(e,n);if(o){var l=que(o,t),u=M8(l,s,a,r,i),c=bye(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},Oye=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?Nye(e,t,r,i,a,s,o):Iye(e,t,n,r,i,a,s)},Pye=H(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),kye=H(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Wn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hme}});function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(r){Rye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rye(e,t,n){return(t=Mye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jye={},Lye={zIndexMap:Object.values(Wn).reduce((e,t)=>dD(dD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),jye)},zye=new Set(Object.values(Wn));function Uye(e){return zye.has(e)}var z8=gr({name:"zIndex",initialState:Lye,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_t()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Uye(n)&&delete e.zIndexMap[n])},prepare:_t()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:_t()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:_t()}}}),{registerZIndexPortal:Vye,unregisterZIndexPortal:Bye,registerZIndexPortalElement:$ye,unregisterZIndexPortalElement:Fye}=z8.actions,Hye=z8.reducer;function Is(e){var{zIndex:t,children:n}=e,r=xce(),i=r&&t!==void 0&&t!==0,a=yr(),s=Tt();v.useLayoutEffect(()=>i?(s(Vye({zIndex:t})),()=>{s(Bye({zIndex:t}))}):Rf,[s,t,i]);var o=de(l=>Pye(l,t,a));return i?o?$0.createPortal(n,o):null:n}function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_S.apply(null,arguments)}function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ig(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){qye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qye(e,t,n){return(t=Gye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gye(e){var t=Kye(e,"string");return typeof t=="symbol"?t:t+""}function Kye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yye(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function Wye(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,f=n,d=r,p=i;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var m,g,_;if(c==="ScatterChart")m=f,g=Efe,_=Wn.cursorLine;else if(c==="BarChart")m=Sfe(o,f,a,s),g=yB,_=Wn.cursorRectangle;else if(o==="radial"&&DV(f)){var{cx:y,cy:x,radius:E,startAngle:S,endAngle:P}=vB(f);m={cx:y,cy:x,startAngle:S,endAngle:P,innerRadius:E,outerRadius:E},g=bB,_=Wn.cursorLine}else m={points:pde(o,f,a)},g=dB,_=Wn.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,T=Ig(Ig(Ig(Ig({stroke:"#ccc",pointerEvents:"none"},a),m),bC(l)),{},{payload:d,payloadIndex:p,className:ut("recharts-tooltip-cursor",M)});return v.createElement(Is,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},v.createElement(Yye,{cursor:l,cursorComp:g,cursorProps:T}))}function Xye(e){var t=mye(),n=eB(),r=Mf(),i=wye();return t==null||n==null||r==null||i==null?null:v.createElement(Wye,_S({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var U8=v.createContext(null),Qye=()=>v.useContext(U8),V8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},o.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var _=this._events[g],y=arguments.length,x,E;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),y){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,d),!0;case 5:return _.fn.call(_.context,c,f,d,p),!0;case 6:return _.fn.call(_.context,c,f,d,p,m),!0}for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];_.fn.apply(_.context,x)}else{var S=_.length,P;for(E=0;E<S;E++)switch(_[E].once&&this.removeListener(u,_[E].fn,void 0,!0),y){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,c);break;case 3:_[E].fn.call(_[E].context,c,f);break;case 4:_[E].fn.call(_[E].context,c,f,d);break;default:if(!x)for(P=1,x=new Array(y-1);P<y;P++)x[P-1]=arguments[P];_[E].fn.apply(_[E].context,x)}}return!0},o.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,_=[],y=m.length;g<y;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&_.push(m[g]);_.length?this._events[p]=_.length===1?_[0]:_:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(V8);var Zye=V8.exports;const Jye=ya(Zye);var pp=new Jye,bS="recharts.syncEvent.tooltip",pD="recharts.syncEvent.brush",eve=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!ha(n))return e[n]}},tve={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},B8=gr({name:"options",initialState:tve,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nve=B8.reducer,{createEventEmitter:rve}=B8.actions;function ive(e){return e.tooltip.syncInteraction}var ave={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$8=gr({name:"chartData",initialState:ave,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:mD,setDataStartEndIndexes:sve,setComputedData:FNe}=$8.actions,ove=$8.reducer,lve=["x","y"];function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){uve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uve(e,t,n){return(t=cve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cve(e){var t=fve(e,"string");return typeof t=="symbol"?t:t+""}function fve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dve(e,t){if(e==null)return{};var n,r,i=hve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pve(){var e=de(TN),t=de(AN),n=Tt(),r=de(E$),i=de(Ns),a=Mf(),s=ub(),o=de(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return Rf;var l=(u,c,f)=>{if(t!==f&&e===u){if(r==="index"){var d;if(s&&c!==null&&c!==void 0&&(d=c.payload)!==null&&d!==void 0&&d.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:m,y:g}=p,_=dve(p,lve),{x:y,y:x,width:E,height:S}=c.payload.sourceViewBox,P=ju(ju({},_),{},{x:s.x+(E?(m-y)/E:0)*s.width,y:s.y+(S?(g-x)/S:0)*s.height});n(ju(ju({},c),{},{payload:ju(ju({},c.payload),{},{coordinate:P})}))}else n(c);return}if(i!=null){var M;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},A=r(i,T);M=i[A]}else r==="value"&&(M=i.find(L=>String(L.value)===c.payload.label));var{coordinate:C}=c.payload;if(M==null||c.payload.active===!1||C==null||s==null){n(yS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:O}=C,k=Math.min(I,s.x+s.width),R=Math.min(O,s.y+s.height),D={x:a==="horizontal"?M.coordinate:k,y:a==="horizontal"?R:M.coordinate},z=yS({active:c.payload.active,coordinate:D,dataKey:c.payload.dataKey,index:String(M.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(z)}}};return pp.on(bS,l),()=>{pp.off(bS,l)}},[o,n,t,e,r,i,a,s])}function mve(){var e=de(TN),t=de(AN),n=Tt();v.useEffect(()=>{if(e==null)return Rf;var r=(i,a,s)=>{t!==s&&e===i&&n(sve(a))};return pp.on(pD,r),()=>{pp.off(pD,r)}},[n,t,e])}function gve(){var e=Tt();v.useEffect(()=>{e(rve())},[e]),pve(),mve()}function yve(e,t,n,r,i,a){var s=de(p=>Sye(p,e,t)),o=de(AN),l=de(TN),u=de(E$),c=de(ive),f=c==null?void 0:c.active,d=ub();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=yS({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:d,graphicalItemId:void 0});pp.emit(bS,l,p,o)}},[f,n,s,i,r,o,l,u,a,d])}function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(r){vve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vve(e,t,n){return(t=_ve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ve(e){var t=bve(e,"string");return typeof t=="symbol"?t:t+""}function bve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xve(e){return e.dataKey}function wve(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(nfe,t)}var _D=[],Eve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Sve(e){var t,n,r=Zn(e,Eve),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:d,position:p,reverseDirection:m,useTranslate3d:g,wrapperStyle:_,cursor:y,shared:x,trigger:E,defaultIndex:S,portal:P,axisId:M}=r,T=Tt(),A=typeof S=="number"?String(S):S;v.useEffect(()=>{T(bge({shared:x,trigger:E,axisId:M,active:i,defaultIndex:A}))},[T,x,E,M,i,A]);var C=ub(),I=fB(),O=pge(x),{activeIndex:k,isActive:R}=(t=de(he=>Cye(he,O,E,A)))!==null&&t!==void 0?t:{},D=de(he=>Aye(he,O,E,A)),z=de(he=>L8(he,O,E,A)),L=de(he=>Tye(he,O,E,A)),V=D,B=Qye(),U=(n=i??R)!==null&&n!==void 0?n:!1,[F,Y]=h9([V,U]),X=O==="axis"?z:void 0;yve(O,E,L,X,k,U);var re=P??B;if(re==null||C==null||O==null)return null;var ee=V??_D;U||(ee=_D),u&&ee.length&&(ee=e9(ee.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),d,xve));var se=ee.length>0,_e=v.createElement(ufe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:U,coordinate:L,hasPayload:se,offset:f,position:p,reverseDirection:m,useTranslate3d:g,viewBox:C,wrapperStyle:_,lastBoundingBox:F,innerRef:Y,hasPortalFromProps:!!P},wve(l,vD(vD({},r),{},{payload:ee,label:X,active:U,activeIndex:k,coordinate:L,accessibilityLayer:I})));return v.createElement(v.Fragment,null,$0.createPortal(_e,re),U&&v.createElement(Xye,{cursor:y,tooltipEventType:O,coordinate:L,payload:ee,index:k}))}var F8=e=>null;F8.displayName="Cell";function Tve(e,t,n){return(t=Ave(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ave(e){var t=Cve(e,"string");return typeof t=="symbol"?t:t+""}function Cve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nve{constructor(t){Tve(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ive(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){Ove(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ove(e,t,n){return(t=Pve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pve(e){var t=kve(e,"string");return typeof t=="symbol"?t:t+""}function kve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rve={cacheSize:2e3,enableCache:!0},H8=Ive({},Rve),xD=new Nve(H8.cacheSize),Mve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wD="recharts_measurement_span";function Dve(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var ED=(e,t)=>{try{var n=document.getElementById(wD);n||(n=document.createElement("span"),n.setAttribute("id",wD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Mve,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},_h=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hb.isSsr)return{width:0,height:0};if(!H8.enableCache)return ED(t,n);var r=Dve(t,n),i=xD.get(r);if(i)return i;var a=ED(t,n);return xD.set(r,a),a},q8;function jve(e,t,n){return(t=Lve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lve(e){var t=zve(e,"string");return typeof t=="symbol"?t:t+""}function zve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Bve={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$ve=["cm","mm","pt","pc","in","Q","px"];function Fve(e){return $ve.includes(e)}var uc="NaN";function Hve(e,t){return e*Bve[t]}class wn{static parse(t){var n,[,r,i]=(n=Vve.exec(t))!==null&&n!==void 0?n:[];return r==null?wn.NaN:new wn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ha(t)&&(this.unit=""),n!==""&&!Uve.test(n)&&(this.num=NaN,this.unit=""),Fve(n)&&(this.num=Hve(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wn(NaN,""):new wn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wn(NaN,""):new wn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wn(NaN,""):new wn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wn(NaN,""):new wn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ha(this.num)}}q8=wn;jve(wn,"NaN",new q8(NaN,""));function G8(e){if(e==null||e.includes(uc))return uc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=SD.exec(t))!==null&&n!==void 0?n:[],s=wn.parse(r??""),o=wn.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return uc;t=t.replace(SD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,f,d]=(u=TD.exec(t))!==null&&u!==void 0?u:[],p=wn.parse(c??""),m=wn.parse(d??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return uc;t=t.replace(TD,g.toString())}return t}var AD=/\(([^()]*)\)/;function qve(e){for(var t=e,n;(n=AD.exec(t))!=null;){var[,r]=n;t=t.replace(AD,G8(r))}return t}function Gve(e){var t=e.replace(/\s+/g,"");return t=qve(t),t=G8(t),t}function Kve(e){try{return Gve(e)}catch{return uc}}function kw(e){var t=Kve(e.slice(5,-1));return t===uc?"":t}var Yve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wve=["dx","dy","angle","className","breakAll"];function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xS.apply(null,arguments)}function CD(e,t){if(e==null)return{};var n,r,i=Xve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var K8=/[ \f\n\r\t\v\u2028\u2029]+/,Y8=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];hn(t)||(n?i=t.toString().split(""):i=t.toString().split(K8));var a=i.map(o=>({word:o,width:_h(o,r).width})),s=n?0:_h("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Qve(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var W8=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),X8=e=>e.reduce((t,n)=>t.width>n.width?t:n),Zve="",ND=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=Y8({breakAll:n,style:r,children:l+Zve});if(!u)return[!1,[]];var c=W8(u.wordsWithComputedWidth,a,s,o),f=c.length>i||X8(c).width>Number(a);return[f,c]},Jve=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=le(a),c=String(s),f=W8(t,r,n,i);if(!u||i)return f;var d=f.length>a||X8(f).width>Number(r);if(!d)return f;for(var p=0,m=c.length-1,g=0,_;p<=m&&g<=c.length-1;){var y=Math.floor((p+m)/2),x=y-1,[E,S]=ND(c,x,l,o,a,r,n,i),[P]=ND(c,y,l,o,a,r,n,i);if(!E&&!P&&(p=y+1),E&&P&&(m=y-1),!E&&P){_=S;break}g++}return _||f},ID=e=>{var t=hn(e)?[]:e.toString().split(K8);return[{words:t,width:void 0}]},e0e=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!hb.isSsr){var o,l,u=Y8({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;o=c,l=f}else return ID(r);return Jve({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return ID(r)},Q8="#808080",t0e={angle:0,breakAll:!1,capHeight:"0.71em",fill:Q8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},QN=v.forwardRef((e,t)=>{var n=Zn(e,t0e),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=CD(n,Yve),d=v.useMemo(()=>e0e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:m,angle:g,className:_,breakAll:y}=f,x=CD(f,Wve);if(!pa(r)||!pa(i)||d.length===0)return null;var E=Number(r)+(le(p)?p:0),S=Number(i)+(le(m)?m:0);if(!ze(E)||!ze(S))return null;var P;switch(c){case"start":P=kw("calc(".concat(s,")"));break;case"middle":P=kw("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=kw("calc(".concat(d.length-1," * -").concat(a,")"));break}var M=[],T=d[0];if(l&&T!=null){var A=T.width,{width:C}=f;M.push("scale(".concat(le(C)&&le(A)?C/A:1,")"))}return g&&M.push("rotate(".concat(g,", ").concat(E,", ").concat(S,")")),M.length&&(x.transform=M.join(" ")),v.createElement("text",xS({},ii(x),{ref:t,x:E,y:S,className:ut("recharts-text",_),textAnchor:u,fill:o.includes("url")?Q8:o}),d.map((I,O)=>{var k=I.words.join(y?"":" ");return v.createElement("tspan",{x:E,dy:O===0?P:a,key:"".concat(k,"-").concat(O)},k)}))});QN.displayName="Text";function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){n0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n0e(e,t,n){return(t=r0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r0e(e){var t=i0e(e,"string");return typeof t=="symbol"?t:t+""}function i0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a0e=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:l,lowerWidth:u}=GC(t),c=a,f=a+(l-u)/2,d=(c+f)/2,p=(l+u)/2,m=c+l/2,g=o>=0?1:-1,_=g*r,y=g>0?"end":"start",x=g>0?"start":"end",E=l>=0?1:-1,S=E*r,P=E>0?"end":"start",M=E>0?"start":"end",T=i;if(n==="top"){var A={x:c+l/2,y:s-_,horizontalAnchor:"middle",verticalAnchor:y};return T&&(A.height=Math.max(s-T.y,0),A.width=l),A}if(n==="bottom"){var C={x:f+u/2,y:s+o+_,horizontalAnchor:"middle",verticalAnchor:x};return T&&(C.height=Math.max(T.y+T.height-(s+o),0),C.width=u),C}if(n==="left"){var I={x:d-S,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return T&&(I.width=Math.max(I.x-T.x,0),I.height=o),I}if(n==="right"){var O={x:d+p+S,y:s+o/2,horizontalAnchor:M,verticalAnchor:"middle"};return T&&(O.width=Math.max(T.x+T.width-O.x,0),O.height=o),O}var k=T?{width:p,height:o}:{};return n==="insideLeft"?Yi({x:d+S,y:s+o/2,horizontalAnchor:M,verticalAnchor:"middle"},k):n==="insideRight"?Yi({x:d+p-S,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},k):n==="insideTop"?Yi({x:c+l/2,y:s+_,horizontalAnchor:"middle",verticalAnchor:x},k):n==="insideBottom"?Yi({x:f+u/2,y:s+o-_,horizontalAnchor:"middle",verticalAnchor:y},k):n==="insideTopLeft"?Yi({x:c+S,y:s+_,horizontalAnchor:M,verticalAnchor:x},k):n==="insideTopRight"?Yi({x:c+l-S,y:s+_,horizontalAnchor:P,verticalAnchor:x},k):n==="insideBottomLeft"?Yi({x:f+S,y:s+o-_,horizontalAnchor:M,verticalAnchor:y},k):n==="insideBottomRight"?Yi({x:f+u-S,y:s+o-_,horizontalAnchor:P,verticalAnchor:y},k):n&&typeof n=="object"&&(le(n.x)||Ql(n.x))&&(le(n.y)||Ql(n.y))?Yi({x:a+ki(n.x,p),y:s+ki(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},k):Yi({x:m,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},k)},s0e=["labelRef"],o0e=["content"];function PD(e,t){if(e==null)return{};var n,r,i=l0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){u0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0e(e,t,n){return(t=c0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c0e(e){var t=f0e(e,"string");return typeof t=="symbol"?t:t+""}function f0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(null,arguments)}var Z8=v.createContext(null),d0e=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(Z8.Provider,{value:l},o)},J8=()=>{var e=v.useContext(Z8),t=ub();return e||(t?GC(t):void 0)},h0e=v.createContext(null),p0e=()=>{var e=v.useContext(h0e),t=de(N$);return e||t},m0e=e=>{var{value:t,formatter:n}=e,r=hn(e.children)?t:e.children;return typeof n=="function"?n(r):r},ZN=e=>e!=null&&typeof e=="function",g0e=(e,t)=>{var n=or(t-e),r=Math.min(Math.abs(t-e),360);return n*r},y0e=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:d,clockWise:p}=i,m=(u+c)/2,g=g0e(f,d),_=g>=0?1:-1,y,x;switch(t){case"insideStart":y=f+_*a,x=p;break;case"insideEnd":y=d-_*a,x=!p;break;case"end":y=d+_*a,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var E=On(o,l,m,y),S=On(o,l,m,y+(x?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(S.x,",").concat(S.y),M=hn(e.id)?np("recharts-radial-line-"):e.id;return v.createElement("text",Ra({},r,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:M,d:P})),v.createElement("textPath",{xlinkHref:"#".concat(M)},n))},v0e=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:c,y:f}=On(r,i,s+t,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+s)/2,{x:p,y:m}=On(r,i,d,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},vy=e=>e!=null&&"cx"in e&&le(e.cx),_0e={angle:0,offset:5,zIndex:Wn.label,position:"middle",textBreakAll:!1};function b0e(e){if(!vy(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function qs(e){var t=Zn(e,_0e),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:o,className:l="",textBreakAll:u,labelRef:c}=t,f=p0e(),d=J8(),p=i==="center"?d:f??d,m,g,_;n==null?m=p:vy(n)?m=n:m=GC(n);var y=b0e(m);if(!m||hn(a)&&hn(s)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Fd(Fd({},t),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:E}=x,S=PD(x,s0e);return v.cloneElement(o,S)}if(typeof o=="function"){var{content:P}=x,M=PD(x,o0e);if(g=v.createElement(o,M),v.isValidElement(g))return g}else g=m0e(t);var T=ii(t);if(vy(m)){if(i==="insideStart"||i==="insideEnd"||i==="end")return y0e(t,i,g,T,m);_=v0e(m,t.offset,t.position)}else{if(!y)return null;var A=a0e({viewBox:y,position:i,offset:t.offset,parentViewBox:vy(r)?void 0:r});_=Fd(Fd({x:A.x,y:A.y,textAnchor:A.horizontalAnchor,verticalAnchor:A.verticalAnchor},A.width!==void 0?{width:A.width}:{}),A.height!==void 0?{height:A.height}:{})}return v.createElement(Is,{zIndex:t.zIndex},v.createElement(QN,Ra({ref:c,className:ut("recharts-label",l)},T,_,{textAnchor:Qve(T.textAnchor)?T.textAnchor:_.textAnchor,breakAll:u}),g))}qs.displayName="Label";var x0e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(qs,Ra({key:"label-implicit"},r)):pa(e)?v.createElement(qs,Ra({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===qs?v.cloneElement(e,Fd({key:"label-implicit"},r)):v.createElement(qs,Ra({key:"label-implicit",content:e},r)):ZN(e)?v.createElement(qs,Ra({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(qs,Ra({},e,{key:"label-implicit"},r)):null};function w0e(e){var{label:t,labelRef:n}=e,r=J8();return x0e(t,r,n)||null}var eF={},tF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(tF);var nF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(nF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tF,n=nF,r=G_;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(eF);var E0e=eF.last;const S0e=ya(E0e);var T0e=["valueAccessor"],A0e=["dataKey","clockWise","id","textBreakAll","zIndex"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function RD(e,t){if(e==null)return{};var n,r,i=C0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var N0e=e=>Array.isArray(e.value)?S0e(e.value):e.value,rF=v.createContext(void 0),I0e=rF.Provider,iF=v.createContext(void 0);iF.Provider;function O0e(){return v.useContext(rF)}function P0e(){return v.useContext(iF)}function _y(e){var{valueAccessor:t=N0e}=e,n=RD(e,T0e),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=RD(n,A0e),u=O0e(),c=P0e(),f=u||c;return!f||!f.length?null:v.createElement(Is,{zIndex:o??Wn.label},v.createElement(os,{className:"recharts-label-list"},f.map((d,p)=>{var m,g=hn(r)?t(d,p):Rn(d.payload,r),_=hn(a)?{}:{id:"".concat(a,"-").concat(p)};return v.createElement(qs,T0({key:"label-".concat(p)},ii(d),l,_,{fill:(m=n.fill)!==null&&m!==void 0?m:d.fill,parentViewBox:d.parentViewBox,value:g,textBreakAll:s,viewBox:d.viewBox,index:p,zIndex:0}))})))}_y.displayName="LabelList";function k0e(e){var{label:t}=e;return t?t===!0?v.createElement(_y,{key:"labelList-implicit"}):v.isValidElement(t)||ZN(t)?v.createElement(_y,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(_y,T0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var R0e={radiusAxis:{},angleAxis:{}},aF=gr({name:"polarAxis",initialState:R0e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:HNe,removeRadiusAxis:qNe,addAngleAxis:GNe,removeAngleAxis:KNe}=aF.actions,M0e=aF.reducer;function D0e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var sF={exports:{}},it={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN=Symbol.for("react.transitional.element"),eI=Symbol.for("react.portal"),kb=Symbol.for("react.fragment"),Rb=Symbol.for("react.strict_mode"),Mb=Symbol.for("react.profiler"),Db=Symbol.for("react.consumer"),jb=Symbol.for("react.context"),Lb=Symbol.for("react.forward_ref"),zb=Symbol.for("react.suspense"),Ub=Symbol.for("react.suspense_list"),Vb=Symbol.for("react.memo"),Bb=Symbol.for("react.lazy"),j0e=Symbol.for("react.view_transition"),L0e=Symbol.for("react.client.reference");function li(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case JN:switch(e=e.type,e){case kb:case Mb:case Rb:case zb:case Ub:case j0e:return e;default:switch(e=e&&e.$$typeof,e){case jb:case Lb:case Bb:case Vb:return e;case Db:return e;default:return t}}case eI:return t}}}it.ContextConsumer=Db;it.ContextProvider=jb;it.Element=JN;it.ForwardRef=Lb;it.Fragment=kb;it.Lazy=Bb;it.Memo=Vb;it.Portal=eI;it.Profiler=Mb;it.StrictMode=Rb;it.Suspense=zb;it.SuspenseList=Ub;it.isContextConsumer=function(e){return li(e)===Db};it.isContextProvider=function(e){return li(e)===jb};it.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===JN};it.isForwardRef=function(e){return li(e)===Lb};it.isFragment=function(e){return li(e)===kb};it.isLazy=function(e){return li(e)===Bb};it.isMemo=function(e){return li(e)===Vb};it.isPortal=function(e){return li(e)===eI};it.isProfiler=function(e){return li(e)===Mb};it.isStrictMode=function(e){return li(e)===Rb};it.isSuspense=function(e){return li(e)===zb};it.isSuspenseList=function(e){return li(e)===Ub};it.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kb||e===Mb||e===Rb||e===zb||e===Ub||typeof e=="object"&&e!==null&&(e.$$typeof===Bb||e.$$typeof===Vb||e.$$typeof===jb||e.$$typeof===Db||e.$$typeof===Lb||e.$$typeof===L0e||e.getModuleId!==void 0)};it.typeOf=li;sF.exports=it;var z0e=sF.exports,MD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",DD=null,Rw=null,oF=e=>{if(e===DD&&Array.isArray(Rw))return Rw;var t=[];return v.Children.forEach(e,n=>{hn(n)||(z0e.isFragment(n)?t=t.concat(oF(n.props.children)):t.push(n))}),Rw=t,DD=e,t};function U0e(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>MD(i)):r=[MD(t)],oF(e).forEach(i=>{var a=Zc(i,"type.displayName")||Zc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var lF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(lF);var V0e=lF.isPlainObject;const B0e=ya(V0e);var jD,LD,zD,UD,VD;function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(r){$0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $0e(e,t,n){return(t=F0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F0e(e){var t=H0e(e,"string");return typeof t=="symbol"?t:t+""}function H0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function Ad(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FD=(e,t,n,r,i)=>{var a=n-r,s;return s=It(jD||(jD=Ad(["M ",",",""])),e,t),s+=It(LD||(LD=Ad(["L ",",",""])),e+n,t),s+=It(zD||(zD=Ad(["L ",",",""])),e+n-a/2,t+i),s+=It(UD||(UD=Ad(["L ",",",""])),e+n-a/2-r,t+i),s+=It(VD||(VD=Ad(["L ",","," Z"])),e,t),s},q0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G0e=e=>{var t=Zn(e,q0e),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=t,d=v.useRef(null),[p,m]=v.useState(-1),g=v.useRef(i),_=v.useRef(a),y=v.useRef(s),x=v.useRef(n),E=v.useRef(r),S=ZC(e,"trapezoid-");if(v.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var D=d.current.getTotalLength();D&&m(D)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var P=ut("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",A0({},ii(t),{className:P,d:FD(n,r,i,a,s)})));var M=g.current,T=_.current,A=y.current,C=x.current,I=E.current,O="0px ".concat(p===-1?1:p,"px"),k="".concat(p,"px 0px"),R=hB(["strokeDasharray"],u,l);return v.createElement(QC,{animationId:S,key:S,canBegin:p>0,duration:u,easing:l,isActive:f,begin:c},D=>{var z=Tn(M,i,D),L=Tn(T,a,D),V=Tn(A,s,D),B=Tn(C,n,D),U=Tn(I,r,D);d.current&&(g.current=z,_.current=L,y.current=V,x.current=B,E.current=U);var F=D>0?{transition:R,strokeDasharray:k}:{strokeDasharray:O};return v.createElement("path",A0({},ii(t),{className:P,d:FD(B,U,z,L,V),ref:d,style:$D($D({},F),t.style)}))})},K0e=["option","shapeType","activeClassName"];function Y0e(e,t){if(e==null)return{};var n,r,i=W0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(n),!0).forEach(function(r){X0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X0e(e,t,n){return(t=Q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0e(e){var t=Z0e(e,"string");return typeof t=="symbol"?t:t+""}function Z0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J0e(e,t){return C0(C0({},t),e)}function e_e(e,t){return e==="symbols"}function qD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(yB,n);case"trapezoid":return v.createElement(G0e,n);case"sector":return v.createElement(bB,n);case"symbols":if(e_e(t))return v.createElement(AC,n);break;case"curve":return v.createElement(dB,n);default:return null}}function t_e(e){return v.isValidElement(e)?e.props:e}function n_e(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Y0e(e,K0e),a;if(v.isValidElement(t))a=v.cloneElement(t,C0(C0({},i),t_e(t)));else if(typeof t=="function")a=t(i,i.index);else if(B0e(t)&&typeof t!="boolean"){var s=J0e(t,i);a=v.createElement(qD,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(qD,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(os,{className:r},a):a}var uF=(e,t,n)=>{var r=Tt();return(i,a)=>s=>{e==null||e(i,a,s),r(y8({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},cF=e=>{var t=Tt();return(n,r)=>i=>{e==null||e(n,r,i),t(xge())}},fF=(e,t,n)=>{var r=Tt();return(i,a)=>s=>{e==null||e(i,a,s),r(wge({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function r_e(e){var{tooltipEntrySettings:t}=e,n=Tt(),r=yr(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(yge(t)):i.current!==t&&n(vge({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(_ge(i.current)),i.current=null)},[n]),null}function i_e(e){var{legendPayload:t}=e,n=Tt(),r=yr(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(Dce(t)):i.current!==t&&n(jce({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(Lce(i.current)),i.current=null)},[n]),null}var Mw,a_e=()=>{var[e]=v.useState(()=>np("uid-"));return e},s_e=(Mw=Y7.useId)!==null&&Mw!==void 0?Mw:a_e;function o_e(e,t){var n=s_e();return t||(e?"".concat(e,"-").concat(n):n)}var l_e=v.createContext(void 0),u_e=e=>{var{id:t,type:n,children:r}=e,i=o_e("recharts-".concat(n),t);return v.createElement(l_e.Provider,{value:i},r(i))},c_e={cartesianItems:[],polarItems:[]},dF=gr({name:"graphicalItems",initialState:c_e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_t()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ni(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:_t()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ni(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:_t()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_t()},removePolarGraphicalItem:{reducer(e,t){var n=Ni(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:_t()}}}),{addCartesianGraphicalItem:f_e,replaceCartesianGraphicalItem:d_e,removeCartesianGraphicalItem:h_e,addPolarGraphicalItem:YNe,removePolarGraphicalItem:WNe}=dF.actions,p_e=dF.reducer,m_e=e=>{var t=Tt(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(f_e(e)):n.current!==e&&t(d_e({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(h_e(n.current)),n.current=null)},[t]),null},g_e=v.memo(m_e);function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){y_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y_e(e,t,n){return(t=v_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v_e(e){var t=__e(e,"string");return typeof t=="symbol"?t:t+""}function __e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hF=0,b_e={xAxis:{},yAxis:{},zAxis:{}},pF=gr({name:"cartesianAxis",initialState:b_e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_t()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:_t()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_t()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_t()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:_t()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_t()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_t()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:_t()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_t()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=KD(KD({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:x_e,replaceXAxis:w_e,removeXAxis:E_e,addYAxis:S_e,replaceYAxis:T_e,removeYAxis:A_e,addZAxis:XNe,replaceZAxis:QNe,removeZAxis:ZNe,updateYAxisWidth:C_e}=pF.actions,N_e=pF.reducer,I_e=H([pn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),O_e=H([I_e,ws,Es],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),mF=()=>de(O_e),YD=(e,t,n)=>{var r=n??e;if(!hn(r))return ki(r,t,0)},P_e=(e,t,n)=>{var r={},i=e.filter(Tb),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>{var f=u[c.stackId];return f==null&&(f=[]),f.push(c),u[c.stackId]=f,u},r),o=Object.entries(s).map(u=>{var c,[f,d]=u,p=d.map(g=>g.dataKey),m=YD(t,n,(c=d[0])===null||c===void 0?void 0:c.barSize);return{stackId:f,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(d=>d!=null),f=YD(t,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...o,...l]};function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Og(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){k_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k_e(e,t,n){return(t=R_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_e(e){var t=M_e(e,"string");return typeof t=="symbol"?t:t+""}function M_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_e(e,t,n,r,i){var a,s=r.length;if(!(s<1)){var o=ki(e,n,0,!0),l,u=[];if(ze((a=r[0])===null||a===void 0?void 0:a.barSize)){var c=!1,f=n/s,d=r.reduce((x,E)=>x+(E.barSize||0),0);d+=(s-1)*o,d>=n&&(d-=(s-1)*o,o=0),d>=n&&f>0&&(c=!0,f*=.9,d=s*f);var p=(n-d)/2>>0,m={offset:p-o,size:0};l=r.reduce((x,E)=>{var S,P={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:m.offset+m.size+o,size:c?f:(S=E.barSize)!==null&&S!==void 0?S:0}},M=[...x,P];return m=P.position,M},u)}else{var g=ki(t,n,0,!0);n-2*g-(s-1)*o<=0&&(o=0);var _=(n-2*g-(s-1)*o)/s;_>1&&(_>>=0);var y=ze(i)?Math.min(_,i):_;l=r.reduce((x,E,S)=>[...x,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g+(_+o)*S+(_-y)/2,size:y}}],u)}return l}}var j_e=(e,t,n,r,i,a,s)=>{var o=hn(s)?t:s,l=D_e(n,r,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>Og(Og({},u),{},{position:Og(Og({},u.position),{},{offset:u.position.offset-i/2})}))),l},L_e=(e,t)=>{var n=ON(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},z_e=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function U_e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ze(e.zIndex)?e.zIndex:t}var V_e=e=>{var{chartData:t}=e,n=Tt(),r=yr();return v.useEffect(()=>r?()=>{}:(n(mD(t)),()=>{n(mD(void 0))}),[t,n,r]),null},XD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gF=gr({name:"brush",initialState:XD,reducers:{setBrushSettings(e,t){return t.payload==null?XD:t.payload}}}),{setBrushSettings:JNe}=gF.actions,B_e=gF.reducer;function $_e(e){return(e%180+180)%180}var F_e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$_e(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},H_e={dots:[],areas:[],lines:[]},yF=gr({name:"referenceElements",initialState:H_e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ni(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ni(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ni(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:eIe,removeDot:tIe,addArea:nIe,removeArea:rIe,addLine:iIe,removeLine:aIe}=yF.actions,q_e=yF.reducer,G_e=v.createContext(void 0),K_e=e=>{var{children:t}=e,[n]=v.useState("".concat(np("recharts"),"-clip")),r=mF();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(G_e.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function vF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Y_e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return F_e(r,n)}function W_e(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function mp(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function X_e(e,t){return vF(e,t+1)}function Q_e(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:vF(r,u)};var g=l,_,y=()=>(_===void 0&&(_=n(m,g)),_),x=m.coordinate,E=l===0||mp(e,x,y,c,o);E||(l=0,c=s,u+=1),E&&(c=x+e*(y()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function Z_e(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,f=o,d=!0,p=function(){var S=r[g];if(S==null)return 0;var P=g,M,T=()=>(M===void 0&&(M=n(S,P)),M),A=S.coordinate,C=g===c||mp(e,A,T,f,l);if(!C)return d=!1,1;C&&(f=A+e*(T()/2+i))},m,g=c;g<s&&(m=p(),!(m!==0&&m===1));g+=u);if(d){for(var _=[],y=c;y<s;y+=u){var x=r[y];x!=null&&_.push(x)}return _}}return[]}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(r){J_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J_e(e,t,n){return(t=ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ebe(e){var t=tbe(e,"string");return typeof t=="symbol"?t:t+""}function tbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nbe(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(d){var p=a[d];if(p==null)return 1;var m=p,g,_=()=>(g===void 0&&(g=n(p,d)),g);if(d===s-1){var y=e*(m.coordinate+e*_()/2-l);a[d]=m=jn(jn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[d]=m=jn(jn({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=mp(e,m.tickCoord,_,o,l);x&&(l=m.tickCoord-e*(_()/2+i),a[d]=jn(jn({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function rbe(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=r[o-1];if(c!=null){var f=n(c,o-1),d=e*(c.coordinate+e*f/2-u);if(s[o-1]=c=jn(jn({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate}),c.tickCoord!=null){var p=mp(e,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-e*(f/2+i),s[o-1]=jn(jn({},c),{},{isShow:!0}))}}}for(var m=a?o-1:o,g=function(x){var E=s[x];if(E==null)return 1;var S=E,P,M=()=>(P===void 0&&(P=n(E,x)),P);if(x===0){var T=e*(S.coordinate-e*M()/2-l);s[x]=S=jn(jn({},S),{},{tickCoord:T<0?S.coordinate-T*e:S.coordinate})}else s[x]=S=jn(jn({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var A=mp(e,S.tickCoord,M,l,u);A&&(l=S.tickCoord+e*(M()/2+i),s[x]=jn(jn({},S),{},{isShow:!0}))}},_=0;_<m;_++)g(_);return s}function tI(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:f}=e;if(!i||!i.length||!r)return[];if(le(l)||hb.isSsr){var d;return(d=X_e(i,le(l)?l:0))!==null&&d!==void 0?d:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",g=c&&m==="width"?_h(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(P,M)=>{var T=typeof u=="function"?u(P.value,M):P.value;return m==="width"?Y_e(_h(T,{fontSize:t,letterSpacing:n}),g,f):_h(T,{fontSize:t,letterSpacing:n})[m]},y=i[0],x=i[1],E=i.length>=2&&y!=null&&x!=null?or(x.coordinate-y.coordinate):1,S=W_e(a,E,m);return l==="equidistantPreserveStart"?Q_e(E,S,_,i,s):l==="equidistantPreserveEnd"?Z_e(E,S,_,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=rbe(E,S,_,i,s,l==="preserveStartEnd"):p=nbe(E,S,_,i,s),p.filter(P=>P.isShow))}var ibe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},abe=["axisLine","width","height","className","hide","ticks","axisType"];function sbe(e,t){if(e==null)return{};var n,r,i=obe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function obe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru.apply(null,arguments)}function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){lbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lbe(e,t,n){return(t=ube(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ube(e){var t=cbe(e,"string");return typeof t=="symbol"?t:t+""}function cbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Wn.axis};function fbe(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Nt(Nt(Nt({},l),ss(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=Nt(Nt({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Nt(Nt({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",ru({},u,{className:ut("recharts-cartesian-axis-line",Zc(o,"className"))}))}function dbe(e,t,n,r,i,a,s,o,l){var u,c,f,d,p,m,g=o?-1:1,_=e.tickSize||s,y=le(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,d=n+ +!o*i,f=d-g*_,m=f-g*l,p=y;break;case"left":f=d=e.coordinate,c=t+ +!o*r,u=c-g*_,p=u-g*l,m=y;break;case"right":f=d=e.coordinate,c=t+ +o*r,u=c+g*_,p=u+g*l,m=y;break;default:u=c=e.coordinate,d=n+ +o*i,f=d+g*_,m=f+g*l,p=y;break}return{line:{x1:u,y1:f,x2:c,y2:d},tick:{x:p,y:m}}}function hbe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pbe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mbe(e){var{option:t,tickProps:n,value:r}=e,i,a=ut(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Nt(Nt({},n),{},{className:a}));else if(typeof t=="function")i=t(Nt(Nt({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ut(s,D0e(t))),i=v.createElement(QN,ru({},n,{className:s}),r)}return i}var gbe=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:f,x:d,y:p,width:m,height:g,tickSize:_,tickMargin:y,fontSize:x,letterSpacing:E,getTicksConfig:S,events:P,axisType:M}=e,T=tI(Nt(Nt({},S),{},{ticks:n}),x,E),A=hbe(c,f),C=pbe(c,f),I=ss(S),O=bC(r),k={};typeof i=="object"&&(k=i);var R=Nt(Nt({},I),{},{fill:"none"},k),D=T.map(V=>Nt({entry:V},dbe(V,d,p,m,g,c,_,f,y))),z=D.map(V=>{var{entry:B,line:U}=V;return v.createElement(os,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},i&&v.createElement("line",ru({},R,U,{className:ut("recharts-cartesian-axis-tick-line",Zc(i,"className"))})))}),L=D.map((V,B)=>{var U,F,{entry:Y,tick:X}=V,re=Nt(Nt(Nt(Nt({verticalAnchor:C},I),{},{textAnchor:A,stroke:"none",fill:a},X),{},{index:B,payload:Y,visibleTicksCount:T.length,tickFormatter:s,padding:l},u),{},{angle:(U=(F=u==null?void 0:u.angle)!==null&&F!==void 0?F:I.angle)!==null&&U!==void 0?U:0}),ee=Nt(Nt({},re),O);return v.createElement(os,ru({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},q_(P,Y,B)),r&&v.createElement(mbe,{option:r,tickProps:ee,value:"".concat(typeof s=="function"?s(Y.value,B):Y.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},L.length>0&&v.createElement(Is,{zIndex:Wn.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},L)),z.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},z))}),ybe=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=sbe(e,abe),[c,f]=v.useState(""),[d,p]=v.useState(""),m=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return ibe({ticks:m.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(_=>{if(_){var y=_.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=y;var x=y[0];if(x){var E=window.getComputedStyle(x),S=E.fontSize,P=E.letterSpacing;(S!==c||P!==d)&&(f(S),p(P))}}},[c,d]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Is,{zIndex:e.zIndex},v.createElement(os,{className:ut("recharts-cartesian-axis",a)},v.createElement(fbe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ss(e)}),v.createElement(gbe,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:d,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(d0e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(w0e,{label:e.label,labelRef:e.labelRef}),e.children)))}),nI=v.forwardRef((e,t)=>{var n=Zn(e,Xa);return v.createElement(ybe,ru({},n,{ref:t}))});nI.displayName="CartesianAxis";var vbe=["x1","y1","x2","y2","key"],_be=["offset"],bbe=["xAxisId","yAxisId"],xbe=["xAxisId","yAxisId"];function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(r){wbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wbe(e,t,n){return(t=Ebe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ebe(e){var t=Sbe(e,"string");return typeof t=="symbol"?t:t+""}function Sbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(null,arguments)}function N0(e,t){if(e==null)return{};var n,r,i=Tbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Abe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _F(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,c=N0(n,vbe),f=(i=ss(c))!==null&&i!==void 0?i:{},{offset:d}=f,p=N0(f,_be);r=v.createElement("line",Sl({},p,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Cbe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=N0(e,bbe),l=i.map((u,c)=>{var f=Vn(Vn({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(c),index:c});return v.createElement(_F,{key:"line-".concat(c),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Nbe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=N0(e,xbe),l=i.map((u,c)=>{var f=Vn(Vn({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(c),index:c});return v.createElement(_F,{option:r,lineItemProps:f,key:"line-".concat(c)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ibe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==u[0]&&u.unshift(0);var c=u.map((f,d)=>{var p=u[d+1],m=p==null,g=m?i+s-f:p-f;if(g<=0)return null;var _=d%t.length;return v.createElement("rect",{key:"react-".concat(d),y:f,x:r,height:g,width:a,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Obe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==u[0]&&u.unshift(0);var c=u.map((f,d)=>{var p=u[d+1],m=p==null,g=m?i+s-f:p-f;if(g<=0)return null;var _=d%n.length;return v.createElement("rect",{key:"react-".concat(d),x:f,y:a,width:g,height:o,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Pbe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return H9(tI(Vn(Vn(Vn({},Xa),n),{},{ticks:q9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},kbe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return H9(tI(Vn(Vn(Vn({},Xa),n),{},{ticks:q9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Rbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Wn.grid};function bF(e){var t=KC(),n=YC(),r=eB(),i=Vn(Vn({},Zn(e,Rbe)),{},{x:le(e.x)?e.x:r.left,y:le(e.y)?e.y:r.top,width:le(e.width)?e.width:r.width,height:le(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:d,verticalValues:p}=i,m=yr(),g=de(C=>iD(C,"xAxis",a,m)),_=de(C=>iD(C,"yAxis",s,m));if(!ma(u)||!ma(c)||!le(o)||!le(l))return null;var y=i.verticalCoordinatesGenerator||Pbe,x=i.horizontalCoordinatesGenerator||kbe,{horizontalPoints:E,verticalPoints:S}=i;if((!E||!E.length)&&typeof x=="function"){var P=d&&d.length,M=x({yAxis:_?Vn(Vn({},_),{},{ticks:P?d:_.ticks}):void 0,width:t??u,height:n??c,offset:r},P?!0:f);t0(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(E=M)}if((!S||!S.length)&&typeof y=="function"){var T=p&&p.length,A=y({xAxis:g?Vn(Vn({},g),{},{ticks:T?p:g.ticks}):void 0,width:t??u,height:n??c,offset:r},T?!0:f);t0(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(S=A)}return v.createElement(Is,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Abe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Ibe,Sl({},i,{horizontalPoints:E})),v.createElement(Obe,Sl({},i,{verticalPoints:S})),v.createElement(Cbe,Sl({},i,{offset:r,horizontalPoints:E,xAxis:g,yAxis:_})),v.createElement(Nbe,Sl({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:_}))))}bF.displayName="CartesianGrid";var Mbe={},xF=gr({name:"errorBars",initialState:Mbe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:sIe,replaceErrorBar:oIe,removeErrorBar:lIe}=xF.actions,Dbe=xF.reducer,jbe=["children"];function Lbe(e,t){if(e==null)return{};var n,r,i=zbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ube={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vbe=v.createContext(Ube);function Bbe(e){var{children:t}=e,n=Lbe(e,jbe);return v.createElement(Vbe.Provider,{value:n},t)}function wF(e,t){var n,r,i=de(u=>As(u,e)),a=de(u=>Cs(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function $be(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=mF(),{needClipX:a,needClipY:s,needClip:o}=wF(t,n);if(!o||!i)return null;var{x:l,y:u,width:c,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-c/2,y:s?u:u-f/2,width:a?c:c*2,height:s?f:f*2}))}var Fbe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=v;function Hbe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qbe=typeof Object.is=="function"?Object.is:Hbe,Gbe=gm.useSyncExternalStore,Kbe=gm.useRef,Ybe=gm.useEffect,Wbe=gm.useMemo,Xbe=gm.useDebugValue;Fbe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Kbe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Wbe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,qbe(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var o=Gbe(e,a[0],a[1]);return Ybe(function(){s.hasValue=!0,s.value=o},[o]),Xbe(o),o};function Qbe(e){e()}function Zbe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Qbe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var ej={notify(){},get:()=>[]};function Jbe(e,t){let n,r=ej,i=0,a=!1;function s(g){c();const _=r.subscribe(g);let y=!1;return()=>{y||(y=!0,_(),f())}}function o(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return a}function c(){i++,n||(n=e.subscribe(l),r=Zbe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ej)}function d(){a||(a=!0,c())}function p(){a&&(a=!1,f())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return m}var exe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",txe=exe(),nxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rxe=nxe(),ixe=()=>txe||rxe?v.useLayoutEffect:v.useEffect,axe=ixe();function tj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sxe(e,t){if(tj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!tj(e[n[i]],t[n[i]]))return!1;return!0}var Dw=Symbol.for("react-redux-context"),jw=typeof globalThis<"u"?globalThis:{};function oxe(){if(!v.createContext)return{};const e=jw[Dw]??(jw[Dw]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var lxe=oxe();function uxe(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=Jbe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);axe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||lxe;return v.createElement(o.Provider,{value:a},t)}var cxe=uxe,fxe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dxe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function rI(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(fxe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!sxe(e[r],t[r]))return!1}else if(!dxe(e[r],t[r]))return!1;return!0}function _u(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:hF}function bu(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:hF}var hxe="Invariant failed";function pxe(e,t){throw new Error(hxe)}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wS.apply(null,arguments)}function I0(e){return v.createElement(n_e,wS({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var mxe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(le(t))return t;var a=le(r)||hn(r);return a?t(r,i):(a||pxe(),n)}},gxe=(e,t,n)=>n,yxe=(e,t)=>t,ym=H([kN,yxe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),vxe=H([ym],e=>e==null?void 0:e.maxBarSize),_xe=(e,t,n,r)=>r,bxe=H([rt,kN,_u,bu,gxe],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),xxe=(e,t,n)=>{var r=rt(e),i=_u(e,t),a=bu(e,t);if(!(i==null||a==null))return r==="horizontal"?gS(e,"yAxis",a,n):gS(e,"xAxis",i,n)},wxe=(e,t)=>{var n=rt(e),r=_u(e,t),i=bu(e,t);if(!(r==null||i==null))return n==="horizontal"?rD(e,"xAxis",r):rD(e,"yAxis",i)},Exe=H([bxe,sme,wxe],P_e),Sxe=(e,t,n)=>{var r,i,a=ym(e,t);if(a==null)return 0;var s=_u(e,t),o=bu(e,t);if(s==null||o==null)return 0;var l=rt(e),u=b$(e),{maxBarSize:c}=a,f=hn(c)?u:c,d,p;return l==="horizontal"?(d=lf(e,"xAxis",s,n),p=of(e,"xAxis",s,n)):(d=lf(e,"yAxis",o,n),p=of(e,"yAxis",o,n)),(r=(i=e0(d,p,!0))!==null&&i!==void 0?i:f)!==null&&r!==void 0?r:0},EF=(e,t,n)=>{var r=rt(e),i=_u(e,t),a=bu(e,t);if(!(i==null||a==null)){var s,o;return r==="horizontal"?(s=lf(e,"xAxis",i,n),o=of(e,"xAxis",i,n)):(s=lf(e,"yAxis",a,n),o=of(e,"yAxis",a,n)),e0(s,o)}},Txe=H([Exe,b$,ame,x$,Sxe,EF,vxe],j_e),Axe=(e,t,n)=>{var r=_u(e,t);if(r!=null)return lf(e,"xAxis",r,n)},Cxe=(e,t,n)=>{var r=bu(e,t);if(r!=null)return lf(e,"yAxis",r,n)},Nxe=(e,t,n)=>{var r=_u(e,t);if(r!=null)return of(e,"xAxis",r,n)},Ixe=(e,t,n)=>{var r=bu(e,t);if(r!=null)return of(e,"yAxis",r,n)},Oxe=H([Txe,ym],z_e),Pxe=H([xxe,ym],L_e),kxe=H([pn,HC,Axe,Cxe,Nxe,Ixe,Oxe,rt,Qpe,EF,Pxe,ym,_xe],(e,t,n,r,i,a,s,o,l,u,c,f,d)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:_}=f,y;if(_!=null&&_.length>0?y=_:y=p==null?void 0:p.slice(m,g+1),y!=null)return swe({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:y,offset:e,cells:d,dataStartIndex:m})}}),Rxe=["index"];function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ES.apply(null,arguments)}function Mxe(e,t){if(e==null)return{};var n,r,i=Dxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SF=v.createContext(void 0),jxe=e=>{var t=v.useContext(SF);if(t!=null)return t.stackId;if(e!=null)return Uue(e)},Lxe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),zxe=e=>{var t=v.useContext(SF);if(t!=null){var{stackId:n}=t;return"url(#".concat(Lxe(n,e),")")}},TF=e=>{var{index:t}=e,n=Mxe(e,Rxe),r=zxe(t);return v.createElement(os,ES({className:"recharts-bar-stack-layer",clipPath:r},n))},Uxe=["onMouseEnter","onMouseLeave","onClick"],Vxe=["value","background","tooltipPosition"],Bxe=["id"],$xe=["onMouseEnter","onClick","onMouseLeave"];function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ps.apply(null,arguments)}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){Fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fxe(e,t,n){return(t=Hxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0(e,t){if(e==null)return{};var n,r,i=Gxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kxe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:G9(n,t),payload:e}]},Yxe=v.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:o,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,getPosition:Rf,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:G9(a,t),hide:s,type:l,color:i,unit:o,graphicalItemId:u}};return v.createElement(r_e,{tooltipEntrySettings:c})});function Wxe(e){var t=de(uf),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=O0(a,Uxe),c=uF(s,r,a.id),f=cF(o),d=fF(l,r,a.id);if(!i||n==null)return null;var p=bC(i);return v.createElement(Is,{zIndex:U_e(i,Wn.barBackground)},n.map((m,g)=>{var{value:_,background:y,tooltipPosition:x}=m,E=O0(m,Vxe);if(!y)return null;var S=c(m,g),P=f(m,g),M=d(m,g),T=Hn(Hn(Hn(Hn(Hn({option:i,isActive:String(g)===t},E),{},{fill:"#eee"},y),p),q_(u,m,g)),{},{onMouseEnter:S,onMouseLeave:P,onClick:M,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return v.createElement(I0,ps({key:"background-bar-".concat(g)},T))}))}function Xxe(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Hn(Hn({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return v.createElement(I0e,{value:t?i:void 0},n)}function Qxe(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,o=de(uf),l=de(k8),u=n&&String(a)===o&&(l==null||s===l),c=u?n:t;return u?v.createElement(Is,{zIndex:Wn.activeBar},v.createElement(TF,{index:a},v.createElement(I0,ps({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:s})))):v.createElement(I0,ps({},r,{name:String(r.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function Zxe(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return v.createElement(I0,ps({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function Jxe(e){var t,{data:n,props:r}=e,i=(t=ss(r))!==null&&t!==void 0?t:{},{id:a}=i,s=O0(i,Bxe),{shape:o,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:f,onMouseLeave:d}=r,p=O0(r,$xe),m=uF(c,l,a),g=cF(d),_=fF(f,l,a);return n?v.createElement(v.Fragment,null,n.map((y,x)=>v.createElement(TF,ps({index:x,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(x),className:"recharts-bar-rectangle"},q_(p,y,x),{onMouseEnter:m(y,x),onMouseLeave:g(y,x),onClick:_(y,x)}),u?v.createElement(Qxe,{shape:o,activeBar:u,baseProps:s,entry:y,index:x,dataKey:l}):v.createElement(Zxe,{shape:o,baseProps:s,entry:y,index:x,dataKey:l})))):null}function ewe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,f=n.current,d=ZC(t,"recharts-bar-"),[p,m]=v.useState(!1),g=!p,_=v.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),y=v.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return v.createElement(Xxe,{showLabels:g,rects:r},v.createElement(QC,{animationId:d,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:_,onAnimationStart:y,key:d},x=>{var E=x===1?r:r==null?void 0:r.map((S,P)=>{var M=f&&f[P];if(M)return Hn(Hn({},S),{},{x:Tn(M.x,S.x,x),y:Tn(M.y,S.y,x),width:Tn(M.width,S.width,x),height:Tn(M.height,S.height,x)});if(i==="horizontal"){var T=Tn(0,S.height,x),A=Tn(S.stackedBarStart,S.y,x);return Hn(Hn({},S),{},{y:A,height:T})}var C=Tn(0,S.width,x),I=Tn(S.stackedBarStart,S.x,x);return Hn(Hn({},S),{},{width:C,x:I})});return x>0&&(n.current=E??null),E==null?null:v.createElement(os,null,v.createElement(Jxe,{props:t,data:E}))}),v.createElement(k0e,{label:t.label}),t.children)}function twe(e){var t=v.useRef(null);return v.createElement(ewe,{previousRectanglesRef:t,props:e})}var AF=0,nwe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Rn(e,t)}};class rwe extends v.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||n==null)return null;var c=ut("recharts-bar",i),f=u;return v.createElement(os,{className:c,id:u},o&&v.createElement("defs",null,v.createElement($be,{clipPathId:f,xAxisId:a,yAxisId:s})),v.createElement(os,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},v.createElement(Wxe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),v.createElement(twe,this.props)))}}var iwe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:AF,xAxisId:0,yAxisId:0,zIndex:Wn.bar};function awe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:f}=wF(t,n),d=Mf(),p=yr(),m=U0e(e.children,F8),g=de(x=>kxe(x,e.id,p,m));if(d!=="vertical"&&d!=="horizontal")return null;var _,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?_=0:_=d==="vertical"?y.height/2:y.width/2,v.createElement(Bbe,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:nwe,errorBarOffset:_},v.createElement(rwe,ps({},e,{layout:d,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function swe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:d,cells:p,parentViewBox:m,dataStartIndex:g}=e,_=t==="horizontal"?o:s,y=c?_.scale.domain():null,x=Vue({numericAxis:_}),E=_.scale.map(x);return f.map((S,P)=>{var M,T,A,C,I,O;if(c){var k=c[P+g];if(k==null)return null;M=Mue(k,y)}else M=Rn(S,n),Array.isArray(M)||(M=[x,M]);var R=mxe(r,AF)(M[1],P);if(t==="horizontal"){var D,z=o.scale.map(M[0]),L=o.scale.map(M[1]);if(z==null||L==null)return null;T=uR({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:S,index:P}),A=(D=L??z)!==null&&D!==void 0?D:void 0,C=i.size;var V=z-L;if(I=ha(V)?0:V,O={x:T,y:d.top,width:C,height:d.height},Math.abs(R)>0&&Math.abs(I)<Math.abs(R)){var B=or(I||R)*(Math.abs(R)-Math.abs(I));A-=B,I+=B}}else{var U=s.scale.map(M[0]),F=s.scale.map(M[1]);if(U==null||F==null)return null;if(T=U,A=uR({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:S,index:P}),C=F-U,I=i.size,O={x:d.left,y:A,width:d.width,height:I},Math.abs(R)>0&&Math.abs(C)<Math.abs(R)){var Y=or(C||R)*(Math.abs(R)-Math.abs(C));C+=Y}}if(T==null||A==null||C==null||I==null)return null;var X=Hn(Hn({},S),{},{stackedBarStart:E,x:T,y:A,width:C,height:I,value:c?M:M[1],payload:S,background:O,tooltipPosition:{x:T+C/2,y:A+I/2},parentViewBox:m},p&&p[P]&&p[P].props);return X}).filter(Boolean)}function owe(e){var t=Zn(e,iwe),n=jxe(t.stackId),r=yr();return v.createElement(u_e,{id:t.id,type:"bar"},i=>v.createElement(v.Fragment,null,v.createElement(i_e,{legendPayload:Kxe(t)}),v.createElement(Yxe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),v.createElement(g_e,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(Is,{zIndex:t.zIndex},v.createElement(awe,ps({},t,{id:i})))))}var SS=v.memo(owe,rI);SS.displayName="Bar";var lwe=["domain","range"],uwe=["domain","range"];function rj(e,t){if(e==null)return{};var n,r,i=cwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ij(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function CF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=rj(e,lwe),{domain:a,range:s}=t,o=rj(t,uwe);return!ij(n,a)||!ij(r,s)?!1:rI(i,o)}var fwe=["type"],dwe=["dangerouslySetInnerHTML","ticks","scale"],hwe=["id","scale"];function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(null,arguments)}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pwe(e,t,n){return(t=mwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mwe(e){var t=gwe(e,"string");return typeof t=="symbol"?t:t+""}function gwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AS(e,t){if(e==null)return{};var n,r,i=ywe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ywe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vwe(e){var t=Tt(),n=v.useRef(null),r=tB(),{type:i}=e,a=AS(e,fwe),s=wb(r,"xAxis",i),o=v.useMemo(()=>{if(s!=null)return sj(sj({},a),{},{type:s})},[a,s]);return v.useLayoutEffect(()=>{o!=null&&(n.current===null?t(x_e(o)):n.current!==o&&t(w_e({prev:n.current,next:o})),n.current=o)},[o,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(E_e(n.current)),n.current=null)},[t]),null}var _we=e=>{var{xAxisId:t,className:n}=e,r=de(HC),i=yr(),a="xAxis",s=de(y=>f8(y,a,t,i)),o=de(y=>o8(y,t)),l=de(y=>oge(y,t)),u=de(y=>O$(y,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:d}=e,p=AS(e,dwe),{id:m,scale:g}=u,_=AS(u,hwe);return v.createElement(nI,TS({},p,_,{x:l.x,y:l.y,width:o.width,height:o.height,className:ut("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},bwe={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,angle:nn.angle,axisLine:Xa.axisLine,height:nn.height,hide:!1,includeHidden:nn.includeHidden,interval:nn.interval,label:!1,minTickGap:nn.minTickGap,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,tickLine:Xa.tickLine,tickSize:Xa.tickSize,type:nn.type,xAxisId:0},xwe=e=>{var t=Zn(e,bwe);return v.createElement(v.Fragment,null,v.createElement(vwe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(_we,t))},NF=v.memo(xwe,CF);NF.displayName="XAxis";var wwe=["type"],Ewe=["dangerouslySetInnerHTML","ticks","scale"],Swe=["id","scale"];function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){Twe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Twe(e,t,n){return(t=Awe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Awe(e){var t=Cwe(e,"string");return typeof t=="symbol"?t:t+""}function Cwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NS(e,t){if(e==null)return{};var n,r,i=Nwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Iwe(e){var t=Tt(),n=v.useRef(null),r=tB(),{type:i}=e,a=NS(e,wwe),s=wb(r,"yAxis",i),o=v.useMemo(()=>{if(s!=null)return lj(lj({},a),{},{type:s})},[s,a]);return v.useLayoutEffect(()=>{o!=null&&(n.current===null?t(S_e(o)):n.current!==o&&t(T_e({prev:n.current,next:o})),n.current=o)},[o,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(A_e(n.current)),n.current=null)},[t]),null}function Owe(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=de(HC),l=yr(),u=Tt(),c="yAxis",f=de(M=>l8(M,t)),d=de(M=>uge(M,t)),p=de(M=>f8(M,c,t,l)),m=de(M=>P$(M,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||ZN(i)||v.isValidElement(i)||m==null)){var M=a.current;if(M){var T=M.getCalculatedWidth();Math.round(f.width)!==Math.round(T)&&u(C_e({id:t,width:T}))}}},[p,f,u,i,t,r,m]),f==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:_,scale:y}=e,x=NS(e,Ewe),{id:E,scale:S}=m,P=NS(m,Swe);return v.createElement(nI,CS({},x,P,{ref:a,labelRef:s,x:d.x,y:d.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:ut("recharts-".concat(c," ").concat(c),n),viewBox:o,ticks:p,axisType:c}))}var Pwe={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:Xa.axisLine,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,label:!1,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:Xa.tickLine,tickSize:Xa.tickSize,type:rn.type,width:rn.width,yAxisId:0},kwe=e=>{var t=Zn(e,Pwe);return v.createElement(v.Fragment,null,v.createElement(Iwe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Owe,t))},IF=v.memo(kwe,CF);IF.displayName="YAxis";var Rwe=(e,t)=>t,iI=H([Rwe,rt,N$,yn,N8,Ns,Eye,pn],Oye),aI=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},OF=ai("mouseClick"),PF=nm();PF.startListening({actionCreator:OF,effect:(e,t)=>{var n=e.payload,r=iI(t.getState(),aI(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Ege({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var IS=ai("mouseMove"),kF=nm(),Pg=null;kF.startListening({actionCreator:IS,effect:(e,t)=>{var n=e.payload;Pg!==null&&cancelAnimationFrame(Pg);var r=aI(n);Pg=requestAnimationFrame(()=>{var i=t.getState(),a=BN(i,i.tooltip.settings.shared);if(a==="axis"){var s=iI(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(_8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(v8())}Pg=null})}});function Mwe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var uj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},RF=gr({name:"rootProps",initialState:uj,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:uj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Dwe=RF.reducer,{updateOptions:jwe}=RF.actions,Lwe=null,zwe={updatePolarOptions:(e,t)=>t.payload},MF=gr({name:"polarOptions",initialState:Lwe,reducers:zwe}),{updatePolarOptions:uIe}=MF.actions,Uwe=MF.reducer,DF=ai("keyDown"),jF=ai("focus"),sI=nm();sI.startListening({actionCreator:DF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=$N(i,Ff(n),dm(n),pm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ns(n);if(a==="Enter"){var u=S0(n,"axis","hover",String(i.index));t.dispatch(vS({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=hge(n),f=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,p=o+d*f;if(!(l==null||p>=l.length||p<0)){var m=S0(n,"axis","hover",String(p));t.dispatch(vS({active:!0,activeIndex:p.toString(),activeCoordinate:m}))}}}}}});sI.startListening({actionCreator:jF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=S0(n,"axis","hover",String(a));t.dispatch(vS({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Fr=ai("externalEvent"),LF=nm(),Lw=new Map;LF.startListening({actionCreator:Fr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Lw.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:lye(o),activeDataKey:k8(o),activeIndex:uf(o),activeLabel:P8(o),activeTooltipIndex:uf(o),isTooltipActive:uye(o)};n(l,r)}finally{Lw.delete(i)}});Lw.set(i,s)}}});var Vwe=H([Bf],e=>e.tooltipItemPayloads),Bwe=H([Vwe,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),zF=ai("touchMove"),UF=nm();UF.startListening({actionCreator:zF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=BN(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=iI(r,aI({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(_8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(Kue),f=(o=u.getAttribute(Yue))!==null&&o!==void 0?o:void 0,d=$f(r).find(g=>g.id===f);if(c==null||d==null||f==null)return;var{dataKey:p}=d,m=Bwe(r,c,f);t.dispatch(y8({activeDataKey:p,activeIndex:c,activeCoordinate:m,activeGraphicalItemId:f}))}}}});var $we=m9({brush:B_e,cartesianAxis:N_e,chartData:ove,errorBars:Dbe,graphicalItems:p_e,layout:Iue,legend:zce,options:nve,polarAxis:M0e,polarOptions:Uwe,referenceElements:q_e,rootProps:Dwe,tooltip:Sge,zIndex:Hye}),Fwe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return eue({reducer:$we,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([PF.middleware,kF.middleware,sI.middleware,LF.middleware,UF.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(O9({type:"raf"}))},devTools:{serialize:{replacer:Mwe},name:"recharts-".concat(n)}})};function Hwe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=yr(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=Fwe(t,r));var s=DC;return v.createElement(cxe,{context:s,store:a.current},n)}function qwe(e){var{layout:t,margin:n}=e,r=Tt(),i=yr();return v.useEffect(()=>{i||(r(Aue(t)),r(Tue(n)))},[r,i,t,n]),null}var Gwe=v.memo(qwe,rI);function Kwe(e){var t=Tt();return v.useEffect(()=>{t(jwe(e))},[t,e]),null}function cj(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Tt();return v.useLayoutEffect(()=>(r.current&&i($ye({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Fye({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function fj(e){var{children:t,isPanorama:n}=e,r=de(kye);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(cj,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(cj,{key:s,zIndex:s,isPanorama:n})))}var Ywe=["children"];function Wwe(e,t){if(e==null)return{};var n,r,i=Xwe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}var Qwe={width:"100%",height:"100%",display:"block"},Zwe=v.forwardRef((e,t)=>{var n=KC(),r=YC(),i=fB();if(!ma(n)||!ma(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),v.createElement(xC,P0({},s,{title:o,desc:l,role:c,tabIndex:u,width:n,height:r,style:Qwe,ref:t}),a)}),Jwe=e=>{var{children:t}=e,n=de(lb);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(xC,{width:r,height:i,x:s,y:a},t)},dj=v.forwardRef((e,t)=>{var{children:n}=e,r=Wwe(e,Ywe),i=yr();return i?v.createElement(Jwe,null,v.createElement(fj,{isPanorama:!0},n)):v.createElement(Zwe,P0({ref:t},r),v.createElement(fj,{isPanorama:!1},n))});function e1e(){var e=Tt(),[t,n]=v.useState(null),r=de(Gue);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ze(a)&&a!==r&&e(Nue(a))}},[t,e,r]),n}function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t1e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(r){n1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n1e(e,t,n){return(t=r1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r1e(e){var t=i1e(e,"string");return typeof t=="symbol"?t:t+""}function i1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var a1e=()=>(gve(),null);function k0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var s1e=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:k0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:k0((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((u,c)=>{s(f=>{var d=Math.round(u),p=Math.round(c);return f.containerWidth===d&&f.containerHeight===p?f:{containerWidth:d,containerHeight:p}})},[]),l=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();o(c,f);var d=m=>{var g=m[0];if(g!=null){var{width:_,height:y}=g.contentRect;o(_,y)}},p=new ResizeObserver(d);p.observe(u),i.current=p}},[t,o]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(im,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Ao({ref:l},e)))}),o1e=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:k0(n),containerHeight:k0(r)}),s=v.useCallback((l,u)=>{a(c=>{var f=Math.round(l),d=Math.round(u);return c.containerWidth===f&&c.containerHeight===d?c:{containerWidth:f,containerHeight:d}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(im,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Ao({ref:o},e)))}),l1e=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(im,{width:n,height:r}),v.createElement("div",Ao({ref:t},e)))}),u1e=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?v.createElement(o1e,Ao({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?v.createElement(l1e,Ao({},e,{width:n,height:r,ref:t})):v.createElement(v.Fragment,null,v.createElement(im,{width:n,height:r}),v.createElement("div",Ao({ref:t},e)))});function c1e(e){return e?s1e:u1e}var f1e=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:d,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:_,width:y,responsive:x,dispatchTouchEvents:E=!0}=e,S=v.useRef(null),P=Tt(),[M,T]=v.useState(null),[A,C]=v.useState(null),I=e1e(),O=qC(),k=(O==null?void 0:O.width)>0?O.width:y,R=(O==null?void 0:O.height)>0?O.height:i,D=v.useCallback(G=>{I(G),typeof t=="function"&&t(G),T(G),C(G),G!=null&&(S.current=G)},[I,t,T,C]),z=v.useCallback(G=>{P(OF(G)),P(Fr({handler:a,reactEvent:G}))},[P,a]),L=v.useCallback(G=>{P(IS(G)),P(Fr({handler:u,reactEvent:G}))},[P,u]),V=v.useCallback(G=>{P(v8()),P(Fr({handler:c,reactEvent:G}))},[P,c]),B=v.useCallback(G=>{P(IS(G)),P(Fr({handler:f,reactEvent:G}))},[P,f]),U=v.useCallback(()=>{P(jF())},[P]),F=v.useCallback(G=>{P(DF(G.key))},[P]),Y=v.useCallback(G=>{P(Fr({handler:s,reactEvent:G}))},[P,s]),X=v.useCallback(G=>{P(Fr({handler:o,reactEvent:G}))},[P,o]),re=v.useCallback(G=>{P(Fr({handler:l,reactEvent:G}))},[P,l]),ee=v.useCallback(G=>{P(Fr({handler:d,reactEvent:G}))},[P,d]),se=v.useCallback(G=>{P(Fr({handler:g,reactEvent:G}))},[P,g]),_e=v.useCallback(G=>{E&&P(zF(G)),P(Fr({handler:m,reactEvent:G}))},[P,E,m]),he=v.useCallback(G=>{P(Fr({handler:p,reactEvent:G}))},[P,p]),De=c1e(x);return v.createElement(U8.Provider,{value:M},v.createElement(pV.Provider,{value:A},v.createElement(De,{width:k??(_==null?void 0:_.width),height:R??(_==null?void 0:_.height),className:ut("recharts-wrapper",r),style:t1e({position:"relative",cursor:"default",width:k,height:R},_),onClick:z,onContextMenu:Y,onDoubleClick:X,onFocus:U,onKeyDown:F,onMouseDown:re,onMouseEnter:L,onMouseLeave:V,onMouseMove:B,onMouseUp:ee,onTouchEnd:he,onTouchMove:_e,onTouchStart:se,ref:D},v.createElement(a1e,null),n)))}),d1e=["width","height","responsive","children","className","style","compact","title","desc"];function h1e(e,t){if(e==null)return{};var n,r,i=p1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m1e=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,f=h1e(e,d1e),d=ss(f);return l?v.createElement(v.Fragment,null,v.createElement(im,{width:n,height:r}),v.createElement(dj,{otherAttributes:d,title:u,desc:c},a)):v.createElement(f1e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(dj,{otherAttributes:d,title:u,desc:c,ref:t},v.createElement(K_e,null,a)))});function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OS.apply(null,arguments)}var g1e={top:5,right:5,bottom:5,left:5},y1e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:g1e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},v1e=v.forwardRef(function(t,n){var r,i=Zn(t.categoricalChartProps,y1e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(Hwe,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},v.createElement(V_e,{chartData:u.data}),v.createElement(Gwe,{layout:i.layout,margin:i.margin}),v.createElement(Kwe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(m1e,OS({},i,{ref:n})))}),_1e=["axis","item"],b1e=v.forwardRef((e,t)=>v.createElement(v1e,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_1e,tooltipPayloadSearcher:eve,categoricalChartProps:e,ref:t}));const VF=[{id:"nikel",name:"Nikel",description:"Tulang punggung hilirisasi untuk ekosistem baterai kendaraan listrik global.",importValue:2.4,exportValue:33.8,rawExport:1.2,processedExport:32.6,year:2023,derivatives:[{level:"Hulu",product:"Bijih Nikel (Ore)",valueAdded:"1x",subProducts:[{level:"Hulu",product:"Saprolite Ore (High-Grade)",valueAdded:"",subProducts:[{level:"Antara",product:"Ferronickel (FeNi)",valueAdded:"6x"},{level:"Antara",product:"Nickel Pig Iron (NPI)",valueAdded:"5x",subProducts:[{level:"Hilir",product:"Stainless Steel",valueAdded:"10x"}]}]},{level:"Hulu",product:"Limonite Ore (Low-Grade)",valueAdded:"",subProducts:[{level:"Antara",product:"Mixed Hydroxide Precipitate (MHP)",valueAdded:"8x",subProducts:[{level:"Hilir",product:"Nickel Sulphate",valueAdded:"15x",subProducts:[{level:"Hilir",product:"Prekursor Katoda",valueAdded:"18x",subProducts:[{level:"Hilir",product:"Sel Baterai EV",valueAdded:"20x"}]}]}]}]}]}]},{id:"bauksit",name:"Bauksit",description:"Transformasi dari bijih mentah menjadi aluminium untuk industri transportasi.",importValue:1.8,exportValue:5.4,rawExport:.9,processedExport:4.5,year:2023,derivatives:[{level:"Hulu",product:"Bijih Bauksit",valueAdded:"1x"},{level:"Antara",product:"Alumina (SGA)",valueAdded:"8x"},{level:"Hilir",product:"Ingot Aluminium",valueAdded:"15x"}]},{id:"tembaga",name:"Tembaga",description:"Penyokong utama infrastruktur energi terbarukan dan transmisi listrik.",importValue:3.1,exportValue:8.9,rawExport:2.1,processedExport:6.8,year:2023,derivatives:[{level:"Hulu",product:"Konsentrat Tembaga",valueAdded:"1x"},{level:"Antara",product:"Katoda Tembaga",valueAdded:"4x"},{level:"Hilir",product:"Kabel & Komponen Presisi",valueAdded:"12x"}]},{id:"timah",name:"Timah",description:"Material krusial untuk industri semikonduktor dan penyolderan elektronik.",importValue:.5,exportValue:3.2,rawExport:.4,processedExport:2.8,year:2023,derivatives:[{level:"Hulu",product:"Pasir Timah",valueAdded:"1x"},{level:"Antara",product:"Timah Ingot",valueAdded:"3x"},{level:"Hilir",product:"Tin Chemical / Solder",valueAdded:"10x"}]}],x1e=[{name:"Kawasan Industri Weda Bay",region:"Maluku Utara",status:"Operasional",progress:100},{name:"Smelter Manyar (Freeport)",region:"Jawa Timur",status:"Konstruksi Akhir",progress:96},{name:"Kawasan Industri Tanah Kuning",region:"Kaltara",status:"Pematangan Lahan",progress:48},{name:"Smelter Nikel Sorowako",region:"Sulawesi Selatan",status:"Ekspansi",progress:72}],pj=VF.map(e=>({name:e.name,rawExport:e.rawExport*1e3,processedExport:e.processedExport*1e3})),w1e=[{id:"1",title:"Pemerintah Siapkan Insentif Baru untuk Hilirisasi Bauksit",summary:"Kementerian Investasi/BKPM menjanjikan tax holiday hingga 20 tahun bagi investor smelter bauksit guna mempercepat target larangan ekspor bijih.",category:"Kebijakan",date:"12 Mei 2024",imageUrl:"https://images.unsplash.com/photo-1518152006812-edab29b069ac?auto=format&fit=crop&q=80&w=800"},{id:"2",title:"Realisasi Investasi Sektor Manufaktur Capai Rp 145 Triliun",summary:"Capaian investasi triwulan I didominasi oleh pembangunan pabrik pengolahan nikel dan tembaga di wilayah Indonesia Timur.",category:"Ekonomi",date:"10 Mei 2024",imageUrl:"https://images.unsplash.com/photo-1565514020179-026b92b84bb6?auto=format&fit=crop&q=80&w=800"},{id:"3",title:"Teknologi HPAL Mulai Diimplementasikan di Maluku Utara",summary:"Penerapan teknologi High Pressure Acid Leaching (HPAL) memungkinkan ekstraksi nikel kadar rendah untuk bahan baku baterai EV.",category:"Teknologi",date:"08 Mei 2024",imageUrl:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=800"}],zw=({title:e,value:t,trend:n,isPositive:r,icon:i})=>b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:i}),b.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${r?"text-emerald-600":"text-rose-600"}`,children:[n,r?b.jsx(AE,{size:16}):b.jsx(hae,{size:16})]})]}),b.jsx("h3",{className:"text-slate-500 text-sm font-medium mb-1",children:e}),b.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t})]}),E1e=()=>b.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Ringkasan Nasional"}),b.jsx("p",{className:"text-slate-500",children:"Overview performa hilirisasi industri Indonesia"})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-sm text-slate-400",children:"Terakhir diperbarui"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Mei 2024"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsx(zw,{title:"Total Nilai Tambah Hilirisasi",value:"US$ 33.8 Miliar",trend:"+24.5%",isPositive:!0,icon:b.jsx(TE,{size:24})}),b.jsx(zw,{title:"Volume Ekspor Olahan",value:"14.2 Juta Ton",trend:"+18.2%",isPositive:!0,icon:b.jsx(mse,{size:24})}),b.jsx(zw,{title:"Investasi Smelter",value:"Rp 128 Triliun",trend:"-2.1%",isPositive:!1,icon:b.jsx(IE,{size:24})})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Nilai Ekspor: Mentah vs Olahan (US$ Juta)"}),b.jsxs("select",{className:"bg-slate-50 border border-slate-200 text-sm rounded-lg px-3 py-1 text-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{children:"Tahun 2023"}),b.jsx("option",{children:"Tahun 2022"})]})]}),b.jsx("div",{className:"h-[300px]",children:b.jsx(vce,{width:"100%",height:"100%",children:b.jsxs(b1e,{data:pj,children:[b.jsx(bF,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),b.jsx(NF,{dataKey:"name",axisLine:!1,tickLine:!1}),b.jsx(IF,{axisLine:!1,tickLine:!1}),b.jsx(Sve,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx(cB,{iconType:"circle"}),b.jsx(SS,{name:"Bahan Mentah",dataKey:"rawExport",fill:"#94a3b8",radius:[4,4,0,0]}),b.jsx(SS,{name:"Hasil Hilirisasi",dataKey:"processedExport",fill:"#2563eb",radius:[4,4,0,0]})]})})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Distribusi Komoditas"}),b.jsxs("div",{className:"space-y-6",children:[pj.slice(0,4).map((e,t)=>b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[b.jsx("span",{className:"font-medium text-slate-700",children:e.name}),b.jsxs("span",{className:"text-slate-500",children:[Math.round(e.processedExport/(e.processedExport+e.rawExport)*100),"% Rasio Hilirisasi"]})]}),b.jsx("div",{className:"w-full h-2 bg-slate-100 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${e.processedExport/(e.processedExport+e.rawExport)*100}%`}})})]},t)),b.jsx("button",{className:"w-full py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Lihat Detail Komoditas"})]})]})]})]}),S1e=()=>b.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Pusat Informasi Hilirisasi"}),b.jsx("p",{className:"text-slate-500",children:"Berita, regulasi, dan laporan industri terbaru"})]}),b.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[b.jsx(yC,{size:18}),"Unduh Laporan Tahunan"]})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w1e.map(e=>b.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-100 group cursor-pointer transition-all hover:shadow-md hover:-translate-y-1",children:[b.jsxs("div",{className:"relative h-48",children:[b.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),b.jsx("div",{className:"absolute top-4 left-4",children:b.jsx("span",{className:"bg-blue-600 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:e.category})})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400 mb-3",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(Nae,{size:12}),e.date]}),b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx(_se,{size:12}),e.category]})]}),b.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2 group-hover:text-blue-600 transition-colors",children:e.title}),b.jsx("p",{className:"text-sm text-slate-500 line-clamp-3 mb-4",children:e.summary}),b.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-semibold gap-1",children:["Baca Selengkapnya",b.jsx(jv,{size:16})]})]})]},e.id))}),b.jsx("div",{className:"bg-blue-50 p-8 rounded-2xl border border-blue-100",children:b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[b.jsxs("div",{className:"flex-1 space-y-4",children:[b.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"Kumpulan Regulasi Terbaru"}),b.jsx("p",{className:"text-blue-700/80",children:"Akses seluruh dokumen legalitas dan peraturan menteri terkait hilirisasi mineral dan batubara dalam satu pintu."}),b.jsx("div",{className:"flex flex-wrap gap-2",children:["Permen ESDM","PP No. 25/2023","UU Minerba","Inpres Hilirisasi"].map(e=>b.jsx("span",{className:"px-3 py-1 bg-white border border-blue-200 text-blue-700 text-xs font-medium rounded-full cursor-pointer hover:bg-blue-100",children:e},e))})]}),b.jsx("div",{className:"w-full md:w-auto",children:b.jsx("button",{className:"w-full md:w-auto px-8 py-3 bg-blue-900 text-white rounded-xl font-bold shadow-lg shadow-blue-900/20 hover:bg-blue-800 transition-colors",children:"Buka Arsip Regulasi"})})]})})]});var mj;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(mj||(mj={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gj;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(gj||(gj={}));var yj;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(yj||(yj={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=["user","model","function","system"];var _j;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(_j||(_j={}));var bj;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(bj||(bj={}));var xj;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(xj||(xj={}));var wj;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(wj||(wj={}));var bh;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(bh||(bh={}));var Ej;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Ej||(Ej={}));var Sj;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Sj||(Sj={}));var Tj;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Tj||(Tj={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Lu extends Bn{constructor(t,n){super(t),this.response=n}}class BF extends Bn{constructor(t,n,r,i){super(t),this.status=n,this.statusText=r,this.errorDetails=i}}class Co extends Bn{}class $F extends Bn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1e="https://generativelanguage.googleapis.com",A1e="v1beta",C1e="0.24.1",N1e="genai-js";var iu;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(iu||(iu={}));class I1e{constructor(t,n,r,i,a){this.model=t,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||A1e;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||T1e}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function O1e(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${N1e}/${C1e}`),t.join(" ")}async function P1e(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",O1e(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Co(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Co(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Co(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function k1e(e,t,n,r,i,a){const s=new I1e(e,t,n,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},j1e(a)),{method:"POST",headers:await P1e(s),body:i})}}async function vm(e,t,n,r,i,a={},s=fetch){const{url:o,fetchOptions:l}=await k1e(e,t,n,r,i,a);return R1e(o,l,s)}async function R1e(e,t,n=fetch){let r;try{r=await n(e,t)}catch(i){M1e(i,e)}return r.ok||await D1e(r,e),r}function M1e(e,t){let n=e;throw n.name==="AbortError"?(n=new $F(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof BF||e instanceof Co||(n=new Bn(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function D1e(e,t){let n="",r;try{const i=await e.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new BF(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function j1e(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),by(e.candidates[0]))throw new Lu(`${Gs(e)}`,e);return L1e(e)}else if(e.promptFeedback)throw new Lu(`Text not available. ${Gs(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),by(e.candidates[0]))throw new Lu(`${Gs(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Aj(e)[0]}else if(e.promptFeedback)throw new Lu(`Function call not available. ${Gs(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),by(e.candidates[0]))throw new Lu(`${Gs(e)}`,e);return Aj(e)}else if(e.promptFeedback)throw new Lu(`Function call not available. ${Gs(e)}`,e)},e}function L1e(e){var t,n,r,i;const a=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function Aj(e){var t,n,r,i;const a=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const z1e=[bh.RECITATION,bh.SAFETY,bh.LANGUAGE];function by(e){return!!e.finishReason&&z1e.includes(e.finishReason)}function Gs(e){var t,n,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];by(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function gp(e){return this instanceof gp?(this.v=e,this):new gp(e)}function U1e(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(p){return new Promise(function(m,g){a.push([d,p,m,g])>1||o(d,p)})})}function o(d,p){try{l(r[d](p))}catch(m){f(a[0][3],m)}}function l(d){d.value instanceof gp?Promise.resolve(d.value.v).then(u,c):f(a[0][2],d)}function u(d){o("next",d)}function c(d){o("throw",d)}function f(d,p){d(p),a.shift(),a.length&&o(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function V1e(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=F1e(t),[r,i]=n.tee();return{stream:$1e(r),response:B1e(i)}}async function B1e(e){const t=[],n=e.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return oI(H1e(t));t.push(i)}}function $1e(e){return U1e(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:i}=yield gp(n.read());if(i)break;yield yield gp(oI(r))}})}function F1e(e){const t=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return t.read().then(({value:s,done:o})=>{if(o){if(i.trim()){r.error(new Bn("Failed to parse stream"));return}r.close();return}i+=s;let l=i.match(Cj),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new Bn(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(Cj)}return a()}).catch(s=>{let o=s;throw o.stack=s.stack,o.name==="AbortError"?o=new $F("Request aborted when reading from the stream"):o=new Bn("Error reading from the stream"),o})}}})}function H1e(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=a.citationMetadata,n.candidates[i].groundingMetadata=a.groundingMetadata,n.candidates[i].finishReason=a.finishReason,n.candidates[i].finishMessage=a.finishMessage,n.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[i].content||(n.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const o of a.content.parts)o.text&&(s.text=o.text),o.functionCall&&(s.functionCall=o.functionCall),o.executableCode&&(s.executableCode=o.executableCode),o.codeExecutionResult&&(s.codeExecutionResult=o.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(e,t,n,r){const i=await vm(t,iu.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return V1e(i)}async function HF(e,t,n,r){const a=await(await vm(t,iu.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:oI(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function yp(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return q1e(t)}function q1e(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(n.parts.push(a),i=!0):(t.parts.push(a),r=!0);if(r&&i)throw new Bn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Bn("No content is provided for sending chat message.");return r?t:n}function G1e(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Co("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=yp(e);r.contents=[a]}return{generateContentRequest:r}}function Nj(e){let t;return e.contents?t=e:t={contents:[yp(e)]},e.systemInstruction&&(t.systemInstruction=qF(e.systemInstruction)),t}function K1e(e){return typeof e=="string"||Array.isArray(e)?{content:yp(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Y1e={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function W1e(e){let t=!1;for(const n of e){const{role:r,parts:i}=n;if(!t&&r!=="user")throw new Bn(`First content should be with role 'user', got ${r}`);if(!vj.includes(r))throw new Bn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(vj)}`);if(!Array.isArray(i))throw new Bn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Bn("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const l of Ij)l in o&&(a[l]+=1);const s=Y1e[r];for(const o of Ij)if(!s.includes(o)&&a[o]>0)throw new Bn(`Content with role '${r}' can't contain '${o}' part`);t=!0}}function Oj(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="SILENT_ERROR";class X1e{constructor(t,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(W1e(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,i,a,s,o,l;await this._sendPromise;const u=yp(t),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n);let d;return this._sendPromise=this._sendPromise.then(()=>HF(this._apiKey,this.model,c,f)).then(p=>{var m;if(Oj(p.response)){this._history.push(u);const g=Object.assign({parts:[],role:"model"},(m=p.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(g)}else{const g=Gs(p.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}d=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,d}async sendMessageStream(t,n={}){var r,i,a,s,o,l;await this._sendPromise;const u=yp(t),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n),d=FF(this._apiKey,this.model,c,f);return this._sendPromise=this._sendPromise.then(()=>d).catch(p=>{throw new Error(Pj)}).then(p=>p.response).then(p=>{if(Oj(p)){this._history.push(u);const m=Object.assign({},p.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=Gs(p);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(p=>{p.message!==Pj&&console.error(p)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1e(e,t,n,r){return(await vm(t,iu.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1e(e,t,n,r){return(await vm(t,iu.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function J1e(e,t,n,r){const i=n.requests.map(s=>Object.assign(Object.assign({},s),{model:t}));return(await vm(t,iu.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=qF(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const i=Nj(t),a=Object.assign(Object.assign({},this._requestOptions),n);return HF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(t,n={}){var r;const i=Nj(t),a=Object.assign(Object.assign({},this._requestOptions),n);return FF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(t){var n;return new X1e(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=G1e(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return Q1e(this.apiKey,this.model,r,i)}async embedContent(t,n={}){const r=K1e(t),i=Object.assign(Object.assign({},this._requestOptions),n);return Z1e(this.apiKey,this.model,r,i)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return J1e(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eEe{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Bn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new kj(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Co("Cached content must contain a `name` field.");if(!t.model)throw new Co("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(n!=null&&n[s]&&t[s]&&(n==null?void 0:n[s])!==t[s]){if(s==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(o===l)continue}throw new Co(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${t[s]})`)}const a=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new kj(this.apiKey,a,r)}}class tEe{constructor(t){Bm(this,"genAI");this.genAI=new eEe(t)}async getHilirisasiInsights(t){try{const n=this.genAI.getGenerativeModel({model:"gemini-1.5-flash-latest",systemInstruction:"Anda adalah pakar ekonomi industri Indonesia spesialis hilirisasi. Berikan analisis mendalam, data-driven, namun mudah dipahami. Fokus pada nilai tambah, penyerapan tenaga kerja, dan dampak makroekonomi."}),r={temperature:.7,topP:1,topK:1,maxOutputTokens:2048},i=[{text:t}];return(await n.generateContent({contents:[{role:"user",parts:i}],generationConfig:r})).response.text()}catch(n){return console.error("Gemini API Error:",n),"Maaf, terjadi kesalahan saat menghubungi asisten AI. Silakan coba lagi nanti."}}}const nEe="AIzaSyD0Yl1bX4W3bX8KJz3Q9v1Z2x5Y6Z7A8B9",rEe=new tEe(nEe),iEe=()=>{const[e,t]=v.useState([{role:"ai",content:"Halo! Saya adalah asisten AI Nusantara Industries. Ada yang bisa saya bantu terkait data atau kebijakan hilirisasi nasional hari ini?"}]),[n,r]=v.useState(""),[i,a]=v.useState(!1),s=v.useRef(null),o=()=>{var u;(u=s.current)==null||u.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{o()},[e]);const l=async()=>{if(!n.trim()||i)return;const u=n.trim();r(""),t(f=>[...f,{role:"user",content:u}]),a(!0);const c=await rEe.getHilirisasiInsights(u);t(f=>[...f,{role:"ai",content:c}]),a(!1)};return b.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-white p-4 rounded-2xl shadow-sm border border-slate-100",children:[b.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600",children:b.jsx(dy,{size:24})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"AI Konsultan Industri"}),b.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-1",children:[b.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Siap menganalisis data hilirisasi"]})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto px-2 space-y-6 mb-4",children:[e.map((u,c)=>b.jsxs("div",{className:`flex items-start gap-4 ${u.role==="user"?"flex-row-reverse":""}`,children:[b.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 ${u.role==="ai"?"bg-blue-900 text-white":"bg-slate-200 text-slate-600"}`,children:u.role==="ai"?b.jsx(dy,{size:20}):b.jsx(lV,{size:20})}),b.jsxs("div",{className:`max-w-[80%] p-4 rounded-2xl shadow-sm ${u.role==="ai"?"bg-white text-slate-800 border border-slate-100":"bg-blue-600 text-white"}`,children:[u.role==="ai"&&b.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-blue-600 mb-1",children:[b.jsx(yse,{size:10}),"Analisis AI"]}),b.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.content})]})]},c)),i&&b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-900 text-white flex items-center justify-center flex-shrink-0 animate-pulse",children:b.jsx(dy,{size:20})}),b.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-2",children:[b.jsx(Jp,{className:"animate-spin text-blue-600",size:18}),b.jsx("span",{className:"text-sm text-slate-500",children:"Sedang menganalisis data..."})]})]}),b.jsx("div",{ref:s})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),onKeyDown:u=>u.key==="Enter"&&l(),placeholder:"Tanyakan dampak pelarangan ekspor bijih nikel...",className:"w-full bg-white border border-slate-200 rounded-2xl px-6 py-4 pr-16 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg text-slate-700"}),b.jsx("button",{onClick:l,disabled:!n.trim()||i,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 bg-blue-900 text-white rounded-xl flex items-center justify-center hover:bg-blue-800 transition-colors disabled:opacity-50",children:b.jsx(cse,{size:18})})]}),b.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Asisten AI mungkin memberikan informasi yang perlu divalidasi dengan data resmi BPS atau ESDM."})]})},aEe=({onLogin:e,onGoToDashboard:t})=>{const n=Sf(),[r,i]=v.useState(""),[a,s]=v.useState(""),[o,l]=v.useState(!1),[u,c]=v.useState(null),f=async d=>{if(d.preventDefault(),c(null),r&&a){l(!0);try{const m=(await jQ(SE,r,a)).user,g=Yh(tp,"users/"+m.uid),_=await qz(g);let y={};if(_.exists()){const x=_.val();y={...m,...x},console.log("Storing combined user data:",y)}else y=m,console.log("No extra data in RTDB, using basic profile.");sessionStorage.setItem("user",JSON.stringify(y)),sessionStorage.setItem("isLoggedIn","true"),e(),n("/dashboard")}catch(p){console.error("Error signing in: ",p),c("Email atau password salah, atau terjadi gangguan koneksi.")}finally{l(!1)}}else c("Harap isi email dan password.")};return b.jsxs("div",{className:"min-h-screen flex font-sans",children:[b.jsxs("div",{className:"hidden lg:flex w-1/2 bg-blue-900 relative items-center justify-center overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-20",children:b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-blue-400 via-transparent to-transparent"})}),b.jsxs("div",{className:"relative z-10 p-12 text-white",children:[b.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl mb-8 flex items-center justify-center shadow-2xl",children:b.jsx("span",{className:"text-blue-900 font-black text-3xl",children:"NI"})}),b.jsxs("h1",{className:"text-5xl font-extrabold mb-6 leading-tight tracking-tighter",children:["Pusat Data Hilirisasi ",b.jsx("br",{})," ",b.jsx("span",{className:"text-blue-400",children:"Industri Nasional"})]}),b.jsx("p",{className:"text-xl text-blue-100 max-w-lg mb-12 font-medium",children:"Akses data strategis ekspor-impor komoditas olahan dan analisis kebijakan industri dalam satu platform terpadu."}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/10 shadow-xl",children:[b.jsx("p",{className:"text-3xl font-black mb-1",children:"US$ 33M+"}),b.jsx("p",{className:"text-xs font-bold text-blue-300 uppercase tracking-widest",children:"Nilai Tambah Ekspor"})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/10 shadow-xl",children:[b.jsx("p",{className:"text-3xl font-black mb-1",children:"12+"}),b.jsx("p",{className:"text-xs font-bold text-blue-300 uppercase tracking-widest",children:"Sektor Strategis"})]})]})]})]}),b.jsx("div",{className:"w-full lg:w-1/2 bg-slate-50 flex items-center justify-center p-8",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsxs("div",{className:"relative text-center mb-10",children:[b.jsxs("button",{onClick:t,className:"absolute right-0 top-1/2 -translate-y-1/2 flex items-center justify-center px-4 h-12 bg-white border border-slate-200 hover:bg-slate-50 rounded-2xl transition-all shadow-sm group",children:[b.jsx(Lv,{className:"text-slate-400 group-hover:text-blue-600 transition-colors",size:20}),b.jsx("span",{className:"ml-2 text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Guest View"})]}),b.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2 tracking-tight",children:"Otentikasi Portal"}),b.jsx("p",{className:"text-slate-500 font-medium",children:"Sistem Monitoring Industri Terpadu"})]}),u&&b.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 rounded-2xl flex items-center gap-3 text-rose-600 animate-in fade-in slide-in-from-top-2 duration-300",children:[b.jsx(hy,{size:20}),b.jsx("p",{className:"text-xs font-black uppercase tracking-tight",children:u})]}),b.jsxs("form",{onSubmit:f,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Kredensial Email"}),b.jsxs("div",{className:"relative",children:[b.jsx(tse,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),b.jsx("input",{type:"email",required:!0,value:r,onChange:d=>i(d.target.value),placeholder:"analis@nusantaraindustries.com",className:"w-full bg-white border border-slate-200 rounded-2xl px-12 py-4 focus:ring-4 focus:ring-blue-50 focus:border-blue-500 transition-all text-sm font-bold shadow-inner"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex justify-between items-center ml-1",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Akses Kata Sandi"}),b.jsx("a",{href:"#",className:"text-[10px] text-blue-600 hover:underline font-black uppercase tracking-widest",children:"Reset Sandi?"})]}),b.jsxs("div",{className:"relative",children:[b.jsx(Xae,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),b.jsx("input",{type:"password",required:!0,value:a,onChange:d=>s(d.target.value),placeholder:"",className:"w-full bg-white border border-slate-200 rounded-2xl px-12 py-4 focus:ring-4 focus:ring-blue-50 focus:border-blue-500 transition-all text-sm font-bold shadow-inner"})]})]}),b.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-900 text-white rounded-[1.5rem] py-5 font-black text-[11px] uppercase tracking-[0.3em] flex items-center justify-center gap-3 hover:bg-blue-800 transition-all shadow-2xl shadow-blue-900/20 active:scale-[0.98] disabled:opacity-50",children:o?b.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(Zae,{size:18})," Masuk Portal Keamanan"]})})]}),b.jsxs("div",{className:"mt-10 p-6 bg-emerald-50 rounded-[2rem] border border-emerald-100 flex gap-4",children:[b.jsx(NE,{className:"text-emerald-600 flex-shrink-0"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-black text-emerald-900 mb-1 uppercase tracking-widest",children:"Protocol Keamanan Aktif"}),b.jsx("p",{className:"text-[10px] text-emerald-700 font-bold leading-relaxed uppercase opacity-70",children:"Data industri ini bersifat strategis. Aktivitas Anda dilindungi enkripsi AES-256 dan login dipantau secara berkala."})]})]})]})})]})},GF=({derivatives:e,level:t=0})=>b.jsx("div",{className:t>0?"ml-6":"",children:e.map((n,r)=>b.jsxs("div",{className:"flex items-start gap-4 mt-4",children:[t>0&&b.jsx("div",{className:"w-1.5 h-full bg-blue-100 rounded-full"}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:n.level}),b.jsx("p",{className:"text-lg font-black text-slate-900 tracking-tight",children:n.product})]}),n.valueAdded&&b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Impact"}),b.jsxs("span",{className:"inline-block px-4 py-1 bg-emerald-100 text-emerald-700 text-xs font-black rounded-full uppercase tracking-tighter",children:[n.valueAdded," KALI"]})]})]}),n.subProducts&&b.jsx(GF,{derivatives:n.subProducts,level:t+1})]})]},r))}),sEe=({onStartTracking:e,onLogin:t})=>{const[n,r]=v.useState(""),[i,a]=v.useState(null),s=VF.filter(o=>o.name.toLowerCase().includes(n.toLowerCase()));return b.jsxs("div",{className:"bg-white min-h-screen text-slate-900 selection:bg-blue-100 selection:text-blue-900",children:[b.jsxs("nav",{className:"fixed top-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-9 h-9 bg-blue-900 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20",children:b.jsx("span",{className:"text-white font-extrabold text-sm tracking-tighter",children:"NI"})}),b.jsx("span",{className:"font-bold text-xl tracking-tight text-blue-900",children:"Nusantara Industries"})]}),b.jsx("div",{className:"flex items-center gap-4",children:b.jsx("button",{onClick:t,className:"text-sm font-bold text-blue-900 hover:text-blue-700 transition-colors",children:"Portal Login"})})]}),b.jsxs("section",{id:"beranda",className:"relative pt-40 pb-24 px-6 overflow-hidden bg-slate-50",children:[b.jsx("div",{className:"absolute inset-0 opacity-40",children:b.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-blue-200/50 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"})}),b.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col items-center text-center relative z-10",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-white border border-blue-100 text-blue-700 text-[11px] font-extrabold mb-8 shadow-sm tracking-widest uppercase",children:[b.jsx(NE,{size:14,className:"animate-pulse"}),"MASA DEPAN INDUSTRI INDONESIA"]}),b.jsxs("h1",{className:"text-5xl md:text-8xl font-black text-slate-900 mb-8 tracking-tighter leading-[1.05] max-w-5xl",children:["PUSAT DATA & PELACAKAN ",b.jsx("br",{}),b.jsx("span",{className:"text-gradient",children:"HILIRISASI INDONESIA"})]}),b.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mb-12 leading-relaxed font-medium",children:"Platform intelijen industri nasional untuk monitoring nilai tambah komoditas strategis secara transparan dan data-driven."}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-5",children:[b.jsxs("button",{onClick:()=>{var o;return(o=document.getElementById("tracking"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"px-10 py-5 bg-blue-900 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-blue-800 transition-all shadow-2xl shadow-blue-900/30 group",children:["Mulai Melacak Data",b.jsx(kk,{size:22,className:"group-hover:translate-x-1 transition-transform"})]}),b.jsx("button",{onClick:()=>{var o;return(o=document.getElementById("tentang"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"px-10 py-5 bg-white border-2 border-slate-200 text-slate-700 rounded-2xl font-bold hover:border-blue-200 hover:text-blue-900 transition-all shadow-sm",children:"Pelajari Fungsi Hilirisasi"})]})]})]}),b.jsx("section",{className:"py-24 px-6 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8 mb-16",children:[b.jsxs("div",{className:"max-w-xl",children:[b.jsx("h2",{className:"text-blue-600 font-black text-xs uppercase tracking-[0.3em] mb-4",children:"Macro Economic Overview"}),b.jsx("h3",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:"Tinjauan Makro Ekonomi Nasional"})]}),b.jsx("div",{className:"flex gap-4",children:b.jsx("div",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-xs font-bold border border-blue-100",children:"UPDATE MEI 2024"})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"bg-slate-50 p-10 rounded-[32px] border border-slate-100 flex flex-col justify-between group hover:bg-white hover:shadow-2xl hover:shadow-blue-900/5 transition-all duration-500",children:[b.jsxs("div",{children:[b.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-blue-600 mb-6 shadow-sm",children:b.jsx(Fae,{size:24})}),b.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase tracking-widest mb-2",children:"Total Surplus Perdagangan"}),b.jsx("h4",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"US$ 36.91B"})]}),b.jsxs("div",{className:"mt-10 flex items-center gap-2 text-emerald-600 font-black text-sm",children:[b.jsx(AE,{size:20}),"+12.4% TAHUNAN"]})]}),b.jsxs("div",{className:"bg-slate-50 p-10 rounded-[32px] border border-slate-100 flex flex-col justify-between group hover:bg-white hover:shadow-2xl hover:shadow-blue-900/5 transition-all duration-500",children:[b.jsxs("div",{children:[b.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-blue-600 mb-6 shadow-sm",children:b.jsx(sV,{size:24})}),b.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase tracking-widest mb-2",children:"Proyek Hilirisasi Aktif (PSN)"}),b.jsx("h4",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:"214 UNIT"})]}),b.jsxs("div",{className:"mt-10 flex items-center gap-2 text-blue-600 font-black text-sm",children:[b.jsx(TE,{size:20}),"88% SESUAI JADWAL"]})]}),b.jsxs("div",{className:"bg-blue-900 p-10 rounded-[32px] shadow-2xl shadow-blue-900/30 text-white relative overflow-hidden group",children:[b.jsxs("div",{className:"relative z-10",children:[b.jsx("div",{className:"w-12 h-12 bg-blue-800 rounded-2xl flex items-center justify-center text-blue-200 mb-6 shadow-sm",children:b.jsx(IE,{size:24})}),b.jsx("p",{className:"text-blue-300 text-sm font-bold uppercase tracking-widest mb-2",children:"Pangsa Pasar Global"}),b.jsx("h4",{className:"text-4xl font-black tracking-tighter",children:"38.2%"}),b.jsx("p",{className:"mt-2 text-blue-400 text-xs font-bold",children:"KOMODITAS NIKEL OLAHAN"})]}),b.jsx("div",{className:"mt-10 h-16 flex items-end gap-1.5 opacity-40 group-hover:opacity-100 transition-opacity",children:[30,50,40,70,60,90,85].map((o,l)=>b.jsx("div",{className:"flex-1 bg-white rounded-t-md",style:{height:`${o}%`}},l))})]})]})]})}),b.jsx("section",{id:"tracking",className:"py-32 px-6 bg-slate-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[b.jsx("h2",{className:"text-4xl md:text-5xl font-black text-slate-900 mb-6 tracking-tight",children:"Tracking Hilirisasi Komoditas"}),b.jsx("p",{className:"text-slate-500 text-lg font-medium",children:"Monitor data real-time ekspor, impor, dan perkembangan rantai pasok industri hilir Indonesia."})]}),b.jsxs("div",{className:"relative max-w-4xl mx-auto mb-24",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-8 flex items-center pointer-events-none",children:b.jsx(z_,{className:"text-slate-400",size:28})}),b.jsx("input",{type:"text",value:n,onChange:o=>r(o.target.value),placeholder:"Cari komoditas (Nikel, Bauksit, Tembaga...)",className:"block w-full bg-white border-2 border-slate-100 rounded-[32px] py-8 pl-20 pr-10 focus:outline-none focus:border-blue-500 transition-all text-xl font-medium shadow-2xl shadow-slate-200/40"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map(o=>b.jsxs("div",{onClick:()=>a(o),className:"bg-white rounded-[32px] p-8 border border-slate-100 hover:border-blue-500 hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[b.jsx("div",{className:"w-14 h-14 bg-slate-50 text-blue-900 rounded-2xl flex items-center justify-center mb-6 group-hover:bg-blue-900 group-hover:text-white transition-colors duration-300",children:b.jsx(Rk,{size:28})}),b.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-3 tracking-tight",children:o.name}),b.jsx("p",{className:"text-slate-500 text-sm mb-8 line-clamp-2 leading-relaxed font-medium",children:o.description}),b.jsxs("div",{className:"flex items-center justify-between font-bold text-blue-900 text-sm group-hover:translate-x-1 transition-transform",children:["DATA LENGKAP",b.jsx(jv,{size:18})]})]},o.id))})]})}),b.jsxs("section",{id:"tentang",className:"py-32 bg-blue-950 text-white relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-blue-900/30 skew-x-12 translate-x-32"}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 flex flex-col lg:flex-row items-center gap-20",children:[b.jsxs("div",{className:"lg:w-1/2",children:[b.jsx("div",{className:"inline-block px-5 py-2 rounded-full bg-blue-800 text-blue-200 text-xs font-black mb-8 tracking-widest uppercase",children:"Visi Indonesia 2045"}),b.jsx("h2",{className:"text-5xl md:text-6xl font-black mb-10 leading-[1.1] tracking-tighter",children:"Mengapa hilirisasi adalah kunci?"}),b.jsx("p",{className:"text-blue-200/80 text-xl mb-12 leading-relaxed font-medium",children:"Transformasi ekonomi nasional bergantung pada kemampuan kita mengubah kekayaan alam menjadi kekuatan industri bernilai tambah tinggi, demi kedaulatan ekonomi jangka panjang."}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-10",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"w-14 h-14 bg-blue-800 rounded-2xl flex items-center justify-center",children:b.jsx(IE,{size:28,className:"text-blue-300"})}),b.jsx("h4",{className:"font-extrabold text-xl",children:"Nilai Tambah Tinggi"}),b.jsx("p",{className:"text-blue-300/60 text-sm leading-relaxed",children:"Ekspor produk olahan memiliki nilai jual hingga 20x lipat dibanding ore mentah."})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"w-14 h-14 bg-blue-800 rounded-2xl flex items-center justify-center",children:b.jsx(NE,{size:28,className:"text-blue-300"})}),b.jsx("h4",{className:"font-extrabold text-xl",children:"Resiliensi Ekonomi"}),b.jsx("p",{className:"text-blue-300/60 text-sm leading-relaxed",children:"Memperkuat cadangan devisa dan menyeimbangkan neraca perdagangan nasional."})]})]})]}),b.jsx("div",{className:"lg:w-1/2 w-full",children:b.jsxs("div",{className:"bg-white/10 backdrop-blur-3xl border border-white/10 p-12 rounded-[48px] shadow-3xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-10",children:[b.jsx("h3",{className:"font-black text-2xl tracking-tight",children:"Proyek Strategis Nasional"}),b.jsx("span",{className:"bg-emerald-500 text-white text-[10px] font-black px-3 py-1 rounded-full animate-pulse",children:"LIVE TRACKING"})]}),b.jsx("div",{className:"space-y-8",children:x1e.map((o,l)=>b.jsxs("div",{className:"group",children:[b.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-black group-hover:text-blue-300 transition-colors",children:o.name}),b.jsxs("p",{className:"text-xs text-blue-400/70 font-bold uppercase tracking-tighter",children:[o.region,"  ",o.status]})]}),b.jsxs("span",{className:"font-black text-blue-200",children:[o.progress,"%"]})]}),b.jsx("div",{className:"w-full h-2 bg-blue-900/50 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-blue-400 rounded-full shadow-[0_0_10px_rgba(96,165,250,0.5)] transition-all duration-1000",style:{width:`${o.progress}%`}})})]},l))}),b.jsxs("button",{onClick:e,className:"w-full mt-12 py-5 bg-white text-blue-900 rounded-[20px] font-black hover:bg-blue-50 transition-all flex items-center justify-center gap-2 tracking-tight group",children:["LIHAT SEMUA DATA PROYEK",b.jsx(jv,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})})]})]}),b.jsxs("footer",{className:"bg-slate-950 text-slate-500 py-20 px-6 border-t border-slate-900",children:[b.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start gap-12 mb-20",children:[b.jsxs("div",{className:"max-w-xs",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:b.jsx("span",{className:"text-white font-black text-xs",children:"NI"})}),b.jsx("span",{className:"font-black text-white text-lg tracking-tighter",children:"Nusantara Industries"})]}),b.jsx("p",{className:"text-sm leading-relaxed font-medium",children:"Pusat data hilirisasi nasional. Mengawal transformasi ekonomi Indonesia melalui intelijen industri."})]}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-16",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h5",{className:"text-white font-bold text-xs uppercase tracking-widest",children:"Platform"}),b.jsxs("ul",{className:"text-sm space-y-2",children:[b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Data Tracking"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"PSN Map"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Commodities"})})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h5",{className:"text-white font-bold text-xs uppercase tracking-widest",children:"Resources"}),b.jsxs("ul",{className:"text-sm space-y-2",children:[b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Report BPS"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"ESDM Center"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API Docs"})})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h5",{className:"text-white font-bold text-xs uppercase tracking-widest",children:"Legal"}),b.jsxs("ul",{className:"text-sm space-y-2",children:[b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Security"})})]})]})]})]}),b.jsxs("div",{className:"max-w-7xl mx-auto pt-10 border-t border-slate-900 flex flex-col sm:flex-row justify-between items-center gap-4 text-xs font-bold uppercase tracking-widest",children:[b.jsx("p",{children:" 2024 NUSANTARA INDUSTRIES. ALL RIGHTS RESERVED."}),b.jsxs("div",{className:"flex gap-8",children:[b.jsx("a",{href:"#",className:"hover:text-white",children:"Twitter"}),b.jsx("a",{href:"#",className:"hover:text-white",children:"LinkedIn"})]})]})]}),i&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-950/80 backdrop-blur-xl animate-in fade-in duration-300",children:b.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-[48px] overflow-hidden shadow-2xl relative animate-in zoom-in-95 duration-500 border border-slate-100",children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-8 right-8 p-3 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all z-10",children:b.jsx(uV,{size:28})}),b.jsxs("div",{className:"p-16 max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex items-center gap-5 mb-10",children:[b.jsx("div",{className:"p-5 bg-blue-50 text-blue-600 rounded-3xl shadow-sm border border-blue-100",children:b.jsx(Rk,{size:40})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-5xl font-black text-slate-900 tracking-tighter",children:i.name}),b.jsx("p",{className:"text-blue-600 font-extrabold text-xs uppercase tracking-widest mt-1",children:"Industrial Intelligence Tracking"})]})]}),b.jsx("p",{className:"text-slate-600 text-lg mb-12 leading-relaxed font-medium",children:i.description}),b.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-16",children:[b.jsxs("div",{className:"bg-blue-900 p-8 rounded-[32px] text-white shadow-xl shadow-blue-900/20",children:[b.jsx("p",{className:"text-[10px] font-black text-blue-300 uppercase tracking-widest mb-2",children:"Total Ekspor Olahan"}),b.jsxs("p",{className:"text-4xl font-black tracking-tighter",children:["US$ ",i.exportValue,"B"]}),b.jsxs("div",{className:"mt-4 flex items-center gap-1 text-emerald-400 text-xs font-bold",children:[b.jsx(AE,{size:14})," +24% YOY"]})]}),b.jsxs("div",{className:"bg-slate-50 p-8 rounded-[32px] border border-slate-100",children:[b.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Impor Barang Turunan"}),b.jsxs("p",{className:"text-4xl font-black text-slate-900 tracking-tighter",children:["US$ ",i.importValue,"B"]}),b.jsxs("div",{className:"mt-4 flex items-center gap-1 text-rose-500 text-xs font-bold",children:[b.jsx(TE,{size:14})," DEFISIT TERUKUR"]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-[0.3em] flex items-center gap-3 mb-8",children:[b.jsx(nV,{size:20,className:"text-blue-600"}),"RANTAI NILAI HILIRISASI (NILAI TAMBAH)"]}),b.jsx(GF,{derivatives:i.derivatives})]}),b.jsxs("button",{onClick:t,className:"w-full mt-16 py-6 bg-blue-900 text-white rounded-[24px] font-black hover:bg-blue-800 transition-all shadow-2xl shadow-blue-900/30 flex items-center justify-center gap-3 group tracking-tight",children:["MASUK PORTAL UNTUK ANALISIS MENDALAM",b.jsx(kk,{size:22,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})]})};function er(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=er(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const oEe={},Rj=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(oEe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,l);return l},lEe=e=>e?Rj(e):Rj,{useDebugValue:uEe}=K,{useSyncExternalStoreWithSelector:cEe}=fle,fEe=e=>e;function KF(e,t=fEe,n){const r=cEe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return uEe(r),r}const Mj=(e,t)=>{const n=lEe(e),r=(i,a=t)=>KF(n,i,a);return Object.assign(r,n),r},dEe=(e,t)=>e?Mj(e,t):Mj;function Mn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var hEe={value:()=>{}};function $b(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xy(n)}function xy(e){this._=e}function pEe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xy.prototype=$b.prototype={constructor:xy,on:function(e,t){var n=this._,r=pEe(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=mEe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=Dj(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Dj(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xy(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function mEe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Dj(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=hEe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var PS="http://www.w3.org/1999/xhtml";const jj={svg:"http://www.w3.org/2000/svg",xhtml:PS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fb(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),jj.hasOwnProperty(t)?{space:jj[t],local:e}:e}function gEe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===PS&&t.documentElement.namespaceURI===PS?t.createElement(e):t.createElementNS(n,e)}}function yEe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function YF(e){var t=Fb(e);return(t.local?yEe:gEe)(t)}function vEe(){}function lI(e){return e==null?vEe:function(){return this.querySelector(e)}}function _Ee(e){typeof e!="function"&&(e=lI(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=a[c])&&(u=e.call(l,l.__data__,c,a))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new zr(r,this._parents)}function bEe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xEe(){return[]}function WF(e){return e==null?xEe:function(){return this.querySelectorAll(e)}}function wEe(e){return function(){return bEe(e.apply(this,arguments))}}function EEe(e){typeof e=="function"?e=wEe(e):e=WF(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),i.push(l));return new zr(r,i)}function XF(e){return function(){return this.matches(e)}}function QF(e){return function(t){return t.matches(e)}}var SEe=Array.prototype.find;function TEe(e){return function(){return SEe.call(this.children,e)}}function AEe(){return this.firstElementChild}function CEe(e){return this.select(e==null?AEe:TEe(typeof e=="function"?e:QF(e)))}var NEe=Array.prototype.filter;function IEe(){return Array.from(this.children)}function OEe(e){return function(){return NEe.call(this.children,e)}}function PEe(e){return this.selectAll(e==null?IEe:OEe(typeof e=="function"?e:QF(e)))}function kEe(e){typeof e!="function"&&(e=XF(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new zr(r,this._parents)}function ZF(e){return new Array(e.length)}function REe(){return new zr(this._enter||this._groups.map(ZF),this._parents)}function R0(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}R0.prototype={constructor:R0,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function MEe(e){return function(){return e}}function DEe(e,t,n,r,i,a){for(var s=0,o,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new R0(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function jEe(e,t,n,r,i,a,s){var o,l,u=new Map,c=t.length,f=a.length,d=new Array(c),p;for(o=0;o<c;++o)(l=t[o])&&(d[o]=p=s.call(l,l.__data__,o,t)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<f;++o)p=s.call(e,a[o],o,a)+"",(l=u.get(p))?(r[o]=l,l.__data__=a[o],u.delete(p)):n[o]=new R0(e,a[o]);for(o=0;o<c;++o)(l=t[o])&&u.get(d[o])===l&&(i[o]=l)}function LEe(e){return e.__data__}function zEe(e,t){if(!arguments.length)return Array.from(this,LEe);var n=t?jEe:DEe,r=this._parents,i=this._groups;typeof e!="function"&&(e=MEe(e));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],d=f.length,p=UEe(e.call(c,c&&c.__data__,u,r)),m=p.length,g=o[u]=new Array(m),_=s[u]=new Array(m),y=l[u]=new Array(d);n(c,f,g,_,y,p,t);for(var x=0,E=0,S,P;x<m;++x)if(S=g[x]){for(x>=E&&(E=x+1);!(P=_[E])&&++E<m;);S._next=P||null}}return s=new zr(s,r),s._enter=o,s._exit=l,s}function UEe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VEe(){return new zr(this._exit||this._groups.map(ZF),this._parents)}function BEe(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function $Ee(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],f=u.length,d=o[l]=new Array(f),p,m=0;m<f;++m)(p=u[m]||c[m])&&(d[m]=p);for(;l<i;++l)o[l]=n[l];return new zr(o,this._parents)}function FEe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function HEe(e){e||(e=qEe);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,c=0;c<o;++c)(u=s[c])&&(l[c]=u);l.sort(t)}return new zr(i,this._parents).order()}function qEe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function GEe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function KEe(){return Array.from(this)}function YEe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function WEe(){let e=0;for(const t of this)++e;return e}function XEe(){return!this.node()}function QEe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function ZEe(e){return function(){this.removeAttribute(e)}}function JEe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eSe(e,t){return function(){this.setAttribute(e,t)}}function tSe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function nSe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function rSe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function iSe(e,t){var n=Fb(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?JEe:ZEe:typeof t=="function"?n.local?rSe:nSe:n.local?tSe:eSe)(n,t))}function JF(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function aSe(e){return function(){this.style.removeProperty(e)}}function sSe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oSe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function lSe(e,t,n){return arguments.length>1?this.each((t==null?aSe:typeof t=="function"?oSe:sSe)(e,t,n??"")):cf(this.node(),e)}function cf(e,t){return e.style.getPropertyValue(t)||JF(e).getComputedStyle(e,null).getPropertyValue(t)}function uSe(e){return function(){delete this[e]}}function cSe(e,t){return function(){this[e]=t}}function fSe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function dSe(e,t){return arguments.length>1?this.each((t==null?uSe:typeof t=="function"?fSe:cSe)(e,t)):this.node()[e]}function eH(e){return e.trim().split(/^|\s+/)}function uI(e){return e.classList||new tH(e)}function tH(e){this._node=e,this._names=eH(e.getAttribute("class")||"")}tH.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function nH(e,t){for(var n=uI(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function rH(e,t){for(var n=uI(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function hSe(e){return function(){nH(this,e)}}function pSe(e){return function(){rH(this,e)}}function mSe(e,t){return function(){(t.apply(this,arguments)?nH:rH)(this,e)}}function gSe(e,t){var n=eH(e+"");if(arguments.length<2){for(var r=uI(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?mSe:t?hSe:pSe)(n,t))}function ySe(){this.textContent=""}function vSe(e){return function(){this.textContent=e}}function _Se(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function bSe(e){return arguments.length?this.each(e==null?ySe:(typeof e=="function"?_Se:vSe)(e)):this.node().textContent}function xSe(){this.innerHTML=""}function wSe(e){return function(){this.innerHTML=e}}function ESe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function SSe(e){return arguments.length?this.each(e==null?xSe:(typeof e=="function"?ESe:wSe)(e)):this.node().innerHTML}function TSe(){this.nextSibling&&this.parentNode.appendChild(this)}function ASe(){return this.each(TSe)}function CSe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NSe(){return this.each(CSe)}function ISe(e){var t=typeof e=="function"?e:YF(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function OSe(){return null}function PSe(e,t){var n=typeof e=="function"?e:YF(e),r=t==null?OSe:typeof t=="function"?t:lI(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function kSe(){var e=this.parentNode;e&&e.removeChild(this)}function RSe(){return this.each(kSe)}function MSe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function DSe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jSe(e){return this.select(e?DSe:MSe)}function LSe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zSe(e){return function(t){e.call(this,t,this.__data__)}}function USe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function VSe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function BSe(e,t,n){return function(){var r=this.__on,i,a=zSe(t);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function $Se(e,t,n){var r=USe(e+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<a;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(o=t?BSe:VSe,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function iH(e,t,n){var r=JF(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function FSe(e,t){return function(){return iH(this,e,t)}}function HSe(e,t){return function(){return iH(this,e,t.apply(this,arguments))}}function qSe(e,t){return this.each((typeof t=="function"?HSe:FSe)(e,t))}function*GSe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var aH=[null];function zr(e,t){this._groups=e,this._parents=t}function _m(){return new zr([[document.documentElement]],aH)}function KSe(){return this}zr.prototype=_m.prototype={constructor:zr,select:_Ee,selectAll:EEe,selectChild:CEe,selectChildren:PEe,filter:kEe,data:zEe,enter:REe,exit:VEe,join:BEe,merge:$Ee,selection:KSe,order:FEe,sort:HEe,call:GEe,nodes:KEe,node:YEe,size:WEe,empty:XEe,each:QEe,attr:iSe,style:lSe,property:dSe,classed:gSe,text:bSe,html:SSe,raise:ASe,lower:NSe,append:ISe,insert:PSe,remove:RSe,clone:jSe,datum:LSe,on:$Se,dispatch:qSe,[Symbol.iterator]:GSe};function wi(e){return typeof e=="string"?new zr([[document.querySelector(e)]],[document.documentElement]):new zr([[e]],aH)}function YSe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Qi(e,t){if(e=YSe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const WSe={passive:!1},vp={capture:!0,passive:!1};function Uw(e){e.stopImmediatePropagation()}function Nc(e){e.preventDefault(),e.stopImmediatePropagation()}function sH(e){var t=e.document.documentElement,n=wi(e).on("dragstart.drag",Nc,vp);"onselectstart"in t?n.on("selectstart.drag",Nc,vp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function oH(e,t){var n=e.document.documentElement,r=wi(e).on("dragstart.drag",null);t&&(r.on("click.drag",Nc,vp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const kg=e=>()=>e;function kS(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:s,y:o,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}kS.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function XSe(e){return!e.ctrlKey&&!e.button}function QSe(){return this.parentNode}function ZSe(e,t){return t??{x:e.x,y:e.y}}function JSe(){return navigator.maxTouchPoints||"ontouchstart"in this}function eTe(){var e=XSe,t=QSe,n=ZSe,r=JSe,i={},a=$b("start","drag","end"),s=0,o,l,u,c,f=0;function d(S){S.on("mousedown.drag",p).filter(r).on("touchstart.drag",_).on("touchmove.drag",y,WSe).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(S,P){if(!(c||!e.call(this,S,P))){var M=E(this,t.call(this,S,P),S,P,"mouse");M&&(wi(S.view).on("mousemove.drag",m,vp).on("mouseup.drag",g,vp),sH(S.view),Uw(S),u=!1,o=S.clientX,l=S.clientY,M("start",S))}}function m(S){if(Nc(S),!u){var P=S.clientX-o,M=S.clientY-l;u=P*P+M*M>f}i.mouse("drag",S)}function g(S){wi(S.view).on("mousemove.drag mouseup.drag",null),oH(S.view,u),Nc(S),i.mouse("end",S)}function _(S,P){if(e.call(this,S,P)){var M=S.changedTouches,T=t.call(this,S,P),A=M.length,C,I;for(C=0;C<A;++C)(I=E(this,T,S,P,M[C].identifier,M[C]))&&(Uw(S),I("start",S,M[C]))}}function y(S){var P=S.changedTouches,M=P.length,T,A;for(T=0;T<M;++T)(A=i[P[T].identifier])&&(Nc(S),A("drag",S,P[T]))}function x(S){var P=S.changedTouches,M=P.length,T,A;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),T=0;T<M;++T)(A=i[P[T].identifier])&&(Uw(S),A("end",S,P[T]))}function E(S,P,M,T,A,C){var I=a.copy(),O=Qi(C||M,P),k,R,D;if((D=n.call(S,new kS("beforestart",{sourceEvent:M,target:d,identifier:A,active:s,x:O[0],y:O[1],dx:0,dy:0,dispatch:I}),T))!=null)return k=D.x-O[0]||0,R=D.y-O[1]||0,function z(L,V,B){var U=O,F;switch(L){case"start":i[A]=z,F=s++;break;case"end":delete i[A],--s;case"drag":O=Qi(B||V,P),F=s;break}I.call(L,S,new kS(L,{sourceEvent:V,subject:D,target:d,identifier:A,active:F,x:O[0]+k,y:O[1]+R,dx:O[0]-U[0],dy:O[1]-U[1],dispatch:I}),T)}}return d.filter=function(S){return arguments.length?(e=typeof S=="function"?S:kg(!!S),d):e},d.container=function(S){return arguments.length?(t=typeof S=="function"?S:kg(S),d):t},d.subject=function(S){return arguments.length?(n=typeof S=="function"?S:kg(S),d):n},d.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:kg(!!S),d):r},d.on=function(){var S=a.on.apply(a,arguments);return S===a?d:S},d.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,d):Math.sqrt(f)},d}var ff=0,Hd=0,Cd=0,lH=1e3,M0,qd,D0=0,au=0,Hb=0,_p=typeof performance=="object"&&performance.now?performance:Date,uH=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cI(){return au||(uH(tTe),au=_p.now()+Hb)}function tTe(){au=0}function j0(){this._call=this._time=this._next=null}j0.prototype=cH.prototype={constructor:j0,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cI():+n)+(t==null?0:+t),!this._next&&qd!==this&&(qd?qd._next=this:M0=this,qd=this),this._call=e,this._time=n,RS()},stop:function(){this._call&&(this._call=null,this._time=1/0,RS())}};function cH(e,t,n){var r=new j0;return r.restart(e,t,n),r}function nTe(){cI(),++ff;for(var e=M0,t;e;)(t=au-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ff}function Lj(){au=(D0=_p.now())+Hb,ff=Hd=0;try{nTe()}finally{ff=0,iTe(),au=0}}function rTe(){var e=_p.now(),t=e-D0;t>lH&&(Hb-=t,D0=e)}function iTe(){for(var e,t=M0,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:M0=n);qd=e,RS(r)}function RS(e){if(!ff){Hd&&(Hd=clearTimeout(Hd));var t=e-au;t>24?(e<1/0&&(Hd=setTimeout(Lj,e-_p.now()-Hb)),Cd&&(Cd=clearInterval(Cd))):(Cd||(D0=_p.now(),Cd=setInterval(rTe,lH)),ff=1,uH(Lj))}}function zj(e,t,n){var r=new j0;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var aTe=$b("start","end","cancel","interrupt"),sTe=[],fH=0,Uj=1,MS=2,wy=3,Vj=4,DS=5,Ey=6;function qb(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;oTe(e,n,{name:t,index:r,group:i,on:aTe,tween:sTe,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fH})}function fI(e,t){var n=ji(e,t);if(n.state>fH)throw new Error("too late; already scheduled");return n}function xa(e,t){var n=ji(e,t);if(n.state>wy)throw new Error("too late; already running");return n}function ji(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oTe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=cH(a,0,n.time);function a(u){n.state=Uj,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,f,d,p;if(n.state!==Uj)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===wy)return zj(s);p.state===Vj?(p.state=Ey,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Ey,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(zj(function(){n.state===wy&&(n.state=Vj,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=MS,n.on.call("start",e,e.__data__,n.index,n.group),n.state===MS){for(n.state=wy,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=DS,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===DS&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ey,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Sy(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>MS&&r.state<DS,r.state=Ey,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function lTe(e){return this.each(function(){Sy(this,e)})}function uTe(e,t){var n,r;return function(){var i=xa(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function cTe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=xa(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function fTe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ji(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?uTe:cTe)(n,e,t))}function dI(e,t,n){var r=e._id;return e.each(function(){var i=xa(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ji(i,r).value[t]}}function dH(e,t){var n;return(typeof t=="number"?gi:t instanceof tu?h0:(n=tu(t))?(t=n,h0):kB)(e,t)}function dTe(e){return function(){this.removeAttribute(e)}}function hTe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pTe(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function mTe(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function gTe(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function yTe(e,t,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o)))}}function vTe(e,t){var n=Fb(e),r=n==="transform"?nhe:dH;return this.attrTween(e,typeof t=="function"?(n.local?yTe:gTe)(n,r,dI(this,"attr."+e,t)):t==null?(n.local?hTe:dTe)(n):(n.local?mTe:pTe)(n,r,t))}function _Te(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bTe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function xTe(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&bTe(e,a)),n}return i._value=t,i}function wTe(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&_Te(e,a)),n}return i._value=t,i}function ETe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Fb(e);return this.tween(n,(r.local?xTe:wTe)(r,t))}function STe(e,t){return function(){fI(this,e).delay=+t.apply(this,arguments)}}function TTe(e,t){return t=+t,function(){fI(this,e).delay=t}}function ATe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?STe:TTe)(t,e)):ji(this.node(),t).delay}function CTe(e,t){return function(){xa(this,e).duration=+t.apply(this,arguments)}}function NTe(e,t){return t=+t,function(){xa(this,e).duration=t}}function ITe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CTe:NTe)(t,e)):ji(this.node(),t).duration}function OTe(e,t){if(typeof t!="function")throw new Error;return function(){xa(this,e).ease=t}}function PTe(e){var t=this._id;return arguments.length?this.each(OTe(t,e)):ji(this.node(),t).ease}function kTe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xa(this,e).ease=n}}function RTe(e){if(typeof e!="function")throw new Error;return this.each(kTe(this._id,e))}function MTe(e){typeof e!="function"&&(e=XF(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&e.call(l,l.__data__,u,a)&&o.push(l);return new ms(r,this._parents,this._name,this._id)}function DTe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=t[o],u=n[o],c=l.length,f=s[o]=new Array(c),d,p=0;p<c;++p)(d=l[p]||u[p])&&(f[p]=d);for(;o<r;++o)s[o]=t[o];return new ms(s,this._parents,this._name,this._id)}function jTe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function LTe(e,t,n){var r,i,a=jTe(t)?fI:xa;return function(){var s=a(this,e),o=s.on;o!==r&&(i=(r=o).copy()).on(t,n),s.on=i}}function zTe(e,t){var n=this._id;return arguments.length<2?ji(this.node(),n).on.on(e):this.each(LTe(n,e,t))}function UTe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function VTe(){return this.on("end.remove",UTe(this._id))}function BTe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lI(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),c,f,d=0;d<l;++d)(c=o[d])&&(f=e.call(c,c.__data__,d,o))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,qb(u[d],t,n,d,u,ji(c,n)));return new ms(a,this._parents,t,n)}function $Te(e){var t=this._name,n=this._id;typeof e!="function"&&(e=WF(e));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),p,m=ji(c,n),g=0,_=d.length;g<_;++g)(p=d[g])&&qb(p,t,n,g,d,m);a.push(d),s.push(c)}return new ms(a,s,t,n)}var FTe=_m.prototype.constructor;function HTe(){return new FTe(this._groups,this._parents)}function qTe(e,t){var n,r,i;return function(){var a=cf(this,e),s=(this.style.removeProperty(e),cf(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function hH(e){return function(){this.style.removeProperty(e)}}function GTe(e,t,n){var r,i=n+"",a;return function(){var s=cf(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function KTe(e,t,n){var r,i,a;return function(){var s=cf(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),cf(this,e))),s===l?null:s===r&&l===i?a:(i=l,a=t(r=s,o))}}function YTe(e,t){var n,r,i,a="style."+t,s="end."+a,o;return function(){var l=xa(this,e),u=l.on,c=l.value[a]==null?o||(o=hH(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function WTe(e,t,n){var r=(e+="")=="transform"?the:dH;return t==null?this.styleTween(e,qTe(e,r)).on("end.style."+e,hH(e)):typeof t=="function"?this.styleTween(e,KTe(e,r,dI(this,"style."+e,t))).each(YTe(this._id,e)):this.styleTween(e,GTe(e,r,t),n).on("end.style."+e,null)}function XTe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function QTe(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&XTe(e,s,n)),r}return a._value=t,a}function ZTe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,QTe(e,t,n??""))}function JTe(e){return function(){this.textContent=e}}function eAe(e){return function(){var t=e(this);this.textContent=t??""}}function tAe(e){return this.tween("text",typeof e=="function"?eAe(dI(this,"text",e)):JTe(e==null?"":e+""))}function nAe(e){return function(t){this.textContent=e.call(this,t)}}function rAe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&nAe(i)),t}return r._value=e,r}function iAe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rAe(e))}function aAe(){for(var e=this._name,t=this._id,n=pH(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var c=ji(l,t);qb(l,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ms(r,this._parents,e,n)}function sAe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=xa(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&a()})}var oAe=0;function ms(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function pH(){return++oAe}var Na=_m.prototype;ms.prototype={constructor:ms,select:BTe,selectAll:$Te,selectChild:Na.selectChild,selectChildren:Na.selectChildren,filter:MTe,merge:DTe,selection:HTe,transition:aAe,call:Na.call,nodes:Na.nodes,node:Na.node,size:Na.size,empty:Na.empty,each:Na.each,on:zTe,attr:vTe,attrTween:ETe,style:WTe,styleTween:ZTe,text:tAe,textTween:iAe,remove:VTe,tween:fTe,delay:ATe,duration:ITe,ease:PTe,easeVarying:RTe,end:sAe,[Symbol.iterator]:Na[Symbol.iterator]};function lAe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var uAe={time:null,delay:0,duration:250,ease:lAe};function cAe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function fAe(e){var t,n;e instanceof ms?(t=e._id,e=e._name):(t=pH(),(n=uAe).time=cI(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&qb(l,e,t,u,s,n||cAe(l,t));return new ms(r,this._parents,e,t)}_m.prototype.interrupt=lTe;_m.prototype.transition=fAe;const Rg=e=>()=>e;function dAe(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function $a(e,t,n){this.k=e,this.x=t,this.y=n}$a.prototype={constructor:$a,scale:function(e){return e===1?this:new $a(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $a(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var No=new $a(1,0,0);$a.prototype;function Vw(e){e.stopImmediatePropagation()}function Nd(e){e.preventDefault(),e.stopImmediatePropagation()}function hAe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function pAe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bj(){return this.__zoom||No}function mAe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gAe(){return navigator.maxTouchPoints||"ontouchstart"in this}function yAe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function vAe(){var e=hAe,t=pAe,n=yAe,r=mAe,i=gAe,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=she,u=$b("start","zoom","end"),c,f,d,p=500,m=150,g=0,_=10;function y(D){D.property("__zoom",Bj).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(D,z,L,V){var B=D.selection?D.selection():D;B.property("__zoom",Bj),D!==B?P(D,z,L,V):B.interrupt().each(function(){M(this,arguments).event(V).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},y.scaleBy=function(D,z,L,V){y.scaleTo(D,function(){var B=this.__zoom.k,U=typeof z=="function"?z.apply(this,arguments):z;return B*U},L,V)},y.scaleTo=function(D,z,L,V){y.transform(D,function(){var B=t.apply(this,arguments),U=this.__zoom,F=L==null?S(B):typeof L=="function"?L.apply(this,arguments):L,Y=U.invert(F),X=typeof z=="function"?z.apply(this,arguments):z;return n(E(x(U,X),F,Y),B,s)},L,V)},y.translateBy=function(D,z,L,V){y.transform(D,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),s)},null,V)},y.translateTo=function(D,z,L,V,B){y.transform(D,function(){var U=t.apply(this,arguments),F=this.__zoom,Y=V==null?S(U):typeof V=="function"?V.apply(this,arguments):V;return n(No.translate(Y[0],Y[1]).scale(F.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof L=="function"?-L.apply(this,arguments):-L),U,s)},V,B)};function x(D,z){return z=Math.max(a[0],Math.min(a[1],z)),z===D.k?D:new $a(z,D.x,D.y)}function E(D,z,L){var V=z[0]-L[0]*D.k,B=z[1]-L[1]*D.k;return V===D.x&&B===D.y?D:new $a(D.k,V,B)}function S(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function P(D,z,L,V){D.on("start.zoom",function(){M(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(V).end()}).tween("zoom",function(){var B=this,U=arguments,F=M(B,U).event(V),Y=t.apply(B,U),X=L==null?S(Y):typeof L=="function"?L.apply(B,U):L,re=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ee=B.__zoom,se=typeof z=="function"?z.apply(B,U):z,_e=l(ee.invert(X).concat(re/ee.k),se.invert(X).concat(re/se.k));return function(he){if(he===1)he=se;else{var De=_e(he),G=re/De[2];he=new $a(G,X[0]-De[0]*G,X[1]-De[1]*G)}F.zoom(null,he)}})}function M(D,z,L){return!L&&D.__zooming||new T(D,z)}function T(D,z){this.that=D,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(D,z),this.taps=0}T.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,z){return this.mouse&&D!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var z=wi(this.that).datum();u.call(D,this.that,new dAe(D,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),z)}};function A(D,...z){if(!e.apply(this,arguments))return;var L=M(this,z).event(D),V=this.__zoom,B=Math.max(a[0],Math.min(a[1],V.k*Math.pow(2,r.apply(this,arguments)))),U=Qi(D);if(L.wheel)(L.mouse[0][0]!==U[0]||L.mouse[0][1]!==U[1])&&(L.mouse[1]=V.invert(L.mouse[0]=U)),clearTimeout(L.wheel);else{if(V.k===B)return;L.mouse=[U,V.invert(U)],Sy(this),L.start()}Nd(D),L.wheel=setTimeout(F,m),L.zoom("mouse",n(E(x(V,B),L.mouse[0],L.mouse[1]),L.extent,s));function F(){L.wheel=null,L.end()}}function C(D,...z){if(d||!e.apply(this,arguments))return;var L=D.currentTarget,V=M(this,z,!0).event(D),B=wi(D.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",re,!0),U=Qi(D,L),F=D.clientX,Y=D.clientY;sH(D.view),Vw(D),V.mouse=[U,this.__zoom.invert(U)],Sy(this),V.start();function X(ee){if(Nd(ee),!V.moved){var se=ee.clientX-F,_e=ee.clientY-Y;V.moved=se*se+_e*_e>g}V.event(ee).zoom("mouse",n(E(V.that.__zoom,V.mouse[0]=Qi(ee,L),V.mouse[1]),V.extent,s))}function re(ee){B.on("mousemove.zoom mouseup.zoom",null),oH(ee.view,V.moved),Nd(ee),V.event(ee).end()}}function I(D,...z){if(e.apply(this,arguments)){var L=this.__zoom,V=Qi(D.changedTouches?D.changedTouches[0]:D,this),B=L.invert(V),U=L.k*(D.shiftKey?.5:2),F=n(E(x(L,U),V,B),t.apply(this,z),s);Nd(D),o>0?wi(this).transition().duration(o).call(P,F,V,D):wi(this).call(y.transform,F,V,D)}}function O(D,...z){if(e.apply(this,arguments)){var L=D.touches,V=L.length,B=M(this,z,D.changedTouches.length===V).event(D),U,F,Y,X;for(Vw(D),F=0;F<V;++F)Y=L[F],X=Qi(Y,this),X=[X,this.__zoom.invert(X),Y.identifier],B.touch0?!B.touch1&&B.touch0[2]!==X[2]&&(B.touch1=X,B.taps=0):(B.touch0=X,U=!0,B.taps=1+!!c);c&&(c=clearTimeout(c)),U&&(B.taps<2&&(f=X[0],c=setTimeout(function(){c=null},p)),Sy(this),B.start())}}function k(D,...z){if(this.__zooming){var L=M(this,z).event(D),V=D.changedTouches,B=V.length,U,F,Y,X;for(Nd(D),U=0;U<B;++U)F=V[U],Y=Qi(F,this),L.touch0&&L.touch0[2]===F.identifier?L.touch0[0]=Y:L.touch1&&L.touch1[2]===F.identifier&&(L.touch1[0]=Y);if(F=L.that.__zoom,L.touch1){var re=L.touch0[0],ee=L.touch0[1],se=L.touch1[0],_e=L.touch1[1],he=(he=se[0]-re[0])*he+(he=se[1]-re[1])*he,De=(De=_e[0]-ee[0])*De+(De=_e[1]-ee[1])*De;F=x(F,Math.sqrt(he/De)),Y=[(re[0]+se[0])/2,(re[1]+se[1])/2],X=[(ee[0]+_e[0])/2,(ee[1]+_e[1])/2]}else if(L.touch0)Y=L.touch0[0],X=L.touch0[1];else return;L.zoom("touch",n(E(F,Y,X),L.extent,s))}}function R(D,...z){if(this.__zooming){var L=M(this,z).event(D),V=D.changedTouches,B=V.length,U,F;for(Vw(D),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),U=0;U<B;++U)F=V[U],L.touch0&&L.touch0[2]===F.identifier?delete L.touch0:L.touch1&&L.touch1[2]===F.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(F=Qi(F,this),Math.hypot(f[0]-F[0],f[1]-F[1])<_)){var Y=wi(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return y.wheelDelta=function(D){return arguments.length?(r=typeof D=="function"?D:Rg(+D),y):r},y.filter=function(D){return arguments.length?(e=typeof D=="function"?D:Rg(!!D),y):e},y.touchable=function(D){return arguments.length?(i=typeof D=="function"?D:Rg(!!D),y):i},y.extent=function(D){return arguments.length?(t=typeof D=="function"?D:Rg([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),y):t},y.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],y):[a[0],a[1]]},y.translateExtent=function(D){return arguments.length?(s[0][0]=+D[0][0],s[1][0]=+D[1][0],s[0][1]=+D[0][1],s[1][1]=+D[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(D){return arguments.length?(n=D,y):n},y.duration=function(D){return arguments.length?(o=+D,y):o},y.interpolate=function(D){return arguments.length?(l=D,y):l},y.on=function(){var D=u.on.apply(u,arguments);return D===u?y:D},y.clickDistance=function(D){return arguments.length?(g=(D=+D)*D,y):Math.sqrt(g)},y.tapDistance=function(D){return arguments.length?(_=+D,y):_},y}const Gb=v.createContext(null),_Ae=Gb.Provider,gs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},mH=gs.error001();function Et(e,t){const n=v.useContext(Gb);if(n===null)throw new Error(mH);return KF(n,e,t)}const vn=()=>{const e=v.useContext(Gb);if(e===null)throw new Error(mH);return v.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},bAe=e=>e.userSelectionActive?"none":"all";function gH({position:e,children:t,className:n,style:r,...i}){const a=Et(bAe),s=`${e}`.split("-");return K.createElement("div",{className:er(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},...i},t)}function xAe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:K.createElement(gH,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},K.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const wAe=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:s=[2,4],labelBgBorderRadius:o=2,children:l,className:u,...c})=>{const f=v.useRef(null),[d,p]=v.useState({x:0,y:0,width:0,height:0}),m=er(["react-flow__edge-textwrapper",u]);return v.useEffect(()=>{if(f.current){const g=f.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:K.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:m,visibility:d.width?"visible":"hidden",...c},i&&K.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:o,ry:o}),K.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var EAe=v.memo(wAe);const hI=e=>({width:e.offsetWidth,height:e.offsetHeight}),df=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),pI=(e={x:0,y:0},t)=>({x:df(e.x,t[0][0],t[1][0]),y:df(e.y,t[0][1],t[1][1])}),$j=(e,t,n)=>e<t?df(Math.abs(e-t),1,50)/50:e>n?-df(Math.abs(e-n),1,50)/50:0,yH=(e,t)=>{const n=$j(e.x,35,t.width-35)*20,r=$j(e.y,35,t.height-35)*20;return[n,r]},vH=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},SAe=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),mI=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),TAe=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Fj=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),jS=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},AAe=e=>ei(e.width)&&ei(e.height)&&ei(e.x)&&ei(e.y),ei=e=>!isNaN(e)&&isFinite(e),kt=Symbol.for("internals"),_H=["Enter"," ","Escape"],CAe=(e,t)=>{},NAe=e=>"nativeEvent"in e;function LS(e){var i,a;const t=NAe(e)?e.nativeEvent:e,n=((a=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const bH=e=>"clientX"in e,Io=(e,t)=>{var a,s;const n=bH(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},L0=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},bm=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p=20})=>K.createElement(K.Fragment,null,K.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),p&&K.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&ei(n)&&ei(r)?K.createElement(EAe,{x:n,y:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null);bm.displayName="BaseEdge";function Id(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(a=>a.id===e);i&&n(r,{...i})}}function xH({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,a=n<e?n+i:n-i,s=Math.abs(r-t)/2,o=r<t?r+s:r-s;return[a,o,i,s]}function wH({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:o}){const l=e*.125+i*.375+s*.375+n*.125,u=t*.125+a*.375+o*.375+r*.125,c=Math.abs(l-e),f=Math.abs(u-t);return[l,u,c,f]}var su;(function(e){e.Strict="strict",e.Loose="loose"})(su||(su={}));var Tl;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Tl||(Tl={}));var bp;(function(e){e.Partial="partial",e.Full="full"})(bp||(bp={}));var ro;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ro||(ro={}));var xp;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(xp||(xp={}));var ce;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ce||(ce={}));function Hj({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ce.Left||e===ce.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function EH({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:r,targetY:i,targetPosition:a=ce.Top}){const[s,o]=Hj({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=Hj({pos:a,x1:r,y1:i,x2:e,y2:t}),[c,f,d,p]=wH({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:o,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${o} ${l},${u} ${r},${i}`,c,f,d,p]}const gI=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ce.Bottom,targetPosition:a=ce.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:g})=>{const[_,y,x]=EH({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return K.createElement(bm,{path:_,labelX:y,labelY:x,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:g})});gI.displayName="SimpleBezierEdge";const qj={[ce.Left]:{x:-1,y:0},[ce.Right]:{x:1,y:0},[ce.Top]:{x:0,y:-1},[ce.Bottom]:{x:0,y:1}},IAe=({source:e,sourcePosition:t=ce.Bottom,target:n})=>t===ce.Left||t===ce.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Gj=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function OAe({source:e,sourcePosition:t=ce.Bottom,target:n,targetPosition:r=ce.Top,center:i,offset:a}){const s=qj[t],o=qj[r],l={x:e.x+s.x*a,y:e.y+s.y*a},u={x:n.x+o.x*a,y:n.y+o.y*a},c=IAe({source:l,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let p=[],m,g;const _={x:0,y:0},y={x:0,y:0},[x,E,S,P]=xH({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*o[f]===-1){m=i.x??x,g=i.y??E;const T=[{x:m,y:l.y},{x:m,y:u.y}],A=[{x:l.x,y:g},{x:u.x,y:g}];s[f]===d?p=f==="x"?T:A:p=f==="x"?A:T}else{const T=[{x:l.x,y:u.y}],A=[{x:u.x,y:l.y}];if(f==="x"?p=s.x===d?A:T:p=s.y===d?T:A,t===r){const R=Math.abs(e[f]-n[f]);if(R<=a){const D=Math.min(a-1,a-R);s[f]===d?_[f]=(l[f]>e[f]?-1:1)*D:y[f]=(u[f]>n[f]?-1:1)*D}}if(t!==r){const R=f==="x"?"y":"x",D=s[f]===o[R],z=l[R]>u[R],L=l[R]<u[R];(s[f]===1&&(!D&&z||D&&L)||s[f]!==1&&(!D&&L||D&&z))&&(p=f==="x"?T:A)}const C={x:l.x+_.x,y:l.y+_.y},I={x:u.x+y.x,y:u.y+y.y},O=Math.max(Math.abs(C.x-p[0].x),Math.abs(I.x-p[0].x)),k=Math.max(Math.abs(C.y-p[0].y),Math.abs(I.y-p[0].y));O>=k?(m=(C.x+I.x)/2,g=p[0].y):(m=p[0].x,g=(C.y+I.y)/2)}return[[e,{x:l.x+_.x,y:l.y+_.y},...p,{x:u.x+y.x,y:u.y+y.y},n],m,g,S,P]}function PAe(e,t,n,r){const i=Math.min(Gj(e,t)/2,Gj(t,n)/2,r),{x:a,y:s}=t;if(e.x===a&&a===n.x||e.y===s&&s===n.y)return`L${a} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${a+i*u},${s}Q ${a},${s} ${a},${s+i*c}`}const o=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${a},${s+i*l}Q ${a},${s} ${a+i*o},${s}`}function zS({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:r,targetY:i,targetPosition:a=ce.Top,borderRadius:s=5,centerX:o,centerY:l,offset:u=20}){const[c,f,d,p,m]=OAe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:o,y:l},offset:u});return[c.reduce((_,y,x)=>{let E="";return x>0&&x<c.length-1?E=PAe(c[x-1],y,c[x+1],s):E=`${x===0?"M":"L"}${y.x} ${y.y}`,_+=E,_},""),f,d,p,m]}const Kb=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=ce.Bottom,targetPosition:d=ce.Top,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:_})=>{const[y,x,E]=zS({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return K.createElement(bm,{path:y,labelX:x,labelY:E,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:m,interactionWidth:_})});Kb.displayName="SmoothStepEdge";const yI=v.memo(e=>{var t;return K.createElement(Kb,{...e,pathOptions:v.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});yI.displayName="StepEdge";function kAe({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,a,s,o]=xH({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,s,o]}const vI=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p})=>{const[m,g,_]=kAe({sourceX:e,sourceY:t,targetX:n,targetY:r});return K.createElement(bm,{path:m,labelX:g,labelY:_,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p})});vI.displayName="StraightEdge";function Mg(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Kj({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case ce.Left:return[t-Mg(t-r,a),n];case ce.Right:return[t+Mg(r-t,a),n];case ce.Top:return[t,n-Mg(n-i,a)];case ce.Bottom:return[t,n+Mg(i-n,a)]}}function SH({sourceX:e,sourceY:t,sourcePosition:n=ce.Bottom,targetX:r,targetY:i,targetPosition:a=ce.Top,curvature:s=.25}){const[o,l]=Kj({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=Kj({pos:a,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,p,m]=wH({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${o},${l} ${u},${c} ${r},${i}`,f,d,p,m]}const z0=v.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=ce.Bottom,targetPosition:a=ce.Top,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,pathOptions:g,interactionWidth:_})=>{const[y,x,E]=SH({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:g==null?void 0:g.curvature});return K.createElement(bm,{path:y,labelX:x,labelY:E,label:s,labelStyle:o,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:m,interactionWidth:_})});z0.displayName="BezierEdge";const _I=v.createContext(null),RAe=_I.Provider;_I.Consumer;const MAe=()=>v.useContext(_I),DAe=e=>"id"in e&&"source"in e&&"target"in e,jAe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,US=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,LAe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),TH=(e,t)=>{if(!e.source||!e.target)return t;let n;return DAe(e)?n={...e}:n={...e,id:jAe(e)},LAe(n,t)?t:t.concat(n)},VS=({x:e,y:t},[n,r,i],a,[s,o])=>{const l={x:(e-n)/i,y:(t-r)/i};return a?{x:s*Math.round(l.x/s),y:o*Math.round(l.y/o)}:l},AH=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Ic=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},bI=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:a,y:s}=Ic(i,t).positionAbsolute;return SAe(r,mI({x:a,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return TAe(n)},CH=(e,t,[n,r,i]=[0,0,1],a=!1,s=!1,o=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:p=!0,hidden:m=!1}=c;if(s&&!p||m)return!1;const{positionAbsolute:g}=Ic(c,o),_={x:g.x,y:g.y,width:f||0,height:d||0},y=jS(l,_),x=typeof f>"u"||typeof d>"u"||f===null||d===null,E=a&&y>0,S=(f||0)*(d||0);(x||E||y>=S||c.dragging)&&u.push(c)}),u},NH=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},IH=(e,t,n,r,i,a=.1)=>{const s=t/(e.width*(1+a)),o=n/(e.height*(1+a)),l=Math.min(s,o),u=df(l,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,p=n/2-f*u;return{x:d,y:p,zoom:u}},yl=(e,t=0)=>e.transition().duration(t);function Yj(e,t,n,r){return(t[n]||[]).reduce((i,a)=>{var s,o;return`${e.id}-${a.id}-${n}`!==r&&i.push({id:a.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+a.x+a.width/2,y:(((o=e.positionAbsolute)==null?void 0:o.y)??0)+a.y+a.height/2}),i},[])}function zAe(e,t,n,r,i,a){const{x:s,y:o}=Io(e),u=t.elementsFromPoint(s,o).find(m=>m.classList.contains("react-flow__handle"));if(u){const m=u.getAttribute("data-nodeid");if(m){const g=xI(void 0,u),_=u.getAttribute("data-handleid"),y=a({nodeId:m,id:_,type:g});if(y){const x=i.find(E=>E.nodeId===m&&E.type===g&&E.id===_);return{handle:{id:_,type:g,nodeId:m,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:y}}}}let c=[],f=1/0;if(i.forEach(m=>{const g=Math.sqrt((m.x-n.x)**2+(m.y-n.y)**2);if(g<=r){const _=a(m);g<=f&&(g<f?c=[{handle:m,validHandleResult:_}]:g===f&&c.push({handle:m,validHandleResult:_}),f=g)}}),!c.length)return{handle:null,validHandleResult:OH()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:m})=>m.isValid),p=c.some(({handle:m})=>m.type==="target");return c.find(({handle:m,validHandleResult:g})=>p?m.type==="target":d?g.isValid:!0)||c[0]}const UAe={source:null,target:null,sourceHandle:null,targetHandle:null},OH=()=>({handleDomNode:null,isValid:!1,connection:UAe,endHandle:null});function PH(e,t,n,r,i,a,s){const o=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...OH(),handleDomNode:l};if(l){const c=xI(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),m=l.classList.contains("connectableend"),g={source:o?f:n,sourceHandle:o?d:r,target:o?n:f,targetHandle:o?r:d};u.connection=g,p&&m&&(t===su.Strict?o&&c==="source"||!o&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=a(g))}return u}function VAe({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,a)=>{if(a[kt]){const{handleBounds:s}=a[kt];let o=[],l=[];s&&(o=Yj(a,s,"source",`${t}-${n}-${r}`),l=Yj(a,s,"target",`${t}-${n}-${r}`)),i.push(...o,...l)}return i},[])}function xI(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Bw(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function BAe(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function kH({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:s,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:u}){const c=vH(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:p,connectionRadius:m,onConnectStart:g,panBy:_,getNodes:y,cancelConnection:x}=a();let E=0,S;const{x:P,y:M}=Io(e),T=c==null?void 0:c.elementFromPoint(P,M),A=xI(l,T),C=d==null?void 0:d.getBoundingClientRect();if(!C||!A)return;let I,O=Io(e,C),k=!1,R=null,D=!1,z=null;const L=VAe({nodes:y(),nodeId:n,handleId:t,handleType:A}),V=()=>{if(!p)return;const[F,Y]=yH(O,C);_({x:F,y:Y}),E=requestAnimationFrame(V)};s({connectionPosition:O,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:A,connectionStartHandle:{nodeId:n,handleId:t,type:A},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:A});function B(F){const{transform:Y}=a();O=Io(F,C);const{handle:X,validHandleResult:re}=zAe(F,c,VS(O,Y,!1,[1,1]),m,L,ee=>PH(ee,f,n,t,i?"target":"source",o,c));if(S=X,k||(V(),k=!0),z=re.handleDomNode,R=re.connection,D=re.isValid,s({connectionPosition:S&&D?AH({x:S.x,y:S.y},Y):O,connectionStatus:BAe(!!S,D),connectionEndHandle:re.endHandle}),!S&&!D&&!z)return Bw(I);R.source!==R.target&&z&&(Bw(I),I=z,z.classList.add("connecting","react-flow__handle-connecting"),z.classList.toggle("valid",D),z.classList.toggle("react-flow__handle-valid",D))}function U(F){var Y,X;(S||z)&&R&&D&&(r==null||r(R)),(X=(Y=a()).onConnectEnd)==null||X.call(Y,F),l&&(u==null||u(F)),Bw(I),x(),cancelAnimationFrame(E),k=!1,D=!1,R=null,z=null,c.removeEventListener("mousemove",B),c.removeEventListener("mouseup",U),c.removeEventListener("touchmove",B),c.removeEventListener("touchend",U)}c.addEventListener("mousemove",B),c.addEventListener("mouseup",U),c.addEventListener("touchmove",B),c.addEventListener("touchend",U)}const Wj=()=>!0,$Ae=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),FAe=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},RH=v.forwardRef(({type:e="source",position:t=ce.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:s,onConnect:o,children:l,className:u,onMouseDown:c,onTouchStart:f,...d},p)=>{var C,I;const m=s||null,g=e==="target",_=vn(),y=MAe(),{connectOnClick:x,noPanClassName:E}=Et($Ae,Mn),{connecting:S,clickConnecting:P}=Et(FAe(y,m,e),Mn);y||(I=(C=_.getState()).onError)==null||I.call(C,"010",gs.error010());const M=O=>{const{defaultEdgeOptions:k,onConnect:R,hasDefaultEdges:D}=_.getState(),z={...k,...O};if(D){const{edges:L,setEdges:V}=_.getState();V(TH(z,L))}R==null||R(z),o==null||o(z)},T=O=>{if(!y)return;const k=bH(O);i&&(k&&O.button===0||!k)&&kH({event:O,handleId:m,nodeId:y,onConnect:M,isTarget:g,getState:_.getState,setState:_.setState,isValidConnection:n||_.getState().isValidConnection||Wj}),k?c==null||c(O):f==null||f(O)},A=O=>{const{onClickConnectStart:k,onClickConnectEnd:R,connectionClickStartHandle:D,connectionMode:z,isValidConnection:L}=_.getState();if(!y||!D&&!i)return;if(!D){k==null||k(O,{nodeId:y,handleId:m,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:y,type:e,handleId:m}});return}const V=vH(O.target),B=n||L||Wj,{connection:U,isValid:F}=PH({nodeId:y,id:m,type:e},z,D.nodeId,D.handleId||null,D.type,B,V);F&&M(U),R==null||R(O),_.setState({connectionClickStartHandle:null})};return K.createElement("div",{"data-handleid":m,"data-nodeid":y,"data-handlepos":t,"data-id":`${y}-${m}-${e}`,className:er(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",E,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:a,connecting:P,connectionindicator:r&&(i&&!S||a&&S)}]),onMouseDown:T,onTouchStart:T,onClick:x?A:void 0,ref:p,...d},l)});RH.displayName="Handle";var Fo=v.memo(RH);const MH=({data:e,isConnectable:t,targetPosition:n=ce.Top,sourcePosition:r=ce.Bottom})=>K.createElement(K.Fragment,null,K.createElement(Fo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,K.createElement(Fo,{type:"source",position:r,isConnectable:t}));MH.displayName="DefaultNode";var BS=v.memo(MH);const DH=({data:e,isConnectable:t,sourcePosition:n=ce.Bottom})=>K.createElement(K.Fragment,null,e==null?void 0:e.label,K.createElement(Fo,{type:"source",position:n,isConnectable:t}));DH.displayName="InputNode";var jH=v.memo(DH);const LH=({data:e,isConnectable:t,targetPosition:n=ce.Top})=>K.createElement(K.Fragment,null,K.createElement(Fo,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);LH.displayName="OutputNode";var zH=v.memo(LH);const wI=()=>null;wI.displayName="GroupNode";const HAe=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Dg=e=>e.id;function qAe(e,t){return Mn(e.selectedNodes.map(Dg),t.selectedNodes.map(Dg))&&Mn(e.selectedEdges.map(Dg),t.selectedEdges.map(Dg))}const UH=v.memo(({onSelectionChange:e})=>{const t=vn(),{selectedNodes:n,selectedEdges:r}=Et(HAe,qAe);return v.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(a=>a(i))},[n,r,e]),null});UH.displayName="SelectionListener";const GAe=e=>!!e.onSelectionChange;function KAe({onSelectionChange:e}){const t=Et(GAe);return e||t?K.createElement(UH,{onSelectionChange:e}):null}const YAe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function zu(e,t){v.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ae(e,t,n){v.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const WAe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:s,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:p,elevateNodesOnSelect:m,minZoom:g,maxZoom:_,nodeExtent:y,onNodesChange:x,onEdgesChange:E,elementsSelectable:S,connectionMode:P,snapGrid:M,snapToGrid:T,translateExtent:A,connectOnClick:C,defaultEdgeOptions:I,fitView:O,fitViewOptions:k,onNodesDelete:R,onEdgesDelete:D,onNodeDrag:z,onNodeDragStart:L,onNodeDragStop:V,onSelectionDrag:B,onSelectionDragStart:U,onSelectionDragStop:F,noPanClassName:Y,nodeOrigin:X,rfId:re,autoPanOnConnect:ee,autoPanOnNodeDrag:se,onError:_e,connectionRadius:he,isValidConnection:De,nodeDragThreshold:G})=>{const{setNodes:ae,setEdges:ve,setDefaultNodesAndEdges:Z,setMinZoom:He,setMaxZoom:xe,setTranslateExtent:je,setNodeExtent:Xe,reset:Ie}=Et(YAe,Mn),ue=vn();return v.useEffect(()=>{const qe=r==null?void 0:r.map(St=>({...St,...I}));return Z(n,qe),()=>{Ie()}},[]),Ae("defaultEdgeOptions",I,ue.setState),Ae("connectionMode",P,ue.setState),Ae("onConnect",i,ue.setState),Ae("onConnectStart",a,ue.setState),Ae("onConnectEnd",s,ue.setState),Ae("onClickConnectStart",o,ue.setState),Ae("onClickConnectEnd",l,ue.setState),Ae("nodesDraggable",u,ue.setState),Ae("nodesConnectable",c,ue.setState),Ae("nodesFocusable",f,ue.setState),Ae("edgesFocusable",d,ue.setState),Ae("edgesUpdatable",p,ue.setState),Ae("elementsSelectable",S,ue.setState),Ae("elevateNodesOnSelect",m,ue.setState),Ae("snapToGrid",T,ue.setState),Ae("snapGrid",M,ue.setState),Ae("onNodesChange",x,ue.setState),Ae("onEdgesChange",E,ue.setState),Ae("connectOnClick",C,ue.setState),Ae("fitViewOnInit",O,ue.setState),Ae("fitViewOnInitOptions",k,ue.setState),Ae("onNodesDelete",R,ue.setState),Ae("onEdgesDelete",D,ue.setState),Ae("onNodeDrag",z,ue.setState),Ae("onNodeDragStart",L,ue.setState),Ae("onNodeDragStop",V,ue.setState),Ae("onSelectionDrag",B,ue.setState),Ae("onSelectionDragStart",U,ue.setState),Ae("onSelectionDragStop",F,ue.setState),Ae("noPanClassName",Y,ue.setState),Ae("nodeOrigin",X,ue.setState),Ae("rfId",re,ue.setState),Ae("autoPanOnConnect",ee,ue.setState),Ae("autoPanOnNodeDrag",se,ue.setState),Ae("onError",_e,ue.setState),Ae("connectionRadius",he,ue.setState),Ae("isValidConnection",De,ue.setState),Ae("nodeDragThreshold",G,ue.setState),zu(e,ae),zu(t,ve),zu(g,He),zu(_,xe),zu(A,je),zu(y,Xe),null},Xj={display:"none"},XAe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},VH="react-flow__node-desc",BH="react-flow__edge-desc",QAe="react-flow__aria-live",ZAe=e=>e.ariaLiveMessage;function JAe({rfId:e}){const t=Et(ZAe);return K.createElement("div",{id:`${QAe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:XAe},t)}function eCe({rfId:e,disableKeyboardA11y:t}){return K.createElement(K.Fragment,null,K.createElement("div",{id:`${VH}-${e}`,style:Xj},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),K.createElement("div",{id:`${BH}-${e}`,style:Xj},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&K.createElement(JAe,{rfId:e}))}var wp=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=v.useState(!1),i=v.useRef(!1),a=v.useRef(new Set([])),[s,o]=v.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return v.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&LS(p))return!1;const g=Zj(p.code,o);a.current.add(p[g]),Qj(s,a.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&LS(p))return!1;const g=Zj(p.code,o);Qj(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(p[g]),p.key==="Meta"&&a.current.clear(),i.current=!1},d=()=>{a.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function Qj(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Zj(e,t){return t.includes(e)?"code":"key"}function $H(e,t,n,r){var o,l;const i=e.parentNode||e.parentId;if(!i)return n;const a=t.get(i),s=Ic(a,r);return $H(a,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((o=a[kt])==null?void 0:o.z)??0)>(n.z??0)?((l=a[kt])==null?void 0:l.z)??0:n.z??0},r)}function FH(e,t,n){e.forEach(r=>{var a;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:o,z:l}=$H(r,e,{...r.position,z:((a=r[kt])==null?void 0:a.z)??0},t);r.positionAbsolute={x:s,y:o},r[kt].z=l,n!=null&&n[r.id]&&(r[kt].isParent=!0)}})}function $w(e,t,n,r){const i=new Map,a={},s=r?1e3:0;return e.forEach(o=>{var p;const l=(ei(o.zIndex)?o.zIndex:0)+(o.selected?s:0),u=t.get(o.id),c={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},f=o.parentNode||o.parentId;f&&(a[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==o.type;Object.defineProperty(c,kt,{enumerable:!1,value:{handleBounds:d||(p=u==null?void 0:u[kt])==null?void 0:p.handleBounds,z:l}}),i.set(o.id,c)}),FH(i,n,a),i}function HH(e,t={}){const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:s,d3Zoom:o,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(o&&l&&(d||!t.initial)){const m=n().filter(_=>{var x;const y=t.includeHiddenNodes?_.width&&_.height:!_.hidden;return(x=t.nodes)!=null&&x.length?y&&t.nodes.some(E=>E.id===_.id):y}),g=m.every(_=>_.width&&_.height);if(m.length>0&&g){const _=bI(m,f),{x:y,y:x,zoom:E}=IH(_,r,i,t.minZoom??a,t.maxZoom??s,t.padding??.1),S=No.translate(y,x).scale(E);return typeof t.duration=="number"&&t.duration>0?o.transform(yl(l,t.duration),S):o.transform(l,S),!0}}return!1}function tCe(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[kt]:r[kt],selected:n.selected})}),new Map(t)}function nCe(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function jg({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:tCe(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:nCe(t,a)}),o==null||o(t))}const Uu=()=>{},rCe={zoomIn:Uu,zoomOut:Uu,zoomTo:Uu,getZoom:()=>1,setViewport:Uu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Uu,fitBounds:Uu,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},iCe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),aCe=()=>{const e=vn(),{d3Zoom:t,d3Selection:n}=Et(iCe,Mn);return v.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(yl(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(yl(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,a)=>t.scaleTo(yl(n,a==null?void 0:a.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,a)=>{const[s,o,l]=e.getState().transform,u=No.translate(i.x??s,i.y??o).scale(i.zoom??l);t.transform(yl(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[i,a,s]=e.getState().transform;return{x:i,y:a,zoom:s}},fitView:i=>HH(e.getState,i),setCenter:(i,a,s)=>{const{width:o,height:l,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=o/2-i*c,d=l/2-a*c,p=No.translate(f,d).scale(c);t.transform(yl(n,s==null?void 0:s.duration),p)},fitBounds:(i,a)=>{const{width:s,height:o,minZoom:l,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=IH(i,s,o,l,u,(a==null?void 0:a.padding)??.1),p=No.translate(c,f).scale(d);t.transform(yl(n,a==null?void 0:a.duration),p)},project:i=>{const{transform:a,snapToGrid:s,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),VS(i,a,s,o)},screenToFlowPosition:i=>{const{transform:a,snapToGrid:s,snapGrid:o,domNode:l}=e.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return VS(f,a,s,o)},flowToScreenPosition:i=>{const{transform:a,domNode:s}=e.getState();if(!s)return i;const{x:o,y:l}=s.getBoundingClientRect(),u=AH(i,a);return{x:u.x+o,y:u.y+l}},viewportInitialized:!0}:rCe,[t,n])};function Yb(){const e=aCe(),t=vn(),n=v.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=v.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=v.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(_=>({..._}))},[]),a=v.useCallback(g=>{const{edges:_=[]}=t.getState();return _.find(y=>y.id===g)},[]),s=v.useCallback(g=>{const{getNodes:_,setNodes:y,hasDefaultNodes:x,onNodesChange:E}=t.getState(),S=_(),P=typeof g=="function"?g(S):g;if(x)y(P);else if(E){const M=P.length===0?S.map(T=>({type:"remove",id:T.id})):P.map(T=>({item:T,type:"reset"}));E(M)}},[]),o=v.useCallback(g=>{const{edges:_=[],setEdges:y,hasDefaultEdges:x,onEdgesChange:E}=t.getState(),S=typeof g=="function"?g(_):g;if(x)y(S);else if(E){const P=S.length===0?_.map(M=>({type:"remove",id:M.id})):S.map(M=>({item:M,type:"reset"}));E(P)}},[]),l=v.useCallback(g=>{const _=Array.isArray(g)?g:[g],{getNodes:y,setNodes:x,hasDefaultNodes:E,onNodesChange:S}=t.getState();if(E){const M=[...y(),..._];x(M)}else if(S){const P=_.map(M=>({item:M,type:"add"}));S(P)}},[]),u=v.useCallback(g=>{const _=Array.isArray(g)?g:[g],{edges:y=[],setEdges:x,hasDefaultEdges:E,onEdgesChange:S}=t.getState();if(E)x([...y,..._]);else if(S){const P=_.map(M=>({item:M,type:"add"}));S(P)}},[]),c=v.useCallback(()=>{const{getNodes:g,edges:_=[],transform:y}=t.getState(),[x,E,S]=y;return{nodes:g().map(P=>({...P})),edges:_.map(P=>({...P})),viewport:{x,y:E,zoom:S}}},[]),f=v.useCallback(({nodes:g,edges:_})=>{const{nodeInternals:y,getNodes:x,edges:E,hasDefaultNodes:S,hasDefaultEdges:P,onNodesDelete:M,onEdgesDelete:T,onNodesChange:A,onEdgesChange:C}=t.getState(),I=(g||[]).map(z=>z.id),O=(_||[]).map(z=>z.id),k=x().reduce((z,L)=>{const V=L.parentNode||L.parentId,B=!I.includes(L.id)&&V&&z.find(F=>F.id===V);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(I.includes(L.id)||B)&&z.push(L),z},[]),R=E.filter(z=>typeof z.deletable=="boolean"?z.deletable:!0),D=R.filter(z=>O.includes(z.id));if(k||D){const z=NH(k,R),L=[...D,...z],V=L.reduce((B,U)=>(B.includes(U.id)||B.push(U.id),B),[]);if((P||S)&&(P&&t.setState({edges:E.filter(B=>!V.includes(B.id))}),S&&(k.forEach(B=>{y.delete(B.id)}),t.setState({nodeInternals:new Map(y)}))),V.length>0&&(T==null||T(L),C&&C(V.map(B=>({id:B,type:"remove"})))),k.length>0&&(M==null||M(k),A)){const B=k.map(U=>({id:U.id,type:"remove"}));A(B)}}},[]),d=v.useCallback(g=>{const _=AAe(g),y=_?null:t.getState().nodeInternals.get(g.id);return!_&&!y?[null,null,_]:[_?g:Fj(y),y,_]},[]),p=v.useCallback((g,_=!0,y)=>{const[x,E,S]=d(g);return x?(y||t.getState().getNodes()).filter(P=>{if(!S&&(P.id===E.id||!P.positionAbsolute))return!1;const M=Fj(P),T=jS(M,x);return _&&T>0||T>=x.width*x.height}):[]},[]),m=v.useCallback((g,_,y=!0)=>{const[x]=d(g);if(!x)return!1;const E=jS(x,_);return y&&E>0||E>=x.width*x.height},[]);return v.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:s,setEdges:o,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:m}),[e,n,r,i,a,s,o,l,u,c,f,p,m])}const sCe={actInsideInputWithModifier:!1};var oCe=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=vn(),{deleteElements:r}=Yb(),i=wp(e,sCe),a=wp(t);v.useEffect(()=>{if(i){const{edges:s,getNodes:o}=n.getState(),l=o().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),v.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function lCe(e){const t=vn();v.useEffect(()=>{let n;const r=()=>{var a,s;if(!e.current)return;const i=hI(e.current);(i.height===0||i.width===0)&&((s=(a=t.getState()).onError)==null||s.call(a,"004",gs.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const EI={position:"absolute",width:"100%",height:"100%",top:0,left:0},uCe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Lg=e=>({x:e.x,y:e.y,zoom:e.k}),Vu=(e,t)=>e.target.closest(`.${t}`),Jj=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),e4=e=>{const t=e.ctrlKey&&L0()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},cCe=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),fCe=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=Tl.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:p,minZoom:m,maxZoom:g,zoomActivationKeyCode:_,preventScrolling:y=!0,children:x,noWheelClassName:E,noPanClassName:S})=>{const P=v.useRef(),M=vn(),T=v.useRef(!1),A=v.useRef(!1),C=v.useRef(null),I=v.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:k,d3ZoomHandler:R,userSelectionActive:D}=Et(cCe,Mn),z=wp(_),L=v.useRef(0),V=v.useRef(!1),B=v.useRef();return lCe(C),v.useEffect(()=>{if(C.current){const U=C.current.getBoundingClientRect(),F=vAe().scaleExtent([m,g]).translateExtent(p),Y=wi(C.current).call(F),X=No.translate(d.x,d.y).scale(df(d.zoom,m,g)),re=[[0,0],[U.width,U.height]],ee=F.constrain()(X,re,p);F.transform(Y,ee),F.wheelDelta(e4),M.setState({d3Zoom:F,d3Selection:Y,d3ZoomHandler:Y.on("wheel.zoom"),transform:[ee.x,ee.y,ee.k],domNode:C.current.closest(".react-flow")})}},[]),v.useEffect(()=>{k&&O&&(s&&!z&&!D?k.on("wheel.zoom",U=>{if(Vu(U,E))return!1;U.preventDefault(),U.stopImmediatePropagation();const F=k.property("__zoom").k||1;if(U.ctrlKey&&a){const De=Qi(U),G=e4(U),ae=F*Math.pow(2,G);O.scaleTo(k,ae,De,U);return}const Y=U.deltaMode===1?20:1;let X=l===Tl.Vertical?0:U.deltaX*Y,re=l===Tl.Horizontal?0:U.deltaY*Y;!L0()&&U.shiftKey&&l!==Tl.Vertical&&(X=U.deltaY*Y,re=0),O.translateBy(k,-(X/F)*o,-(re/F)*o,{internal:!0});const ee=Lg(k.property("__zoom")),{onViewportChangeStart:se,onViewportChange:_e,onViewportChangeEnd:he}=M.getState();clearTimeout(B.current),V.current||(V.current=!0,t==null||t(U,ee),se==null||se(ee)),V.current&&(e==null||e(U,ee),_e==null||_e(ee),B.current=setTimeout(()=>{n==null||n(U,ee),he==null||he(ee),V.current=!1},150))},{passive:!1}):typeof R<"u"&&k.on("wheel.zoom",function(U,F){if(!y&&U.type==="wheel"&&!U.ctrlKey||Vu(U,E))return null;U.preventDefault(),R.call(this,U,F)},{passive:!1}))},[D,s,l,k,O,R,z,a,y,E,t,e,n]),v.useEffect(()=>{O&&O.on("start",U=>{var X,re;if(!U.sourceEvent||U.sourceEvent.internal)return null;L.current=(X=U.sourceEvent)==null?void 0:X.button;const{onViewportChangeStart:F}=M.getState(),Y=Lg(U.transform);T.current=!0,I.current=Y,((re=U.sourceEvent)==null?void 0:re.type)==="mousedown"&&M.setState({paneDragging:!0}),F==null||F(Y),t==null||t(U.sourceEvent,Y)})},[O,t]),v.useEffect(()=>{O&&(D&&!T.current?O.on("zoom",null):D||O.on("zoom",U=>{var Y;const{onViewportChange:F}=M.getState();if(M.setState({transform:[U.transform.x,U.transform.y,U.transform.k]}),A.current=!!(r&&Jj(f,L.current??0)),(e||F)&&!((Y=U.sourceEvent)!=null&&Y.internal)){const X=Lg(U.transform);F==null||F(X),e==null||e(U.sourceEvent,X)}}))},[D,O,e,f,r]),v.useEffect(()=>{O&&O.on("end",U=>{if(!U.sourceEvent||U.sourceEvent.internal)return null;const{onViewportChangeEnd:F}=M.getState();if(T.current=!1,M.setState({paneDragging:!1}),r&&Jj(f,L.current??0)&&!A.current&&r(U.sourceEvent),A.current=!1,(n||F)&&uCe(I.current,U.transform)){const Y=Lg(U.transform);I.current=Y,clearTimeout(P.current),P.current=setTimeout(()=>{F==null||F(Y),n==null||n(U.sourceEvent,Y)},s?150:0)}})},[O,s,f,n,r]),v.useEffect(()=>{O&&O.filter(U=>{const F=z||i,Y=a&&U.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&U.button===1&&U.type==="mousedown"&&(Vu(U,"react-flow__node")||Vu(U,"react-flow__edge")))return!0;if(!f&&!F&&!s&&!u&&!a||D||!u&&U.type==="dblclick"||Vu(U,E)&&U.type==="wheel"||Vu(U,S)&&(U.type!=="wheel"||s&&U.type==="wheel"&&!z)||!a&&U.ctrlKey&&U.type==="wheel"||!F&&!s&&!Y&&U.type==="wheel"||!f&&(U.type==="mousedown"||U.type==="touchstart")||Array.isArray(f)&&!f.includes(U.button)&&U.type==="mousedown")return!1;const X=Array.isArray(f)&&f.includes(U.button)||!U.button||U.button<=1;return(!U.ctrlKey||U.type==="wheel")&&X})},[D,O,i,a,s,u,f,c,z]),K.createElement("div",{className:"react-flow__renderer",ref:C,style:EI},x)},dCe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function hCe(){const{userSelectionActive:e,userSelectionRect:t}=Et(dCe,Mn);return e&&t?K.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function t4(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(i>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),a>0&&(r.style.height+=a),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function qH(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const a=e.filter(o=>o.id===i.id);if(a.length===0)return r.push(i),r;const s={...i};for(const o of a)if(o)switch(o.type){case"select":{s.selected=o.selected;break}case"position":{typeof o.position<"u"&&(s.position=o.position),typeof o.positionAbsolute<"u"&&(s.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(s.dragging=o.dragging),s.expandParent&&t4(r,s);break}case"dimensions":{typeof o.dimensions<"u"&&(s.width=o.dimensions.width,s.height=o.dimensions.height),typeof o.updateStyle<"u"&&(s.style={...s.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(s.resizing=o.resizing),s.expandParent&&t4(r,s);break}case"remove":return r}return r.push(s),r},n)}function GH(e,t){return qH(e,t)}function pCe(e,t){return qH(e,t)}const Ks=(e,t)=>({id:e,type:"select",selected:t});function cc(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Ks(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Ks(r.id,!1))),n},[])}const Fw=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},mCe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),KH=v.memo(({isSelecting:e,selectionMode:t=bp.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:s,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=v.useRef(null),p=vn(),m=v.useRef(0),g=v.useRef(0),_=v.useRef(),{userSelectionActive:y,elementsSelectable:x,dragging:E}=Et(mCe,Mn),S=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,g.current=0},P=R=>{a==null||a(R),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},M=R=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){R.preventDefault();return}s==null||s(R)},T=o?R=>o(R):void 0,A=R=>{const{resetSelectedElements:D,domNode:z}=p.getState();if(_.current=z==null?void 0:z.getBoundingClientRect(),!x||!e||R.button!==0||R.target!==d.current||!_.current)return;const{x:L,y:V}=Io(R,_.current);D(),p.setState({userSelectionRect:{width:0,height:0,startX:L,startY:V,x:L,y:V}}),r==null||r(R)},C=R=>{const{userSelectionRect:D,nodeInternals:z,edges:L,transform:V,onNodesChange:B,onEdgesChange:U,nodeOrigin:F,getNodes:Y}=p.getState();if(!e||!_.current||!D)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const X=Io(R,_.current),re=D.startX??0,ee=D.startY??0,se={...D,x:X.x<re?X.x:re,y:X.y<ee?X.y:ee,width:Math.abs(X.x-re),height:Math.abs(X.y-ee)},_e=Y(),he=CH(z,se,V,t===bp.Partial,!0,F),De=NH(he,L).map(ae=>ae.id),G=he.map(ae=>ae.id);if(m.current!==G.length){m.current=G.length;const ae=cc(_e,G);ae.length&&(B==null||B(ae))}if(g.current!==De.length){g.current=De.length;const ae=cc(L,De);ae.length&&(U==null||U(ae))}p.setState({userSelectionRect:se})},I=R=>{if(R.button!==0)return;const{userSelectionRect:D}=p.getState();!y&&D&&R.target===d.current&&(P==null||P(R)),p.setState({nodesSelectionActive:m.current>0}),S(),i==null||i(R)},O=R=>{y&&(p.setState({nodesSelectionActive:m.current>0}),i==null||i(R)),S()},k=x&&(e||y);return K.createElement("div",{className:er(["react-flow__pane",{dragging:E,selection:e}]),onClick:k?void 0:Fw(P,d),onContextMenu:Fw(M,d),onWheel:Fw(T,d),onMouseEnter:k?void 0:l,onMouseDown:k?A:void 0,onMouseMove:k?C:u,onMouseUp:k?I:void 0,onMouseLeave:k?O:c,ref:d,style:EI},f,K.createElement(hCe,null))});KH.displayName="Pane";function YH(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:YH(r,t):!1}function n4(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function gCe(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!YH(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var a,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=i.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function yCe(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function WH(e,t,n,r,i=[0,0],a){const s=yCe(e,e.extent||r);let o=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const f=n.get(l),{x:d,y:p}=Ic(f,i).positionAbsolute;o=f&&ei(d)&&ei(p)&&ei(f.width)&&ei(f.height)?[[d+e.width*i[0],p+e.height*i[1]],[d+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:o}else a==null||a("005",gs.error005()),o=s;else if(e.extent&&l&&e.extent!=="parent"){const f=n.get(l),{x:d,y:p}=Ic(f,i).positionAbsolute;o=[[e.extent[0][0]+d,e.extent[0][1]+p],[e.extent[1][0]+d,e.extent[1][1]+p]]}let u={x:0,y:0};if(l){const f=n.get(l);u=Ic(f,i).positionAbsolute}const c=o&&o!=="parent"?pI(t,o):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Hw({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const r4=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),s=t.getBoundingClientRect(),o={x:s.width*r[0],y:s.height*r[1]};return a.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-o.x)/n,y:(u.top-s.top-o.y)/n,...hI(l)}})};function Od(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function $S({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:o,onError:l}=t.getState(),u=o.get(e);if(!u){l==null||l("012",gs.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function vCe(){const e=vn();return v.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:a}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:a?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:a?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function qw(e){return(t,n,r)=>e==null?void 0:e(t,r)}function XH({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:s}){const o=vn(),[l,u]=v.useState(!1),c=v.useRef([]),f=v.useRef({x:null,y:null}),d=v.useRef(0),p=v.useRef(null),m=v.useRef({x:0,y:0}),g=v.useRef(null),_=v.useRef(!1),y=v.useRef(!1),x=v.useRef(!1),E=vCe();return v.useEffect(()=>{if(e!=null&&e.current){const S=wi(e.current),P=({x:A,y:C})=>{const{nodeInternals:I,onNodeDrag:O,onSelectionDrag:k,updateNodePositions:R,nodeExtent:D,snapGrid:z,snapToGrid:L,nodeOrigin:V,onError:B}=o.getState();f.current={x:A,y:C};let U=!1,F={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&D){const X=bI(c.current,V);F=mI(X)}if(c.current=c.current.map(X=>{const re={x:A-X.distance.x,y:C-X.distance.y};L&&(re.x=z[0]*Math.round(re.x/z[0]),re.y=z[1]*Math.round(re.y/z[1]));const ee=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];c.current.length>1&&D&&!X.extent&&(ee[0][0]=X.positionAbsolute.x-F.x+D[0][0],ee[1][0]=X.positionAbsolute.x+(X.width??0)-F.x2+D[1][0],ee[0][1]=X.positionAbsolute.y-F.y+D[0][1],ee[1][1]=X.positionAbsolute.y+(X.height??0)-F.y2+D[1][1]);const se=WH(X,re,I,ee,V,B);return U=U||X.position.x!==se.position.x||X.position.y!==se.position.y,X.position=se.position,X.positionAbsolute=se.positionAbsolute,X}),!U)return;R(c.current,!0,!0),u(!0);const Y=i?O:qw(k);if(Y&&g.current){const[X,re]=Hw({nodeId:i,dragItems:c.current,nodeInternals:I});Y(g.current,X,re)}},M=()=>{if(!p.current)return;const[A,C]=yH(m.current,p.current);if(A!==0||C!==0){const{transform:I,panBy:O}=o.getState();f.current.x=(f.current.x??0)-A/I[2],f.current.y=(f.current.y??0)-C/I[2],O({x:A,y:C})&&P(f.current)}d.current=requestAnimationFrame(M)},T=A=>{var V;const{nodeInternals:C,multiSelectionActive:I,nodesDraggable:O,unselectNodesAndEdges:k,onNodeDragStart:R,onSelectionDragStart:D}=o.getState();y.current=!0;const z=i?R:qw(D);(!s||!a)&&!I&&i&&((V=C.get(i))!=null&&V.selected||k()),i&&a&&s&&$S({id:i,store:o,nodeRef:e});const L=E(A);if(f.current=L,c.current=gCe(C,O,L,i),z&&c.current){const[B,U]=Hw({nodeId:i,dragItems:c.current,nodeInternals:C});z(A.sourceEvent,B,U)}};if(t)S.on(".drag",null);else{const A=eTe().on("start",C=>{const{domNode:I,nodeDragThreshold:O}=o.getState();O===0&&T(C),x.current=!1;const k=E(C);f.current=k,p.current=(I==null?void 0:I.getBoundingClientRect())||null,m.current=Io(C.sourceEvent,p.current)}).on("drag",C=>{var R,D;const I=E(C),{autoPanOnNodeDrag:O,nodeDragThreshold:k}=o.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!_.current&&y.current&&O&&(_.current=!0,M()),!y.current){const z=I.xSnapped-(((R=f==null?void 0:f.current)==null?void 0:R.x)??0),L=I.ySnapped-(((D=f==null?void 0:f.current)==null?void 0:D.y)??0);Math.sqrt(z*z+L*L)>k&&T(C)}(f.current.x!==I.xSnapped||f.current.y!==I.ySnapped)&&c.current&&y.current&&(g.current=C.sourceEvent,m.current=Io(C.sourceEvent,p.current),P(I))}}).on("end",C=>{if(!(!y.current||x.current)&&(u(!1),_.current=!1,y.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:I,nodeInternals:O,onNodeDragStop:k,onSelectionDragStop:R}=o.getState(),D=i?k:qw(R);if(I(c.current,!1,!1),D){const[z,L]=Hw({nodeId:i,dragItems:c.current,nodeInternals:O});D(C.sourceEvent,z,L)}}}).filter(C=>{const I=C.target;return!C.button&&(!n||!n4(I,`.${n}`,e))&&(!r||n4(I,r,e))});return S.call(A),()=>{S.on(".drag",null)}}}},[e,t,n,r,a,o,i,s,E]),l}function QH(){const e=vn();return v.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:a,getNodes:s,snapToGrid:o,snapGrid:l,onError:u,nodesDraggable:c}=e.getState(),f=s().filter(x=>x.selected&&(x.draggable||c&&typeof x.draggable>"u")),d=o?l[0]:5,p=o?l[1]:5,m=n.isShiftPressed?4:1,g=n.x*d*m,_=n.y*p*m,y=f.map(x=>{if(x.positionAbsolute){const E={x:x.positionAbsolute.x+g,y:x.positionAbsolute.y+_};o&&(E.x=l[0]*Math.round(E.x/l[0]),E.y=l[1]*Math.round(E.y/l[1]));const{positionAbsolute:S,position:P}=WH(x,E,r,i,void 0,u);x.position=P,x.positionAbsolute=S}return x});a(y,!0,!1)},[])}const Oc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Pd=e=>{const t=({id:n,type:r,data:i,xPos:a,yPos:s,xPosOrigin:o,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:p,onContextMenu:m,onDoubleClick:g,style:_,className:y,isDraggable:x,isSelectable:E,isConnectable:S,isFocusable:P,selectNodesOnDrag:M,sourcePosition:T,targetPosition:A,hidden:C,resizeObserver:I,dragHandle:O,zIndex:k,isParent:R,noDragClassName:D,noPanClassName:z,initialized:L,disableKeyboardA11y:V,ariaLabel:B,rfId:U,hasHandleBounds:F})=>{const Y=vn(),X=v.useRef(null),re=v.useRef(null),ee=v.useRef(T),se=v.useRef(A),_e=v.useRef(r),he=E||x||c||f||d||p,De=QH(),G=Od(n,Y.getState,f),ae=Od(n,Y.getState,d),ve=Od(n,Y.getState,p),Z=Od(n,Y.getState,m),He=Od(n,Y.getState,g),xe=Ie=>{const{nodeDragThreshold:ue}=Y.getState();if(E&&(!M||!x||ue>0)&&$S({id:n,store:Y,nodeRef:X}),c){const qe=Y.getState().nodeInternals.get(n);qe&&c(Ie,{...qe})}},je=Ie=>{if(!LS(Ie)&&!V)if(_H.includes(Ie.key)&&E){const ue=Ie.key==="Escape";$S({id:n,store:Y,unselect:ue,nodeRef:X})}else x&&u&&Object.prototype.hasOwnProperty.call(Oc,Ie.key)&&(Y.setState({ariaLiveMessage:`Moved selected node ${Ie.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~s}`}),De({x:Oc[Ie.key].x,y:Oc[Ie.key].y,isShiftPressed:Ie.shiftKey}))};v.useEffect(()=>()=>{re.current&&(I==null||I.unobserve(re.current),re.current=null)},[]),v.useEffect(()=>{if(X.current&&!C){const Ie=X.current;(!L||!F||re.current!==Ie)&&(re.current&&(I==null||I.unobserve(re.current)),I==null||I.observe(Ie),re.current=Ie)}},[C,L,F]),v.useEffect(()=>{const Ie=_e.current!==r,ue=ee.current!==T,qe=se.current!==A;X.current&&(Ie||ue||qe)&&(Ie&&(_e.current=r),ue&&(ee.current=T),qe&&(se.current=A),Y.getState().updateNodeDimensions([{id:n,nodeElement:X.current,forceUpdate:!0}]))},[n,r,T,A]);const Xe=XH({nodeRef:X,disabled:C||!x,noDragClassName:D,handleSelector:O,nodeId:n,isSelectable:E,selectNodesOnDrag:M});return C?null:K.createElement("div",{className:er(["react-flow__node",`react-flow__node-${r}`,{[z]:x},y,{selected:u,selectable:E,parent:R,dragging:Xe}]),ref:X,style:{zIndex:k,transform:`translate(${o}px,${l}px)`,pointerEvents:he?"all":"none",visibility:L?"visible":"hidden",..._},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:G,onMouseMove:ae,onMouseLeave:ve,onContextMenu:Z,onClick:xe,onDoubleClick:He,onKeyDown:P?je:void 0,tabIndex:P?0:void 0,role:P?"button":void 0,"aria-describedby":V?void 0:`${VH}-${U}`,"aria-label":B},K.createElement(RAe,{value:n},K.createElement(e,{id:n,data:i,type:r,xPos:a,yPos:s,selected:u,isConnectable:S,sourcePosition:T,targetPosition:A,dragging:Xe,dragHandle:O,zIndex:k})))};return t.displayName="NodeWrapper",v.memo(t)};const _Ce=e=>{const t=e.getNodes().filter(n=>n.selected);return{...bI(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function bCe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=vn(),{width:i,height:a,x:s,y:o,transformString:l,userSelectionActive:u}=Et(_Ce,Mn),c=QH(),f=v.useRef(null);if(v.useEffect(()=>{var m;n||(m=f.current)==null||m.focus({preventScroll:!0})},[n]),XH({nodeRef:f}),u||!i||!a)return null;const d=e?m=>{const g=r.getState().getNodes().filter(_=>_.selected);e(m,g)}:void 0,p=m=>{Object.prototype.hasOwnProperty.call(Oc,m.key)&&c({x:Oc[m.key].x,y:Oc[m.key].y,isShiftPressed:m.shiftKey})};return K.createElement("div",{className:er(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},K.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:a,top:o,left:s}}))}var xCe=v.memo(bCe);const wCe=e=>e.nodesSelectionActive,ZH=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,deleteKeyCode:o,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:p,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:_,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:E,zoomOnScroll:S,zoomOnPinch:P,panOnScroll:M,panOnScrollSpeed:T,panOnScrollMode:A,zoomOnDoubleClick:C,panOnDrag:I,defaultViewport:O,translateExtent:k,minZoom:R,maxZoom:D,preventScrolling:z,onSelectionContextMenu:L,noWheelClassName:V,noPanClassName:B,disableKeyboardA11y:U})=>{const F=Et(wCe),Y=wp(f),X=wp(y),re=X||I,ee=X||M,se=Y||d&&re!==!0;return oCe({deleteKeyCode:o,multiSelectionKeyCode:_}),K.createElement(fCe,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:a,elementsSelectable:E,zoomOnScroll:S,zoomOnPinch:P,panOnScroll:ee,panOnScrollSpeed:T,panOnScrollMode:A,zoomOnDoubleClick:C,panOnDrag:!Y&&re,defaultViewport:O,translateExtent:k,minZoom:R,maxZoom:D,zoomActivationKeyCode:x,preventScrolling:z,noWheelClassName:V,noPanClassName:B},K.createElement(KH,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:re,isSelecting:!!se,selectionMode:p},e,F&&K.createElement(xCe,{onSelectionContextMenu:L,noPanClassName:B,disableKeyboardA11y:U})))};ZH.displayName="FlowRenderer";var ECe=v.memo(ZH);function SCe(e){return Et(v.useCallback(n=>e?CH(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function TCe(e){const t={input:Pd(e.input||jH),default:Pd(e.default||BS),output:Pd(e.output||zH),group:Pd(e.group||wI)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=Pd(e[a]||BS),i),n);return{...t,...r}}const ACe=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},CCe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),JH=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Et(CCe,Mn),o=SCe(e.onlyRenderVisibleElements),l=v.useRef(),u=v.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));a(d)});return l.current=c,c},[]);return v.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),K.createElement("div",{className:"react-flow__nodes",style:EI},o.map(c=>{var P,M,T;let f=c.type||"default";e.nodeTypes[f]||(s==null||s("003",gs.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),m=!!(c.selectable||i&&typeof c.selectable>"u"),g=!!(c.connectable||n&&typeof c.connectable>"u"),_=!!(c.focusable||r&&typeof c.focusable>"u"),y=e.nodeExtent?pI(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,x=(y==null?void 0:y.x)??0,E=(y==null?void 0:y.y)??0,S=ACe({x,y:E,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return K.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||ce.Bottom,targetPosition:c.targetPosition||ce.Top,hidden:c.hidden,xPos:x,yPos:E,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:m,isConnectable:g,isFocusable:_,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((P=c[kt])==null?void 0:P.z)??0,isParent:!!((M=c[kt])!=null&&M.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((T=c[kt])!=null&&T.handleBounds)})}))};JH.displayName="NodeRenderer";var NCe=v.memo(JH);const ICe=(e,t,n)=>n===ce.Left?e-t:n===ce.Right?e+t:e,OCe=(e,t,n)=>n===ce.Top?e-t:n===ce.Bottom?e+t:e,i4="react-flow__edgeupdater",a4=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:o})=>K.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:er([i4,`${i4}-${o}`]),cx:ICe(t,r,e),cy:OCe(n,r,e),r,stroke:"transparent",fill:"transparent"}),PCe=()=>!0;var Bu=e=>{const t=({id:n,className:r,type:i,data:a,onClick:s,onEdgeDoubleClick:o,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,style:_,source:y,target:x,sourceX:E,sourceY:S,targetX:P,targetY:M,sourcePosition:T,targetPosition:A,elementsSelectable:C,hidden:I,sourceHandleId:O,targetHandleId:k,onContextMenu:R,onMouseEnter:D,onMouseMove:z,onMouseLeave:L,reconnectRadius:V,onReconnect:B,onReconnectStart:U,onReconnectEnd:F,markerEnd:Y,markerStart:X,rfId:re,ariaLabel:ee,isFocusable:se,isReconnectable:_e,pathOptions:he,interactionWidth:De,disableKeyboardA11y:G})=>{const ae=v.useRef(null),[ve,Z]=v.useState(!1),[He,xe]=v.useState(!1),je=vn(),Xe=v.useMemo(()=>`url('#${US(X,re)}')`,[X,re]),Ie=v.useMemo(()=>`url('#${US(Y,re)}')`,[Y,re]);if(I)return null;const ue=qt=>{var _r;const{edges:tr,addSelectedEdges:vr,unselectNodesAndEdges:ci,multiSelectionActive:fi}=je.getState(),_n=tr.find(Bi=>Bi.id===n);_n&&(C&&(je.setState({nodesSelectionActive:!1}),_n.selected&&fi?(ci({nodes:[],edges:[_n]}),(_r=ae.current)==null||_r.blur()):vr([n])),s&&s(qt,_n))},qe=Id(n,je.getState,o),St=Id(n,je.getState,R),Li=Id(n,je.getState,D),Os=Id(n,je.getState,z),wa=Id(n,je.getState,L),ui=(qt,tr)=>{if(qt.button!==0)return;const{edges:vr,isValidConnection:ci}=je.getState(),fi=tr?x:y,_n=(tr?k:O)||null,_r=tr?"target":"source",Bi=ci||PCe,xu=tr,di=vr.find($i=>$i.id===n);xe(!0),U==null||U(qt,di,_r);const wu=$i=>{xe(!1),F==null||F($i,di,_r)};kH({event:qt,handleId:_n,nodeId:fi,onConnect:$i=>B==null?void 0:B(di,$i),isTarget:xu,getState:je.getState,setState:je.setState,isValidConnection:Bi,edgeUpdaterType:_r,onReconnectEnd:wu})},Vr=qt=>ui(qt,!0),zi=qt=>ui(qt,!1),Ui=()=>Z(!0),Vi=()=>Z(!1),Ps=!C&&!s,Zo=qt=>{var tr;if(!G&&_H.includes(qt.key)&&C){const{unselectNodesAndEdges:vr,addSelectedEdges:ci,edges:fi}=je.getState();qt.key==="Escape"?((tr=ae.current)==null||tr.blur(),vr({edges:[fi.find(_r=>_r.id===n)]})):ci([n])}};return K.createElement("g",{className:er(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:Ps,updating:ve}]),onClick:ue,onDoubleClick:qe,onContextMenu:St,onMouseEnter:Li,onMouseMove:Os,onMouseLeave:wa,onKeyDown:se?Zo:void 0,tabIndex:se?0:void 0,role:se?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ee===null?void 0:ee||`Edge from ${y} to ${x}`,"aria-describedby":se?`${BH}-${re}`:void 0,ref:ae},!He&&K.createElement(e,{id:n,source:y,target:x,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:m,labelBgBorderRadius:g,data:a,style:_,sourceX:E,sourceY:S,targetX:P,targetY:M,sourcePosition:T,targetPosition:A,sourceHandleId:O,targetHandleId:k,markerStart:Xe,markerEnd:Ie,pathOptions:he,interactionWidth:De}),_e&&K.createElement(K.Fragment,null,(_e==="source"||_e===!0)&&K.createElement(a4,{position:T,centerX:E,centerY:S,radius:V,onMouseDown:Vr,onMouseEnter:Ui,onMouseOut:Vi,type:"source"}),(_e==="target"||_e===!0)&&K.createElement(a4,{position:A,centerX:P,centerY:M,radius:V,onMouseDown:zi,onMouseEnter:Ui,onMouseOut:Vi,type:"target"})))};return t.displayName="EdgeWrapper",v.memo(t)};function kCe(e){const t={default:Bu(e.default||z0),straight:Bu(e.bezier||vI),step:Bu(e.step||yI),smoothstep:Bu(e.step||Kb),simplebezier:Bu(e.simplebezier||gI)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=Bu(e[a]||z0),i),n);return{...t,...r}}function s4(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case ce.Top:return{x:r+a/2,y:i};case ce.Right:return{x:r+a,y:i+s/2};case ce.Bottom:return{x:r+a/2,y:i+s};case ce.Left:return{x:r,y:i+s/2}}}function o4(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const RCe=(e,t,n,r,i,a)=>{const s=s4(n,e,t),o=s4(a,r,i);return{sourceX:s.x,sourceY:s.y,targetX:o.x,targetY:o.y}};function MCe({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:s,height:o,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=mI({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:o/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function l4(e){var r,i,a,s,o;const t=((r=e==null?void 0:e[kt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const DCe=[{level:0,isMaxLevel:!0,edges:[]}];function jCe(e,t,n=!1){let r=-1;const i=e.reduce((s,o)=>{var c,f;const l=ei(o.zIndex);let u=l?o.zIndex:0;if(n){const d=t.get(o.target),p=t.get(o.source),m=o.selected||(d==null?void 0:d.selected)||(p==null?void 0:p.selected),g=Math.max(((c=p==null?void 0:p[kt])==null?void 0:c.z)||0,((f=d==null?void 0:d[kt])==null?void 0:f.z)||0,1e3);u=(l?o.zIndex:0)+(m?g:0)}return s[u]?s[u].push(o):s[u]=[o],r=u>r?u:r,s},{}),a=Object.entries(i).map(([s,o])=>{const l=+s;return{edges:o,level:l,isMaxLevel:l===r}});return a.length===0?DCe:a}function LCe(e,t,n){const r=Et(v.useCallback(i=>e?i.edges.filter(a=>{const s=t.get(a.source),o=t.get(a.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&MCe({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:o.width,targetHeight:o.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return jCe(r,t,n)}const zCe=({color:e="none",strokeWidth:t=1})=>K.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),UCe=({color:e="none",strokeWidth:t=1})=>K.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),u4={[xp.Arrow]:zCe,[xp.ArrowClosed]:UCe};function VCe(e){const t=vn();return v.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call(u4,e)?u4[e]:((a=(i=t.getState()).onError)==null||a.call(i,"009",gs.error009(e)),null)},[e])}const BCe=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:o="auto-start-reverse"})=>{const l=VCe(t);return l?K.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:o,refX:"0",refY:"0"},K.createElement(l,{color:n,strokeWidth:s})):null},$Ce=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const o=US(s,t);r.includes(o)||(i.push({id:o,color:s.color||e,...s}),r.push(o))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},e7=({defaultColor:e,rfId:t})=>{const n=Et(v.useCallback($Ce({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((a,s)=>a.id!==i[s].id)));return K.createElement("defs",null,n.map(r=>K.createElement(BCe,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};e7.displayName="MarkerDefinitions";var FCe=v.memo(e7);const HCe=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),t7=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:s,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,children:_,disableKeyboardA11y:y})=>{const{edgesFocusable:x,edgesUpdatable:E,elementsSelectable:S,width:P,height:M,connectionMode:T,nodeInternals:A,onError:C}=Et(HCe,Mn),I=LCe(t,A,n);return P?K.createElement(K.Fragment,null,I.map(({level:O,edges:k,isMaxLevel:R})=>K.createElement("svg",{key:O,style:{zIndex:O},width:P,height:M,className:"react-flow__edges react-flow__container"},R&&K.createElement(FCe,{defaultColor:e,rfId:r}),K.createElement("g",null,k.map(D=>{const[z,L,V]=l4(A.get(D.source)),[B,U,F]=l4(A.get(D.target));if(!V||!F)return null;let Y=D.type||"default";i[Y]||(C==null||C("011",gs.error011(Y)),Y="default");const X=i[Y]||i.default,re=T===su.Strict?U.target:(U.target??[]).concat(U.source??[]),ee=o4(L.source,D.sourceHandle),se=o4(re,D.targetHandle),_e=(ee==null?void 0:ee.position)||ce.Bottom,he=(se==null?void 0:se.position)||ce.Top,De=!!(D.focusable||x&&typeof D.focusable>"u"),G=D.reconnectable||D.updatable,ae=typeof d<"u"&&(G||E&&typeof G>"u");if(!ee||!se)return C==null||C("008",gs.error008(ee,D)),null;const{sourceX:ve,sourceY:Z,targetX:He,targetY:xe}=RCe(z,ee,_e,B,se,he);return K.createElement(X,{key:D.id,id:D.id,className:er([D.className,a]),type:Y,data:D.data,selected:!!D.selected,animated:!!D.animated,hidden:!!D.hidden,label:D.label,labelStyle:D.labelStyle,labelShowBg:D.labelShowBg,labelBgStyle:D.labelBgStyle,labelBgPadding:D.labelBgPadding,labelBgBorderRadius:D.labelBgBorderRadius,style:D.style,source:D.source,target:D.target,sourceHandleId:D.sourceHandle,targetHandleId:D.targetHandle,markerEnd:D.markerEnd,markerStart:D.markerStart,sourceX:ve,sourceY:Z,targetX:He,targetY:xe,sourcePosition:_e,targetPosition:he,elementsSelectable:S,onContextMenu:s,onMouseEnter:o,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:m,reconnectRadius:g,rfId:r,ariaLabel:D.ariaLabel,isFocusable:De,isReconnectable:ae,pathOptions:"pathOptions"in D?D.pathOptions:void 0,interactionWidth:D.interactionWidth,disableKeyboardA11y:y})})))),_):null};t7.displayName="EdgeRenderer";var qCe=v.memo(t7);const GCe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function KCe({children:e}){const t=Et(GCe);return K.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function YCe(e){const t=Yb(),n=v.useRef(!1);v.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const WCe={[ce.Left]:ce.Right,[ce.Right]:ce.Left,[ce.Top]:ce.Bottom,[ce.Bottom]:ce.Top},n7=({nodeId:e,handleType:t,style:n,type:r=ro.Bezier,CustomComponent:i,connectionStatus:a})=>{var M,T,A;const{fromNode:s,handleId:o,toX:l,toY:u,connectionMode:c}=Et(v.useCallback(C=>({fromNode:C.nodeInternals.get(e),handleId:C.connectionHandleId,toX:(C.connectionPosition.x-C.transform[0])/C.transform[2],toY:(C.connectionPosition.y-C.transform[1])/C.transform[2],connectionMode:C.connectionMode}),[e]),Mn),f=(M=s==null?void 0:s[kt])==null?void 0:M.handleBounds;let d=f==null?void 0:f[t];if(c===su.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const p=o?d.find(C=>C.id===o):d[0],m=p?p.x+p.width/2:(s.width??0)/2,g=p?p.y+p.height/2:s.height??0,_=(((T=s.positionAbsolute)==null?void 0:T.x)??0)+m,y=(((A=s.positionAbsolute)==null?void 0:A.y)??0)+g,x=p==null?void 0:p.position,E=x?WCe[x]:null;if(!x||!E)return null;if(i)return K.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:_,fromY:y,toX:l,toY:u,fromPosition:x,toPosition:E,connectionStatus:a});let S="";const P={sourceX:_,sourceY:y,sourcePosition:x,targetX:l,targetY:u,targetPosition:E};return r===ro.Bezier?[S]=SH(P):r===ro.Step?[S]=zS({...P,borderRadius:0}):r===ro.SmoothStep?[S]=zS(P):r===ro.SimpleBezier?[S]=EH(P):S=`M${_},${y} ${l},${u}`,K.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};n7.displayName="ConnectionLine";const XCe=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function QCe({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:s,width:o,height:l,connectionStatus:u}=Et(XCe,Mn);return!(i&&a&&o&&s)?null:K.createElement("svg",{style:e,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},K.createElement("g",{className:er(["react-flow__connection",u])},K.createElement(n7,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function c4(e,t){return v.useRef(null),vn(),v.useMemo(()=>t(e),[e])}const r7=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:_,connectionLineType:y,connectionLineStyle:x,connectionLineComponent:E,connectionLineContainerStyle:S,selectionKeyCode:P,selectionOnDrag:M,selectionMode:T,multiSelectionKeyCode:A,panActivationKeyCode:C,zoomActivationKeyCode:I,deleteKeyCode:O,onlyRenderVisibleElements:k,elementsSelectable:R,selectNodesOnDrag:D,defaultViewport:z,translateExtent:L,minZoom:V,maxZoom:B,preventScrolling:U,defaultMarkerColor:F,zoomOnScroll:Y,zoomOnPinch:X,panOnScroll:re,panOnScrollSpeed:ee,panOnScrollMode:se,zoomOnDoubleClick:_e,panOnDrag:he,onPaneClick:De,onPaneMouseEnter:G,onPaneMouseMove:ae,onPaneMouseLeave:ve,onPaneScroll:Z,onPaneContextMenu:He,onEdgeContextMenu:xe,onEdgeMouseEnter:je,onEdgeMouseMove:Xe,onEdgeMouseLeave:Ie,onReconnect:ue,onReconnectStart:qe,onReconnectEnd:St,reconnectRadius:Li,noDragClassName:Os,noWheelClassName:wa,noPanClassName:ui,elevateEdgesOnSelect:Vr,disableKeyboardA11y:zi,nodeOrigin:Ui,nodeExtent:Vi,rfId:Ps})=>{const Zo=c4(e,TCe),qt=c4(t,kCe);return YCe(a),K.createElement(ECe,{onPaneClick:De,onPaneMouseEnter:G,onPaneMouseMove:ae,onPaneMouseLeave:ve,onPaneContextMenu:He,onPaneScroll:Z,deleteKeyCode:O,selectionKeyCode:P,selectionOnDrag:M,selectionMode:T,onSelectionStart:g,onSelectionEnd:_,multiSelectionKeyCode:A,panActivationKeyCode:C,zoomActivationKeyCode:I,elementsSelectable:R,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:Y,zoomOnPinch:X,zoomOnDoubleClick:_e,panOnScroll:re,panOnScrollSpeed:ee,panOnScrollMode:se,panOnDrag:he,defaultViewport:z,translateExtent:L,minZoom:V,maxZoom:B,onSelectionContextMenu:m,preventScrolling:U,noDragClassName:Os,noWheelClassName:wa,noPanClassName:ui,disableKeyboardA11y:zi},K.createElement(KCe,null,K.createElement(qCe,{edgeTypes:qt,onEdgeClick:o,onEdgeDoubleClick:u,onlyRenderVisibleElements:k,onEdgeContextMenu:xe,onEdgeMouseEnter:je,onEdgeMouseMove:Xe,onEdgeMouseLeave:Ie,onReconnect:ue,onReconnectStart:qe,onReconnectEnd:St,reconnectRadius:Li,defaultMarkerColor:F,noPanClassName:ui,elevateEdgesOnSelect:!!Vr,disableKeyboardA11y:zi,rfId:Ps},K.createElement(QCe,{style:x,type:y,component:E,containerStyle:S})),K.createElement("div",{className:"react-flow__edgelabel-renderer"}),K.createElement(NCe,{nodeTypes:Zo,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,selectNodesOnDrag:D,onlyRenderVisibleElements:k,noPanClassName:ui,noDragClassName:Os,disableKeyboardA11y:zi,nodeOrigin:Ui,nodeExtent:Vi,rfId:Ps})))};r7.displayName="GraphView";var ZCe=v.memo(r7);const FS=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Bs={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:FS,nodeExtent:FS,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:su.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:CAe,isValidConnection:void 0},JCe=()=>dEe((e,t)=>({...Bs,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:$w(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",a=typeof r<"u",s=i?$w(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:s,fitViewOnInitOptions:o,domNode:l,nodeOrigin:u}=t(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((g,_)=>{const y=i.get(_.id);if(y!=null&&y.hidden)i.set(y.id,{...y,[kt]:{...y[kt],handleBounds:void 0}});else if(y){const x=hI(_.nodeElement);!!(x.width&&x.height&&(y.width!==x.width||y.height!==x.height||_.forceUpdate))&&(i.set(y.id,{...y,[kt]:{...y[kt],handleBounds:{source:r4(".source",_.nodeElement,d,u),target:r4(".target",_.nodeElement,d,u)}},...x}),g.push({id:y.id,type:"dimensions",dimensions:x}))}return g},[]);FH(i,u);const m=s||a&&!s&&HH(t,{initial:!0,...o});e({nodeInternals:new Map(i),fitViewOnInitDone:m}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:a}=t(),s=n.map(o=>{const l={id:o.id,type:"position",dragging:i};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});a(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:s,getNodes:o,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(a){const u=GH(n,o()),c=$w(u,i,s,l);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let s,o=null;r?s=n.map(l=>Ks(l,!0)):(s=cc(a(),n),o=cc(i,[])),jg({changedNodes:s,changedEdges:o,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let s,o=null;r?s=n.map(l=>Ks(l,!0)):(s=cc(i,n),o=cc(a(),[])),jg({changedNodes:o,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:a}=t(),s=n||a(),o=r||i,l=s.map(c=>(c.selected=!1,Ks(c.id,!1))),u=o.map(c=>Ks(c.id,!1));jg({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(o=>o.selected).map(o=>Ks(o.id,!1)),s=n.filter(o=>o.selected).map(o=>Ks(o.id,!1));jg({changedNodes:a,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=pI(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:a,d3Zoom:s,d3Selection:o,translateExtent:l}=t();if(!s||!o||!n.x&&!n.y)return!1;const u=No.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,a]],f=s==null?void 0:s.constrain()(u,c,l);return s.transform(o,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:Bs.connectionNodeId,connectionHandleId:Bs.connectionHandleId,connectionHandleType:Bs.connectionHandleType,connectionStatus:Bs.connectionStatus,connectionStartHandle:Bs.connectionStartHandle,connectionEndHandle:Bs.connectionEndHandle}),reset:()=>e({...Bs})}),Object.is),SI=({children:e})=>{const t=v.useRef(null);return t.current||(t.current=JCe()),K.createElement(_Ae,{value:t.current},e)};SI.displayName="ReactFlowProvider";const i7=({children:e})=>v.useContext(Gb)?K.createElement(K.Fragment,null,e):K.createElement(SI,null,e);i7.displayName="ReactFlowWrapper";const eNe={input:jH,default:BS,output:zH,group:wI},tNe={default:z0,straight:vI,step:yI,smoothstep:Kb,simplebezier:gI},nNe=[0,0],rNe=[15,15],iNe={x:0,y:0,zoom:1},aNe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},TI=v.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=eNe,edgeTypes:s=tNe,onNodeClick:o,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:_,onClickConnectEnd:y,onNodeMouseEnter:x,onNodeMouseMove:E,onNodeMouseLeave:S,onNodeContextMenu:P,onNodeDoubleClick:M,onNodeDragStart:T,onNodeDrag:A,onNodeDragStop:C,onNodesDelete:I,onEdgesDelete:O,onSelectionChange:k,onSelectionDragStart:R,onSelectionDrag:D,onSelectionDragStop:z,onSelectionContextMenu:L,onSelectionStart:V,onSelectionEnd:B,connectionMode:U=su.Strict,connectionLineType:F=ro.Bezier,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:re,deleteKeyCode:ee="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:_e=!1,selectionMode:he=bp.Full,panActivationKeyCode:De="Space",multiSelectionKeyCode:G=L0()?"Meta":"Control",zoomActivationKeyCode:ae=L0()?"Meta":"Control",snapToGrid:ve=!1,snapGrid:Z=rNe,onlyRenderVisibleElements:He=!1,selectNodesOnDrag:xe=!0,nodesDraggable:je,nodesConnectable:Xe,nodesFocusable:Ie,nodeOrigin:ue=nNe,edgesFocusable:qe,edgesUpdatable:St,elementsSelectable:Li,defaultViewport:Os=iNe,minZoom:wa=.5,maxZoom:ui=2,translateExtent:Vr=FS,preventScrolling:zi=!0,nodeExtent:Ui,defaultMarkerColor:Vi="#b1b1b7",zoomOnScroll:Ps=!0,zoomOnPinch:Zo=!0,panOnScroll:qt=!1,panOnScrollSpeed:tr=.5,panOnScrollMode:vr=Tl.Free,zoomOnDoubleClick:ci=!0,panOnDrag:fi=!0,onPaneClick:_n,onPaneMouseEnter:_r,onPaneMouseMove:Bi,onPaneMouseLeave:xu,onPaneScroll:di,onPaneContextMenu:wu,children:en,onEdgeContextMenu:$i,onEdgeDoubleClick:Jo,onEdgeMouseEnter:el,onEdgeMouseMove:Wb,onEdgeMouseLeave:Xb,onEdgeUpdate:ks,onEdgeUpdateStart:Qb,onEdgeUpdateEnd:Zb,onReconnect:Eu,onReconnectStart:xm,onReconnectEnd:wm,reconnectRadius:Hf=10,edgeUpdaterRadius:tl=10,onNodesChange:Jb,onEdgesChange:Fi,noDragClassName:Em="nodrag",noWheelClassName:Sm="nowheel",noPanClassName:Su="nopan",fitView:qf=!1,fitViewOptions:Tm,connectOnClick:ex=!0,attributionPosition:Am,proOptions:tx,defaultEdgeOptions:Tu,elevateNodesOnSelect:Cm=!0,elevateEdgesOnSelect:Gf=!1,disableKeyboardA11y:Rs=!1,autoPanOnConnect:Ea=!0,autoPanOnNodeDrag:Kf=!0,connectionRadius:nx=20,isValidConnection:Nm,onError:Im,style:Om,id:Au,nodeDragThreshold:Yf,...Pm},km)=>{const Cu=Au||"1";return K.createElement("div",{...Pm,style:{...Om,...aNe},ref:km,className:er(["react-flow",i]),"data-testid":"rf__wrapper",id:Au},K.createElement(i7,null,K.createElement(ZCe,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:E,onNodeMouseLeave:S,onNodeContextMenu:P,onNodeDoubleClick:M,nodeTypes:a,edgeTypes:s,connectionLineType:F,connectionLineStyle:Y,connectionLineComponent:X,connectionLineContainerStyle:re,selectionKeyCode:se,selectionOnDrag:_e,selectionMode:he,deleteKeyCode:ee,multiSelectionKeyCode:G,panActivationKeyCode:De,zoomActivationKeyCode:ae,onlyRenderVisibleElements:He,selectNodesOnDrag:xe,defaultViewport:Os,translateExtent:Vr,minZoom:wa,maxZoom:ui,preventScrolling:zi,zoomOnScroll:Ps,zoomOnPinch:Zo,zoomOnDoubleClick:ci,panOnScroll:qt,panOnScrollSpeed:tr,panOnScrollMode:vr,panOnDrag:fi,onPaneClick:_n,onPaneMouseEnter:_r,onPaneMouseMove:Bi,onPaneMouseLeave:xu,onPaneScroll:di,onPaneContextMenu:wu,onSelectionContextMenu:L,onSelectionStart:V,onSelectionEnd:B,onEdgeContextMenu:$i,onEdgeDoubleClick:Jo,onEdgeMouseEnter:el,onEdgeMouseMove:Wb,onEdgeMouseLeave:Xb,onReconnect:Eu??ks,onReconnectStart:xm??Qb,onReconnectEnd:wm??Zb,reconnectRadius:Hf??tl,defaultMarkerColor:Vi,noDragClassName:Em,noWheelClassName:Sm,noPanClassName:Su,elevateEdgesOnSelect:Gf,rfId:Cu,disableKeyboardA11y:Rs,nodeOrigin:ue,nodeExtent:Ui}),K.createElement(WAe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:g,onClickConnectStart:_,onClickConnectEnd:y,nodesDraggable:je,nodesConnectable:Xe,nodesFocusable:Ie,edgesFocusable:qe,edgesUpdatable:St,elementsSelectable:Li,elevateNodesOnSelect:Cm,minZoom:wa,maxZoom:ui,nodeExtent:Ui,onNodesChange:Jb,onEdgesChange:Fi,snapToGrid:ve,snapGrid:Z,connectionMode:U,translateExtent:Vr,connectOnClick:ex,defaultEdgeOptions:Tu,fitView:qf,fitViewOptions:Tm,onNodesDelete:I,onEdgesDelete:O,onNodeDragStart:T,onNodeDrag:A,onNodeDragStop:C,onSelectionDrag:D,onSelectionDragStart:R,onSelectionDragStop:z,noPanClassName:Su,nodeOrigin:ue,rfId:Cu,autoPanOnConnect:Ea,autoPanOnNodeDrag:Kf,onError:Im,connectionRadius:nx,isValidConnection:Nm,nodeDragThreshold:Yf}),K.createElement(KAe,{onSelectionChange:k}),en,K.createElement(xAe,{proOptions:tx,position:Am}),K.createElement(eCe,{rfId:Cu,disableKeyboardA11y:Rs})))});TI.displayName="ReactFlow";const sNe=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function oNe(){return Et(sNe,Mn)}function a7(e){return t=>{const[n,r]=v.useState(t),i=v.useCallback(a=>r(s=>e(a,s)),[]);return[n,r,i]}}const s7=a7(GH),o7=a7(pCe);function lNe(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},K.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function uNe(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},K.createElement("path",{d:"M0 0h32v4.2H0z"}))}function cNe(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},K.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function fNe(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function dNe(){return K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},K.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Gd=({children:e,className:t,...n})=>K.createElement("button",{type:"button",className:er(["react-flow__controls-button",t]),...n},e);Gd.displayName="ControlButton";const hNe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),l7=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:o,onInteractiveChange:l,className:u,children:c,position:f="bottom-left"})=>{const d=vn(),[p,m]=v.useState(!1),{isInteractive:g,minZoomReached:_,maxZoomReached:y}=Et(hNe,Mn),{zoomIn:x,zoomOut:E,fitView:S}=Yb();if(v.useEffect(()=>{m(!0)},[]),!p)return null;const P=()=>{x(),a==null||a()},M=()=>{E(),s==null||s()},T=()=>{S(i),o==null||o()},A=()=>{d.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return K.createElement(gH,{className:er(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&K.createElement(K.Fragment,null,K.createElement(Gd,{onClick:P,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},K.createElement(lNe,null)),K.createElement(Gd,{onClick:M,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},K.createElement(uNe,null))),n&&K.createElement(Gd,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},K.createElement(cNe,null)),r&&K.createElement(Gd,{className:"react-flow__controls-interactive",onClick:A,title:"toggle interactivity","aria-label":"toggle interactivity"},g?K.createElement(dNe,null):K.createElement(fNe,null)),c)};l7.displayName="Controls";var u7=v.memo(l7),Ii;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ii||(Ii={}));function pNe({color:e,dimensions:t,lineWidth:n}){return K.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function mNe({color:e,radius:t}){return K.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const gNe={[Ii.Dots]:"#91919a",[Ii.Lines]:"#eee",[Ii.Cross]:"#e2e2e2"},yNe={[Ii.Dots]:1,[Ii.Lines]:1,[Ii.Cross]:6},vNe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function c7({id:e,variant:t=Ii.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:s,style:o,className:l}){const u=v.useRef(null),{transform:c,patternId:f}=Et(vNe,Mn),d=s||gNe[t],p=r||yNe[t],m=t===Ii.Dots,g=t===Ii.Cross,_=Array.isArray(n)?n:[n,n],y=[_[0]*c[2]||1,_[1]*c[2]||1],x=p*c[2],E=g?[x,x]:y,S=m?[x/a,x/a]:[E[0]/a,E[1]/a];return K.createElement("svg",{className:er(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},K.createElement("pattern",{id:f+e,x:c[0]%y[0],y:c[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},m?K.createElement(mNe,{color:d,radius:x/a}):K.createElement(pNe,{dimensions:E,color:d,lineWidth:i})),K.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}c7.displayName="Background";var f7=v.memo(c7);const f4=async(e="7201",t="2024",n="M")=>{const r="5f564b613c454144bfee4af2df34895b",i=`/comtrade-api/data/v1/get/C/A/HS?cmdCode=${e}&flowCode=${n}&period=${t}&aggregateBy=cmdCode&partnerCode=0&breakdownMode=classic`;try{const a=await fetch(i,{method:"GET",headers:{"Ocp-Apim-Subscription-Key":r}});if(!a.ok)throw new Error(`HTTP Error: ${a.status}`);const s=await a.json();return s.data&&s.data.length>0?{totalValueUSD:s.data.reduce((l,u)=>l+u.primaryValue,0),totalCountries:s.data.length,year:t}:(console.log("production"),null)}catch(a){return console.error("Fetch Error (Check Proxy/Network):",a),null}},_Ne=e=>{if(!e)return"";let n=String(e).split("_")[0].replace(/\D/g,"");return n.length===5&&(n=n+"0"),n},bNe=e=>/^\d{4,8}$/.test(e),xNe=({data:e})=>{var i,a,s;const t=(i=e.Tier)==null?void 0:i.includes("Tier 5"),n=(a=e.Tier)==null?void 0:a.includes("Tier 1"),r=n?"bg-emerald-500":t?"bg-orange-500":"bg-blue-500";return b.jsxs("div",{className:"relative group",children:[b.jsxs("div",{className:"absolute left-[-25px] top-1/2 -translate-y-1/2 flex flex-col gap-2 z-[100]",children:[b.jsx("button",{onClick:o=>{o.stopPropagation(),e.onExpandParent(e.Harmony_ID)},className:"bg-white border-2 border-red-500 shadow-xl rounded-full p-1.5 hover:bg-red-500 hover:text-white text-red-500 transition-all hover:scale-110 active:scale-90",title:"Expand Parents",children:b.jsx(CE,{size:14,strokeWidth:4})}),b.jsx("button",{onClick:o=>{o.stopPropagation(),e.onHideParent(e.Harmony_ID)},className:"bg-white border-2 border-slate-300 shadow-xl rounded-full p-1.5 hover:bg-slate-500 hover:text-white text-slate-400 transition-all hover:scale-110 active:scale-90",title:"Hide Parents",children:b.jsx(Dk,{size:14,strokeWidth:4})})]}),b.jsxs("div",{onClick:o=>{o.stopPropagation(),e.onToggleExpand(e.Harmony_ID)},className:`
          bg-white border-2 border-slate-100 shadow-xl rounded-2xl overflow-hidden 
          transition-all duration-500 ease-in-out cursor-pointer
          ${e.isExpanded?"w-[320px]":"w-[240px]"}
          hover:border-red-500 hover:ring-4 hover:ring-red-500/20 hover:z-50
        `,children:[b.jsx(Fo,{type:"target",position:ce.Left,className:"opacity-0"}),b.jsx("div",{className:`text-[8px] font-black px-4 py-1.5 uppercase tracking-widest text-white ${r}`,children:n?"RAW MATERIAL":t?"FINAL PRODUCT":"INTERMEDIATE PRODUCT"}),b.jsxs("div",{className:"p-5",children:[b.jsx("h4",{className:"text-[11px] font-black text-slate-800 uppercase leading-tight mb-2 tracking-tighter truncate",children:e.Product_Name}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("p",{className:"text-[9px] font-bold text-slate-400 bg-slate-50 px-2 py-1 rounded-lg w-fit font-mono border border-slate-100",children:["HS ",(s=e.Harmony_ID)==null?void 0:s.split("_")[0]]}),b.jsxs("div",{className:"flex items-center gap-1 bg-indigo-50 px-2 py-0.5 rounded-md border border-indigo-100 w-fit",children:[b.jsx(cV,{size:10,className:"text-indigo-600 fill-indigo-600"}),b.jsx("span",{className:"text-[10px] font-black text-indigo-700",children:Number(e.Origin_Score_Value).toFixed(2)})]})]}),b.jsx("div",{className:`overflow-hidden transition-all duration-500 ${e.isExpanded?"max-h-[300px] mt-4 opacity-100":"max-h-0 opacity-0"}`,children:b.jsxs("div",{className:"pt-4 border-t border-slate-100 space-y-3 font-sans",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[b.jsx(L_,{size:12}),b.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wider",children:e.Tier})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"p-2 bg-emerald-50 rounded-xl border border-emerald-100 text-center",children:[b.jsx("p",{className:"text-[7px] font-black text-emerald-600 uppercase",children:"Ekspor"}),b.jsxs("p",{className:"text-[10px] font-black text-emerald-700 mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis",children:["$",Number(e.Downstream_Export).toLocaleString()]}),b.jsxs("p",{className:"text-[7px] text-gray-500 mt-2 italic",children:["*Dihitung dari akumulasi ",Number(e.Export_Countries)," negara pelapor di dunia"]})]}),b.jsxs("div",{className:"p-2 bg-red-50 rounded-xl border border-red-100 text-center",children:[b.jsx("p",{className:"text-[7px] font-black text-red-600 uppercase",children:"Impor"}),b.jsxs("p",{className:"text-[10px] font-black text-red-700 mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis",children:["$",Number(e.Downstream_Import).toLocaleString()]}),b.jsxs("p",{className:"text-[7px] text-gray-500 mt-2 italic",children:["*Dihitung dari akumulasi ",Number(e.Import_Countries)," negara pelapor di dunia"]})]})]}),b.jsxs("div",{className:"p-2.5 bg-slate-900 rounded-xl shadow-inner text-center",children:[b.jsx("p",{className:"text-[7px] font-black text-slate-500 uppercase mb-1",children:"Process Log"}),b.jsxs("p",{className:"text-[9px] font-medium text-white leading-tight italic truncate",children:['"',e.Process_Name,'"']})]})]})})]}),b.jsx(Fo,{type:"source",position:ce.Right,className:"opacity-0"})]}),b.jsxs("div",{className:"absolute right-[-25px] top-1/2 -translate-y-1/2 flex flex-col gap-2 z-[100]",children:[b.jsx("button",{onClick:o=>{o.stopPropagation(),e.onExpandChildren(e.Harmony_ID)},className:"bg-white border-2 border-emerald-500 shadow-xl rounded-full p-1.5 hover:bg-emerald-500 hover:text-white text-emerald-500 transition-all hover:scale-125 active:scale-90",title:"Expand Children",children:b.jsx(CE,{size:14,strokeWidth:4})}),b.jsx("button",{onClick:o=>{o.stopPropagation(),e.onHideChildren(e.Harmony_ID)},className:"bg-white border-2 border-slate-300 shadow-xl rounded-full p-1.5 hover:bg-slate-500 hover:text-white text-slate-400 transition-all hover:scale-125 active:scale-90",title:"Hide Children",children:b.jsx(Dk,{size:14,strokeWidth:4})})]})]})},d7=v.memo(xNe),wNe=e=>new Promise(t=>setTimeout(t,e)),Gw=new Map,ENe={industrial:d7},SNe=()=>b.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[1000] bg-white/80 p-4 rounded-2xl shadow-2xl flex items-center gap-3 border border-slate-100",children:[b.jsx(Jp,{className:"w-6 h-6 text-sky-600 animate-spin"}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Syncing Comtrade..."})]}),TNe=()=>{const{zoom:e}=oNe();return b.jsxs("div",{className:"absolute bottom-6 right-24 bg-white/80 backdrop-blur-md px-4 py-2 rounded-xl border border-slate-200 shadow-sm z-10 font-black text-slate-500 text-[10px] uppercase tracking-widest flex items-center gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),"Zoom: ",Math.round(e*100),"%"]})},ANe=()=>{var M;const{setCenter:e}=Yb(),t=Sf(),[n,r]=v.useState([]),[i,a]=v.useState(""),[s,o,l]=s7([]),[u,c]=o7([]),[f,d]=v.useState(null),[p,m]=v.useState(null),[g,_]=v.useState(!1);v.useEffect(()=>{const T=sessionStorage.getItem("user");T?m(JSON.parse(T)):t("/login");const A=Yh(tp,"/produk/");return Gz(A,C=>{const I=C.val();if(I){const O=Array.isArray(I)?I.filter(k=>k!==null):Object.values(I);r(O)}})},[t]);const y=()=>{sessionStorage.removeItem("user"),t("/login")},x=v.useCallback(async T=>{let A=null;if(o(C=>(A=C.find(I=>I.id===T),C)),console.log("Toggling expand for node:",T,A),!!A)if(A.data.isExpanded)o(C=>C.map(I=>I.id===T?{...I,data:{...I.data,isExpanded:!1}}:I));else{_(!0);try{const C=_Ne(T),I=`${C}_2024`;if(!bNe(C)){console.error(`Invalid HS Code format: ${C} (Source: ${T})`),updateNodeState(T,!0,{Downstream_Export:0,Downstream_Import:0,error:"Format HS Code tidak valid untuk API"});return}if(Gw.has(I)){const D=Gw.get(I);o(z=>z.map(L=>L.id===T?{...L,data:{...L.data,isExpanded:!0,...D}}:L));return}console.log(`Fetching market data for sanitized HS: ${C}`);const O=await f4(C,"2024","X");await wNe(1100);const k=await f4(C,"2024","M"),R={Downstream_Export:(O==null?void 0:O.totalValueUSD)||0,Downstream_Import:(k==null?void 0:k.totalValueUSD)||0,Export_Countries:(O==null?void 0:O.totalCountries)||0,Import_Countries:(k==null?void 0:k.totalCountries)||0};Gw.set(I,R),o(D=>D.map(z=>z.id===T?{...z,data:{...z.data,isExpanded:!0,...R}}:{...z,data:{...z.data,isExpanded:!1}}))}catch(C){console.error("Gagal sinkronisasi data market:",C)}finally{_(!1)}}},[o,s,n]),E=v.useCallback(T=>{c(A=>{const C=(O,k=[])=>(A.filter(D=>D.source===O).map(D=>D.target).forEach(D=>{k.push(D),C(D,k)}),k),I=C(T);return o(O=>O.filter(k=>!I.includes(k.id))),A.filter(O=>!I.includes(O.target))})},[o]),S=v.useCallback(T=>{c(A=>{const C=(O,k=[])=>(A.filter(D=>D.target===O).map(D=>D.source).forEach(D=>{k.push(D),C(D,k)}),k),I=C(T);return o(O=>O.filter(k=>!I.includes(k.id))),A.filter(O=>!I.includes(O.source))})},[o]),P=T=>{const A=new Map,C=new Map;A.set(T.Harmony_ID,T),n.filter(D=>D.Harmony_ID===T.Harmony_ID).forEach(D=>{if(D.Parent_ID&&D.Parent_ID!=="ROOT"){const z=n.find(L=>L.Harmony_ID===D.Parent_ID);z&&(A.set(z.Harmony_ID,z),C.set(`e-${D.Parent_ID}-${T.Harmony_ID}`,{source:D.Parent_ID,target:T.Harmony_ID,label:D.Process_Name}))}});const O=D=>{n.filter(z=>z.Parent_ID===D).forEach(z=>{A.has(z.Harmony_ID)||(A.set(z.Harmony_ID,z),C.set(`e-${D}-${z.Harmony_ID}`,{source:D,target:z.Harmony_ID,label:z.Process_Name}),O(z.Harmony_ID))})};O(T.Harmony_ID);const k=Array.from(A.values()).map((D,z)=>{let L=0,V=D;for(;V!=null&&V.Parent_ID&&V.Parent_ID!=="ROOT"&&(L++,V=n.find(B=>B.Harmony_ID===V.Parent_ID),!(L>10)););return{id:D.Harmony_ID,type:"industrial",data:{...D,isExpanded:!1,onToggleExpand:x,onHideChildren:E,onHideParent:S,onExpandChildren:B=>{const U=n.find(F=>F.Harmony_ID===B);U&&P(U)},onExpandParent:B=>{const U=n.find(F=>F.Harmony_ID===B);U&&P(U)},onShowDetail:B=>d(B)},position:{x:L*480,y:z*220-A.size*100}}}),R=Array.from(C.values()).map((D,z)=>({id:`edge-${z}`,source:D.source,target:D.target,label:D.label,animated:!0,type:"smoothstep",style:{stroke:"#ef4444",strokeWidth:3},labelStyle:{fill:"#ef4444",fontWeight:800,fontSize:8,textTransform:"uppercase"}}));o(k),c(R),a(""),setTimeout(()=>{const D=k.find(z=>z.id===T.Harmony_ID);D&&e(D.position.x+120,D.position.y+50,{zoom:.8,duration:1200})},200)};return b.jsxs("div",{className:"flex h-screen bg-sky-50 font-sans overflow-hidden",children:[b.jsxs("aside",{className:"w-72 bg-white border-r border-slate-100 flex flex-col p-6 sticky top-0 h-screen z-50",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[b.jsx("div",{className:"bg-sky-600 p-2.5 rounded-xl shadow-lg shadow-sky-100",children:b.jsx(Lv,{className:"text-white w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-black text-slate-900 uppercase leading-none",children:"Intelligence"}),b.jsx("p",{className:"text-[10px] font-bold text-sky-600 uppercase tracking-widest",children:"Portal Admin BRIN"})]})]}),b.jsxs("nav",{className:"flex-1 space-y-2 overflow-y-auto custom-scrollbar",children:[b.jsxs(o_,{to:"/dashboard",className:"w-full flex items-center gap-3 px-4 py-3 rounded-2xl text-[11px] font-black uppercase text-slate-500 hover:bg-slate-50 transition-all",children:[b.jsx(Lv,{size:18})," Kembali ke Dashboard"]}),b.jsxs("div",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-2xl text-[11px] font-black uppercase bg-sky-600 text-white shadow-lg shadow-sky-100",children:[b.jsx(vC,{size:18})," Pohon Industri"]}),b.jsxs("div",{className:"pt-8 px-2 border-t border-slate-50 mt-4",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-800",children:[b.jsx(iV,{size:14,className:"text-slate-400"}),b.jsx("h2",{className:"text-[10px] font-black uppercase tracking-widest",children:"Navigasi Detail Produk"})]}),b.jsxs("div",{className:"relative group",children:[b.jsx(z_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-sky-500 transition-colors",size:14}),b.jsx("input",{type:"text",placeholder:"Cari HS / Nama...",className:"w-full pl-9 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-xl text-[10px] font-bold outline-none focus:ring-2 focus:ring-sky-100 focus:bg-white transition-all shadow-inner",value:i,onChange:T=>a(T.target.value)})]}),b.jsx("div",{className:"mt-4 space-y-1 max-h-[35vh] overflow-y-auto pr-1",children:i&&n.filter(T=>{var A,C;return((A=T.Product_Name)==null?void 0:A.toLowerCase().includes(i.toLowerCase()))||((C=T.Harmony_ID)==null?void 0:C.toString().toLowerCase().includes(i.toLowerCase()))}).map(T=>b.jsxs("button",{onClick:()=>P(T),className:"w-full text-left p-3 rounded-xl hover:bg-sky-50 group transition-all border border-transparent hover:border-sky-100",children:[b.jsx("p",{className:"text-[10px] font-black text-slate-700 uppercase leading-none group-hover:text-sky-700",children:T.Product_Name}),b.jsxs("p",{className:"text-[8px] font-bold text-slate-400 mt-1 uppercase",children:["HS ",T.Harmony_ID]})]},T.Harmony_ID))})]})]}),b.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-50",children:[b.jsxs("div",{onClick:()=>t("/profile"),className:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl mb-4 cursor-pointer hover:bg-slate-100 transition-colors group",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-sky-600 flex items-center justify-center text-white font-black text-sm uppercase",children:((M=(p==null?void 0:p.nama)||(p==null?void 0:p.email))==null?void 0:M.charAt(0).toUpperCase())||"U"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-black text-slate-800 uppercase truncate max-w-[120px]",children:(p==null?void 0:p.nama)||"User"}),b.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase leading-none",children:"Lihat Profile"})]})]}),b.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 p-3 text-slate-400 hover:text-red-600 font-bold text-xs uppercase transition-colors",children:[b.jsx(aV,{size:18})," Logout Portal"]})]})]}),b.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden relative",children:[b.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 p-8 bg-white border-b border-slate-100 shadow-sm z-10 font-sans",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tighter uppercase mb-1 leading-none tracking-tighter",children:"Sistem Industri dan Manufaktur Berkelanjutan"}),b.jsx("p",{className:"text-slate-400 text-sm font-medium uppercase tracking-widest mt-1",children:"Update Data: 12 Jan 2026"})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{className:"bg-white border border-slate-200 p-2.5 rounded-xl text-slate-500 shadow-sm hover:bg-slate-50",children:b.jsx(Eae,{size:20})}),b.jsx("button",{className:"bg-white border border-slate-200 p-2.5 rounded-xl text-slate-500 shadow-sm hover:bg-slate-50",children:b.jsx(dse,{size:20})}),b.jsxs("button",{className:"bg-sky-600 text-white px-6 py-2.5 rounded-xl text-[10px] font-black uppercase shadow-lg shadow-sky-100 hover:bg-sky-700 transition-all font-sans tracking-wide",children:[b.jsx(yC,{size:16})," Export Report"]})]})]}),b.jsxs("div",{className:"flex-1 bg-white relative overflow-hidden font-sans",children:[g&&b.jsx(SNe,{}),b.jsxs(TI,{nodes:s,edges:u,onNodesChange:l,nodeTypes:ENe,fitView:!0,children:[b.jsx(f7,{color:"#cbd5e1",gap:30,size:1,variant:"dots"}),b.jsx(u7,{className:"bg-white shadow-2xl rounded-xl border-none ml-4 mb-4 overflow-hidden"}),b.jsx(TNe,{})]}),f&&b.jsxs("div",{className:"absolute top-10 right-10 w-85 bg-white shadow-[0_25px_60px_rgba(0,0,0,0.15)] rounded-[2.5rem] p-8 border border-slate-50 z-[100] animate-in slide-in-from-right duration-500 overflow-y-auto max-h-[85vh] custom-scrollbar",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-slate-50 pb-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[9px] font-black text-sky-600 uppercase tracking-[0.2em] mb-1",children:f.Tier}),b.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase leading-tight tracking-tight",children:f.Product_Name})]}),b.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors group",children:b.jsx(uV,{size:20,className:"text-slate-400"})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-6 bg-emerald-50 rounded-[2rem] border border-emerald-100",children:[b.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase mb-2 tracking-widest",children:"Total Ekspor (USD)"}),b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black text-emerald-700 font-sans",children:[b.jsx(xae,{size:22,className:"text-emerald-500"})," $",Number(f.Downstream_Export||0).toLocaleString("de-DE")]})]}),b.jsxs("div",{className:"p-6 bg-red-50 rounded-[2rem] border border-red-100",children:[b.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase mb-2 tracking-widest",children:"Total Impor (USD)"}),b.jsxs("div",{className:"flex items-center gap-3 text-2xl font-black text-red-700 font-sans",children:[b.jsx("span",{className:"text-red-400 font-bold font-sans tracking-widest",children:""})," $",Number(f.Downstream_Import||0).toLocaleString("de-DE")]})]})]})]})]})]})]})},CNe=()=>b.jsx(SI,{children:b.jsx(ANe,{})}),NNe=({id:e,data:t})=>{const n=l=>l.stopPropagation(),r=t.status==="saved",[i,a]=v.useState(!1),s=v.useMemo(()=>{const l=(t.Parent_ID||"").toLowerCase();return!l||l==="root"||!t.registry?[]:t.registry.filter(u=>{var c,f;return((c=u.Harmony_ID)==null?void 0:c.toLowerCase().includes(l))||((f=u.Product_Name)==null?void 0:f.toLowerCase().includes(l))}).slice(0,5)},[t.Parent_ID,t.registry]),o=l=>{l.target.value==="0"&&(l.target.value="")};return b.jsxs("div",{className:`bg-white border-2 p-10 w-[600px] shadow-2xl rounded-[2.5rem] nowheel transition-all duration-500 ${r?"border-emerald-400":"border-dashed border-sky-400"}`,children:[b.jsx(Fo,{type:"target",position:ce.Left,className:"w-4 h-4 bg-sky-400 border-4 border-white shadow-md"}),b.jsxs("div",{className:"flex justify-between mb-8 border-b border-sky-50 pb-6 cursor-grab",children:[b.jsxs("div",{className:"flex items-center gap-3 text-sky-600",children:[b.jsx("div",{className:`p-2 rounded-xl shadow-sm ${r?"bg-emerald-50 text-emerald-600":"bg-sky-50"}`,children:b.jsx(L_,{size:22})}),b.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Industrial Node Registry"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase flex items-center gap-1.5 shadow-sm ${r?"bg-emerald-50 text-emerald-600":"bg-sky-50 text-sky-600"}`,children:[r?b.jsx(rV,{size:12}):b.jsx(Mae,{size:12})," ",r?"Synchronized":"Draft"]}),b.jsx("button",{onClick:t.onDelete,className:"nodrag p-2 text-slate-300 hover:text-rose-500 transition-colors",children:b.jsx(oV,{size:16})})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{className:"col-span-2 space-y-4",children:[b.jsxs("div",{className:"relative",children:[b.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase mb-2 block ml-1 flex items-center gap-2",children:[b.jsx(sV,{size:12,className:"text-sky-500"})," Parent Harmony ID"]}),b.jsx("input",{type:"text",className:"nodrag w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl text-xs font-bold focus:ring-4 focus:ring-sky-50 transition-all shadow-inner",placeholder:"Search HS Code...",value:t.Parent_ID||"",onKeyDown:n,onFocus:()=>a(!0),onBlur:()=>setTimeout(()=>a(!1),200),onChange:l=>t.onInputChange(e,"Parent_ID",l.target.value)}),i&&s.length>0&&b.jsx("div",{className:"absolute z-[200] w-full mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in slide-in-from-top-2",children:s.map(l=>b.jsxs("button",{onClick:()=>t.onInputChange(e,"Parent_ID",l.Harmony_ID),className:"w-full p-4 text-left hover:bg-sky-50 flex items-center justify-between border-b border-slate-50 last:border-0 transition-colors",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase",children:l.Product_Name}),b.jsx("p",{className:"text-[8px] font-bold text-sky-600 font-mono",children:l.Harmony_ID})]}),b.jsxs("span",{className:"text-[8px] font-black bg-slate-100 px-2 py-1 rounded text-slate-400",children:["MULTIPLIER: ",Number(l.Origin_Score_Value||0).toFixed(2),"x"]})]},l.Harmony_ID))})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase mb-2 block ml-1",children:"Product Name"}),b.jsx("input",{type:"text",className:"nodrag w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl text-xs font-bold",value:t.Product_Name||"",onKeyDown:n,onChange:l=>t.onInputChange(e,"Product_Name",l.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase mb-2 block ml-1",children:"Harmony ID (Unique)"}),b.jsx("input",{type:"text",className:"nodrag w-full p-4 bg-slate-50 border border-slate-100 rounded-2xl text-xs font-bold",value:t.Harmony_ID||"",onKeyDown:n,onChange:l=>t.onInputChange(e,"Harmony_ID",l.target.value)})]})]})]}),b.jsxs("div",{className:"col-span-2 bg-slate-50 p-6 rounded-[2rem] border border-slate-100 space-y-6",children:[b.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 pb-3",children:[b.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-black text-[10px] uppercase tracking-widest",children:[b.jsx(Aae,{size:16})," Value-Added Score"]}),b.jsxs("div",{className:"bg-sky-600 text-white px-3 py-1.5 rounded-lg flex items-center gap-1.5 shadow-lg shadow-sky-100",children:[b.jsx(cV,{size:10,fill:"white"}),b.jsxs("span",{className:"text-[10px] font-black tracking-tighter",children:["LOCAL STEP: ",Number(t.Step_Score_Value||0).toFixed(6)]})]})]}),b.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:["Upstream_Export","Upstream_Import","Downstream_Export","Downstream_Import","Step_Score_Coefficient","Origin_Score_Value"].map(l=>b.jsxs("div",{children:[b.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase mb-1 block",children:l.replace(/_/g," ")}),b.jsx("input",{type:"number",step:"0.00001",className:"nodrag w-full p-3 bg-white border border-slate-200 rounded-xl text-xs font-bold shadow-sm",value:t[l]??0,onKeyDown:n,onFocus:o,onChange:u=>t.onInputChange(e,l,u.target.value)})]},l))})]})]}),b.jsxs("button",{onClick:t.onSave,className:`nodrag w-full mt-10 py-5 rounded-[1.5rem] font-black text-[11px] uppercase tracking-[0.3em] transition-all active:scale-95 flex items-center justify-center gap-3 shadow-2xl ${r?"bg-emerald-600 text-white":"bg-slate-900 text-white hover:bg-sky-600"}`,children:[b.jsx(ose,{size:18})," ",r?"Synchronize All Tiers":"Finalize Production Node"]}),b.jsx(Fo,{type:"source",position:ce.Right,className:"w-4 h-4 bg-sky-400 border-4 border-white shadow-md"})]})},INe=v.memo(NNe),ONe={editable:INe,industrial:d7},PNe=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!1),[i,a,s]=s7([{id:`node-${Date.now()}`,type:"editable",position:{x:150,y:150},data:{status:"draft",Tier:"",Parent_ID:"",Product_Name:"New Industrial Entity",Harmony_ID:"",Process_Name:"",Upstream_Export:0,Upstream_Import:0,Downstream_Export:0,Downstream_Import:0,Step_Score_Coefficient:1,Step_Score_Value:0,Origin_Score_Value:0}}]),[o,l,u]=o7([]),[c,f]=v.useState(null);v.useEffect(()=>{const E=Yh(tp,"/produk/");return Gz(E,S=>{const P=S.val();P&&t(Array.isArray(P)?P.filter(M=>M!==null):Object.values(P))})},[]);const d=E=>{const S=Number(E.Upstream_Export||0),P=Number(E.Downstream_Export||0),M=Number(E.Step_Score_Coefficient||1);return S===0?M:P/S*M},p=v.useCallback(()=>{const E=`node-${Date.now()}`;a(S=>{var P;return S.concat({id:E,type:"editable",position:{x:100,y:100},data:{...(P=S[0])==null?void 0:P.data,status:"draft",Harmony_ID:"",Product_Name:"New Product"}})})},[a]),m=v.useCallback(E=>{const S=i.find(M=>M.id===E.source),P=i.find(M=>M.id===E.target);f({...E,sourceName:(S==null?void 0:S.data.Product_Name)||"Node A",targetName:(P==null?void 0:P.data.Product_Name)||"Node B"})},[i]),g=(E,S)=>{var C;if(!c)return;const P=E==="normal",M=P?c.source:c.target,T=P?c.target:c.source,A=((C=i.find(I=>I.id===M))==null?void 0:C.data.Harmony_ID)||"PENDING";l(I=>TH({id:`e-${M}-${T}`,source:M,target:T,animated:S==="feedback",style:{stroke:E==="normal"?"#38bdf8":"#10b981",strokeWidth:3},markerEnd:{type:xp.ArrowClosed,color:E==="normal"?"#38bdf8":"#10b981"}},I)),a(I=>I.map(O=>O.id===T?{...O,data:{...O.data,Parent_ID:A}}:O)),f(null)},_=v.useCallback((E,S,P)=>{a(M=>M.map(T=>{if(T.id===E){let A=P;["Upstream_Export","Upstream_Import","Downstream_Export","Downstream_Import","Step_Score_Coefficient","Origin_Score_Value"].includes(S)&&(P===""?A=0:A=parseFloat(P));const I={...T.data,[S]:A};return["Upstream_Export","Downstream_Export","Step_Score_Coefficient"].includes(S)&&(I.Step_Score_Value=d(I)),{...T,data:I}}return T}))},[a]),y=async E=>{const S=i.find(M=>M.id===E);if(!S||!S.data.Harmony_ID)return alert("Harmony ID wajib diisi.");let P=Number(S.data.Step_Score_Value||0);if(S.data.Parent_ID&&S.data.Parent_ID.toUpperCase()!=="ROOT"){const M=e.find(T=>T.Harmony_ID===S.data.Parent_ID);M&&(P*=Number(M.Origin_Score_Value||1))}try{r(!0);const M=S.data.Harmony_ID.replace(/\./g,"_"),T=Yh(tp,`/produk/${M}`),A={...S.data,Origin_Score_Value:P,status:"saved"};delete A.onInputChange,delete A.onSave,delete A.onDelete,delete A.registry,await Zte(T,A),a(C=>C.map(I=>I.id===E?{...I,data:{...I.data,status:"saved",Origin_Score_Value:P}}:I)),alert("Database Synced!")}catch(M){alert(M.message)}finally{r(!1)}},x=v.useMemo(()=>i.map(E=>E.type==="editable"?{...E,data:{...E.data,onInputChange:_,onSave:()=>y(E.id),onDelete:()=>a(S=>S.filter(P=>P.id!==E.id)),registry:e}}:E),[i,_,e]);return b.jsxs("div",{className:"h-screen w-full bg-slate-50 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 bg-white/90 backdrop-blur-md p-3 rounded-3xl shadow-2xl border border-slate-100",children:b.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-6 py-3 bg-sky-600 hover:bg-sky-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all",children:[b.jsx(CE,{size:16})," Add Industrial Node"]})}),c&&b.jsx("div",{className:"absolute inset-0 z-[1100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl border border-slate-100 max-w-lg w-full",children:[b.jsx(yae,{size:32,className:"text-sky-600 mb-6"}),b.jsx("h3",{className:"text-lg font-black uppercase tracking-widest mb-2",children:"Relasi Alur"}),b.jsxs("p",{className:"text-[10px] text-slate-400 mb-8 uppercase tracking-widest",children:[c.sourceName,"  ",c.targetName]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("button",{onClick:()=>g("normal","main"),className:"py-4 bg-sky-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-sky-100",children:"Normal"}),b.jsx("button",{onClick:()=>g("inverted","main"),className:"py-4 bg-emerald-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-100",children:"Inverted"})]}),b.jsx("button",{onClick:()=>f(null),className:"w-full mt-6 text-slate-400 text-[10px] font-black uppercase underline",children:"Batal"})]})}),n&&b.jsx("div",{className:"absolute inset-0 z-[1000] bg-white/60 flex items-center justify-center",children:b.jsx(Jp,{className:"animate-spin text-sky-600",size:48})}),b.jsxs(TI,{nodes:x,edges:o,onNodesChange:s,onEdgesChange:u,onConnect:m,nodeTypes:ONe,fitView:!0,children:[b.jsx(f7,{variant:"dots",gap:20,color:"#cbd5e1"}),b.jsx(u7,{})]})]})},kNe=()=>{const e=Sf(),[t,n]=v.useState([]),[r,i]=v.useState([]),[a,s]=v.useState(null),[o,l]=v.useState(null),[u,c]=v.useState({message:"",type:""}),[f,d]=v.useState(null),[p,m]=v.useState("pohonIndustri"),[g,_]=v.useState(""),[y,x]=v.useState(!1);v.useEffect(()=>{const I=async()=>{x(!0);const k=await E();k&&n(k),x(!1)},O=sessionStorage.getItem("user");O&&(d(JSON.parse(O)),I())},[]);const E=async()=>{try{const I=Yh(tp,"/produk/"),O=await qz(I);if(O.exists()){const k=O.val(),R=Object.entries(k).map(([D,z])=>({id:D,...z}));return console.log("Formatted dataList:",R),R}else return[]}catch(I){return console.error("Error fetching data:",I.message),c({message:`RTDB Fetch Error: ${I.message}`,type:"error"}),[]}},S=I=>{const O=I.target.files[0];if(O){s(O),c({message:"File selected. Reading file...",type:"info"});const k=new FileReader;k.onload=async R=>{const D=R.target.result;try{const z=JSON.parse(D);i(Array.isArray(z)?z:[z]),c({message:"Preview ready. Please confirm to import.",type:"info"})}catch(z){c({message:`Error parsing JSON file: ${z.message}`,type:"error"}),i([])}},k.readAsText(O)}},P=I=>{const O=I.target.files[0];O&&(l(O),c({message:"SQL file selected. Ready to import.",type:"info"}))},M=async()=>{if(r.length===0){c({message:"No data to import.",type:"warning"});return}x(!0);const I=aae(Ok);r.forEach(O=>{if(!O.cmdCode)return;const k=O.cmdCode.toString();let R="ROOT";k.startsWith("7219")||k.startsWith("7220")?R="7218":k.startsWith("7304")||k.startsWith("7306")?R="7219":k.startsWith("7214")||k.startsWith("7216")?R="7206":(k==="7206"||k==="7218")&&(R="7201");const D=U=>{if(typeof U!="string")return U;const F=U.replace(/\./g,"").replace(",","."),Y=parseFloat(F);return isNaN(Y)?0:Y},z=O["Product Name"]||O[`Product
Name`],L=O["fobvalue (US$)"]||O[`fobvalue
(US$)`],V=O["Unit Value (US$/ton)"]||O[`Unit
Value (US$/ton)`],B=Fie(Ok,"pohon_industri",k);I.set(B,{...O,name:z,fobValue:D(L),unitValue:D(V),parentId:R,cmdCode:k})});try{await I.commit(),c({message:"Database Berhasil Diperbarui!",type:"success"}),s(null),i([]);const O=await E();n(O)}catch(O){c({message:`Error updating database: ${O.message}`,type:"error"})}finally{x(!1)}},T=()=>{if(!o){c({message:"No SQL file selected.",type:"warning"});return}const I=new FileReader;I.onload=O=>{const k=O.target.result,R=getConnection();R.connect(D=>{if(D){c({message:`Error connecting to database: ${D.message}`,type:"error"});return}R.query(k,z=>{if(z){c({message:`Error importing SQL: ${z.message}`,type:"error"}),R.end();return}c({message:"SQL database imported successfully!",type:"success"}),R.end()})})},I.readAsText(o)},A=()=>{if(t.length===0){c({message:"No data to export.",type:"warning"});return}const I=JSON.stringify(t,null,2),O=new Blob([I],{type:"application/json;charset=utf-8;"}),k=document.createElement("a");k.href=URL.createObjectURL(O),k.download=`pohon_industri_export_${new Date().getTime()}.json`,k.click(),c({message:"Data exported successfully!",type:"success"})},C=(I,O)=>{const k=I.filter(R=>{var D,z;return((D=R.Product_Name)==null?void 0:D.toLowerCase().includes(g.toLowerCase()))||((z=R.Harmony_ID)==null?void 0:z.toLowerCase().includes(g.toLowerCase()))});return b.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden mt-8 transition-all",children:[b.jsxs("div",{className:"px-10 py-8 border-b border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-6 bg-slate-50/30",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-10 h-10 bg-white rounded-xl shadow-sm flex items-center justify-center text-sky-600",children:b.jsx(iV,{size:20})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-slate-700",children:O}),b.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:[k.length," Validated Entries"]})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx(z_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),b.jsx("input",{type:"text",placeholder:"Search Registry...",className:"pl-12 pr-6 py-3 bg-white border border-slate-200 rounded-2xl text-xs font-bold outline-none focus:ring-4 focus:ring-sky-50 w-full md:w-80 transition-all border-dashed hover:border-sky-200",value:g,onChange:R=>_(R.target.value)})]})]}),b.jsx("div",{className:"overflow-x-auto",children:k.length>0?b.jsxs("table",{className:"min-w-full divide-y divide-slate-100",children:[b.jsx("thead",{className:"bg-slate-50/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"HS Harmony ID"}),b.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Product Entity"}),b.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Tier"}),b.jsx("th",{className:"px-10 py-5 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Parent ID"}),b.jsx("th",{className:"px-10 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Action"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-50 bg-white",children:k.slice(0,50).map((R,D)=>{var z,L,V;return b.jsxs("tr",{className:"hover:bg-sky-50/20 transition-colors group",children:[b.jsx("td",{className:"px-10 py-5",children:b.jsx("span",{className:"font-mono text-[10px] font-black text-sky-600 bg-sky-50 px-3 py-1.5 rounded-lg border border-sky-100",children:((z=R.Harmony_ID)==null?void 0:z.split("_")[0])||R.cmdCode})}),b.jsx("td",{className:"px-10 py-5",children:b.jsx("p",{className:"text-xs font-bold text-slate-700 uppercase tracking-tight",children:R.Product_Name||R.name})}),b.jsx("td",{className:"px-10 py-5",children:b.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-md uppercase ${(L=R.Tier)!=null&&L.includes("Tier 1")?"bg-emerald-50 text-emerald-600":"bg-slate-50 text-slate-500"}`,children:((V=R.Tier)==null?void 0:V.split(" (")[0])||"Unclassified"})}),b.jsx("td",{className:"px-10 py-5",children:b.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase italic",children:R.Parent_ID||R.parentId||"ROOT"})}),b.jsx("td",{className:"px-10 py-5 text-right",children:b.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{className:"p-2.5 hover:bg-white hover:shadow-md rounded-xl text-slate-400 hover:text-sky-600 transition-all border border-transparent hover:border-slate-100",children:b.jsx(ise,{size:16})}),b.jsx("button",{className:"p-2.5 hover:bg-white hover:shadow-md rounded-xl text-slate-400 hover:text-rose-600 transition-all border border-transparent hover:border-slate-100",children:b.jsx(oV,{size:16})})]})})]},D)})})]}):b.jsxs("div",{className:"py-24 flex flex-col items-center justify-center text-slate-300",children:[b.jsx(hy,{size:48,strokeWidth:1,className:"mb-4 opacity-20"}),b.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:"Dataset matches zero records"})]})})]})};return f?b.jsxs("div",{className:"min-h-screen bg-[#f8fafc] p-10 font-sans selection:bg-sky-100 selection:text-sky-900",children:[b.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center mb-14 gap-8",children:[b.jsxs("div",{className:"text-center md:text-left",children:[b.jsxs("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase leading-none mb-3",children:["Admin ",b.jsx("span",{className:"text-sky-600 underline decoration-sky-100 underline-offset-8",children:"Console"})]}),b.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.4em] ml-1",children:"Portal Manajemen Data Industri BRIN"})]}),b.jsxs(o_,{to:"/dashboard",className:"flex items-center gap-3 bg-white border border-slate-200 hover:border-sky-300 text-slate-600 hover:text-sky-600 font-black text-[10px] uppercase tracking-widest py-4 px-10 rounded-[2rem] shadow-sm transition-all hover:shadow-sky-100 active:scale-95",children:[b.jsx(mae,{size:16})," Hub Dashboard"]})]}),b.jsxs("div",{className:"max-w-7xl mx-auto",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-12",children:[b.jsxs("div",{className:"lg:col-span-3 bg-white p-10 rounded-[3rem] border border-slate-100 flex flex-col md:flex-row items-center gap-10 shadow-sm relative overflow-hidden group",children:[b.jsx("div",{className:"w-20 h-20 bg-sky-50 rounded-[2rem] flex items-center justify-center text-sky-600 group-hover:scale-110 transition-transform duration-500",children:b.jsx(Sse,{size:32})}),b.jsxs("div",{className:"flex-1 text-center md:text-left z-10",children:[b.jsx("h3",{className:"text-lg font-black uppercase text-slate-800 mb-2 tracking-tight",children:"Sync Master Database"}),b.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider leading-relaxed",children:"Update massal dataset pohon industri menggunakan file JSON terstruktur."})]}),b.jsxs("div",{className:"flex items-center gap-4 z-10",children:[b.jsxs("label",{className:"cursor-pointer bg-slate-900 text-white px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl shadow-slate-100",children:["Select File",b.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:S})]}),b.jsx("button",{onClick:M,disabled:!r.length||y,className:"bg-sky-600 disabled:bg-slate-100 disabled:text-slate-400 text-white px-8 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-sky-100 transition-all active:scale-95 flex items-center gap-2",children:y?b.jsx(Jp,{size:14,className:"animate-spin"}):"Commit Sync"})]}),b.jsx("div",{className:"absolute -right-20 -top-20 w-64 h-64 bg-slate-50 rounded-full opacity-50 group-hover:scale-110 transition-transform"})]}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("button",{onClick:()=>e("/input-node"),className:"flex-1 bg-slate-900 p-6 rounded-[2rem] flex items-center gap-4 group transition-all hover:bg-sky-600 shadow-xl",children:[b.jsx(vC,{size:24,className:"text-sky-400 group-hover:text-white transition-all"}),b.jsx("span",{className:"text-[10px] font-black uppercase text-white tracking-[0.2em]",children:"Visual Input"})]}),b.jsxs("div",{className:"flex-1 bg-orange-500 p-6 rounded-[2rem] flex flex-col justify-center relative overflow-hidden group",children:[b.jsxs("label",{className:"cursor-pointer flex items-center gap-4",children:[b.jsx(Mk,{size:24,className:"text-white group-hover:rotate-12 transition-transform"}),b.jsx("span",{className:"text-[10px] font-black uppercase text-white tracking-[0.2em]",children:"SQL Import"}),b.jsx("input",{type:"file",accept:".sql",className:"hidden",onChange:P})]}),o&&b.jsx("button",{onClick:T,className:"mt-2 text-[8px] font-black text-white underline uppercase",children:"Run Migration"})]})]})]}),b.jsxs("div",{className:"mb-10 flex gap-3 overflow-x-auto pb-4 no-scrollbar",children:[[{id:"pohonIndustri",label:"Hierarchy Nodes",icon:b.jsx(L_,{size:14})},{id:"paten",label:"Patent Registry",icon:b.jsx(Uae,{size:14})},{id:"publication",label:"Research Publication",icon:b.jsx(Mk,{size:14})}].map(I=>b.jsxs("button",{onClick:()=>m(I.id),className:`flex items-center gap-3 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all whitespace-nowrap ${p===I.id?"bg-sky-600 text-white shadow-2xl shadow-sky-200":"bg-white text-slate-400 border border-slate-100 hover:border-sky-200 hover:text-sky-600 shadow-sm"}`,children:[I.icon," ",I.label]},I.id)),b.jsxs("button",{onClick:A,className:"ml-auto flex items-center gap-2 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] bg-white border border-emerald-100 text-emerald-600 hover:bg-emerald-50 transition-all shadow-sm",children:[b.jsx(yC,{size:14})," Backup Master"]})]}),b.jsxs("div",{className:"pb-20",children:[p==="pohonIndustri"&&b.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[u.message&&b.jsxs("div",{className:`mb-8 p-6 rounded-[2rem] flex items-center gap-4 border animate-in slide-in-from-top duration-500 ${u.type==="success"?"bg-emerald-50 border-emerald-100 text-emerald-700":u.type==="error"?"bg-rose-50 border-rose-100 text-rose-700":"bg-sky-50 border-sky-100 text-sky-700"}`,children:[u.type==="success"?b.jsx(rV,{size:24}):b.jsx(hy,{size:24}),b.jsx("p",{className:"text-xs font-black uppercase tracking-widest",children:u.message})]}),r.length>0&&C(r,"Import Buffer Preview"),C(t,"Live Production Dataset")]}),p==="paten"&&b.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:b.jsx(PatentManagement,{})}),p==="publication"&&b.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:b.jsx(PublicationManagement,{})})]})]})]}):b.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-8",children:b.jsxs("div",{className:"bg-white p-12 rounded-[3rem] shadow-xl border border-slate-100 text-center max-w-md",children:[b.jsx(hy,{size:64,className:"text-rose-500 mx-auto mb-6"}),b.jsx("h1",{className:"text-2xl font-black text-slate-900 uppercase mb-4 tracking-tighter",children:"Access Denied"}),b.jsx("p",{className:"text-slate-500 font-medium mb-8",children:"You must be authorized to access the Data Management Center. Please verify your credentials."}),b.jsx("button",{onClick:()=>e("/login"),className:"w-full py-4 bg-sky-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg shadow-sky-100",children:"Return to Security Hub"})]})})},RNe=()=>{const e=Sf(),t=vs(),[n,r]=v.useState(!1),[i,a]=v.useState(!0);v.useEffect(()=>{const l=UQ(SE,u=>{u?(r(!0),sessionStorage.setItem("isLoggedIn","true")):(r(!1),sessionStorage.clear()),a(!1)});return()=>l()},[]);const s=async()=>{await SE.signOut(),sessionStorage.clear(),e("/")},o=t.pathname==="/"||t.pathname==="/login";return i?b.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-slate-50",children:[b.jsx(Jp,{className:"w-10 h-10 text-blue-900 animate-spin mb-4"}),b.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400",children:"Verifying Credentials..."})]}):b.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans",children:[!o&&b.jsx(Nse,{onLogout:s}),b.jsxs("main",{className:`flex-1 flex flex-col ${o?"":"ml-64"}`,children:[!o&&b.jsxs("header",{className:"h-20 bg-white/70 backdrop-blur-xl border-b border-slate-200 sticky top-0 z-40 px-10 flex items-center justify-between",children:[b.jsxs("div",{className:"relative w-full max-w-lg",children:[b.jsx(z_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),b.jsx("input",{type:"text",placeholder:"Cari data industri...",className:"w-full bg-slate-100/50 border border-slate-200 rounded-2xl py-2.5 px-12 text-sm font-bold"})]}),b.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer",children:[b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-sm font-black text-slate-900 leading-none",children:"Analis Nusantara"}),b.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Authorized Access"})]}),b.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg border-2 border-white overflow-hidden",children:b.jsx(lV,{size:24})})]})]}),b.jsx("div",{className:`flex-1 ${o?"":"p-10"} ${t.pathname==="/pohon-industri"?"!p-0":""}`,children:b.jsxs(EY,{children:[b.jsx(Wi,{path:"/",element:b.jsx(sEe,{onStartTracking:()=>e(n?"/dashboard":"/login"),onLogin:()=>e("/login")})}),b.jsx(Wi,{path:"/login",element:b.jsx(aEe,{onLogin:()=>r(!0),onGoToDashboard:()=>e("/dashboard")})}),b.jsx(Wi,{path:"/dashboard",element:n?b.jsx(E1e,{}):b.jsx(sl,{to:"/login",replace:!0})}),b.jsx(Wi,{path:"/pohon-industri",element:n?b.jsx(CNe,{}):b.jsx(sl,{to:"/login",replace:!0})}),b.jsx(Wi,{path:"/input-node",element:n?b.jsx(PNe,{}):b.jsx(sl,{to:"/login",replace:!0})}),b.jsx(Wi,{path:"/ai-consultant",element:n?b.jsx(iEe,{}):b.jsx(sl,{to:"/login",replace:!0})}),b.jsx(Wi,{path:"/info-center",element:n?b.jsx(S1e,{}):b.jsx(sl,{to:"/login",replace:!0})}),b.jsx(Wi,{path:"/data-management",element:n?b.jsx(kNe,{}):b.jsx(sl,{to:"/login",replace:!0})}),b.jsx(Wi,{path:"*",element:b.jsx(sl,{to:"/",replace:!0})})]})})]})]})},d4=document.getElementById("root");d4&&AK.createRoot(d4).render(b.jsx(K.StrictMode,{children:b.jsx(KY,{children:b.jsx(RNe,{})})}));
